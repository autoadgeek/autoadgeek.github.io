
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    

   <meta charset="utf-8">

<meta name="viewport" content="width=device-width,initial-scale=1">

  <meta name="description" content="构建一个可扩展的高质量 Nextjs 项目">


  <link rel="canonical" href="https://geek.digiasset.org/pages/NextJS/project-practice-nextjs-best_23Sep24103355978064/">


<link rel="shortcut icon" href="/assets/images/favicon.png">

    
      
        <title>创建 Next.js 项目 - 广告流程自动化</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.d451bc0e.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.a5377069.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-HS6FYDNKSV"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-HS6FYDNKSV",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-HS6FYDNKSV",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
    <script async src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script>
    <!-- <script async src="https://cdn.bootcdn.net/ajax/libs/mathjax/3.2.0/es5/tex-mml-chtml.js"></script>-->
    
    
    
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8439028908045923"
         crossorigin="anonymous"></script>
    

  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="green" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#nextjs" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../../.." title="广告流程自动化" class="md-header__button md-logo" aria-label="广告流程自动化" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            广告流程自动化
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              创建 Next.js 项目
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="green" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="blue" data-md-color-accent="blue"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
</form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../python/" class="md-tabs__link">
          
  
  Python

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../html5/" class="md-tabs__link">
          
  
  HTML5/CSS/VUE

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../ml/matrix/" class="md-tabs__link">
          
  
  机器学习

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../mathbasic/mean-formula-exponential-distribution_21Mar04200956862982/" class="md-tabs__link">
          
  
  数学基础

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../nlp/nlp/" class="md-tabs__link">
          
  
  自然语言处理

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../affiliate/seo_competitor_analyze/" class="md-tabs__link">
          
  
  广告程序化

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../affiliate/long-tail-keywords-in-article/" class="md-tabs__link">
          
  
  网站SEO优化

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../rpa/tool-reptile-mobile-method-introduction_21Oct26195529728646/" class="md-tabs__link">
          
  
  自动化与爬虫

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../quant/" class="md-tabs__link">
          
  
  量化

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../medicine/classification_hepatoprotective_drugs_usage/" class="md-tabs__link">
          
  
  其他知识

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../about/" class="md-tabs__link">
          
  
  关于

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="广告流程自动化" class="md-nav__button md-logo" aria-label="广告流程自动化" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    广告流程自动化
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Python
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Python
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../python/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    python 基础教程
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../python/pytutorial/python-lexicalstructure/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python 语法结构
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../python/pytutorial/python-datatypes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python 数据类型
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../python/pytutorial/python-strings/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python 字符串
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../python/pytutorial/python-fstring/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python f 字符串
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../python/pytutorial/python-lists/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python 列表
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../python/pytutorial/python-dictionaries/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python 字典
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../python/pytutorial/python-set/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python 集合
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../python/pytutorial/python-map/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python 映射
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../python/pytutorial/python-operators/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python 运算符
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../python/pytutorial/python-keywords/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python 关键字
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../python/pytutorial/python-forloop/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python for 循环
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../python/pytutorial/python-itergener/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python 迭代器和生成器
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../python/pytutorial/python-listcomprehensions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python 列表推导式
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../python/pytutorial/python-reverse/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python 反转
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../python/pytutorial/python-functions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python 函数
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../python/pytutorial/python-regularexpressions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python 正则表达式
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../python/pytutorial/python-oop/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python 面向对象编程
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../python/pytutorial/python-modules/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python 模块
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../python/pytutorial/python-packages/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python 中的软件包
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../python/pytutorial/python-exceptions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python 异常
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../python/pytutorial/python-introspection/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python 自省
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../python/pytutorial/python-lambda/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python Lambda 函数
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../python/pytutorial/python-logging/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python 日志教程
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../python/pytutorial/python-simplejson/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python JSON 教程
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../python/pytutorial/python-faker/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python Faker 教程
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../python/pytutorial/python-feedparser/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python feedparser 教程
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../python/pytutorial/python-bcrypt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python bcrypt 教程
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../python/pytutorial/python-socket/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python 套接字教程
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../python/pytutorial/python-smtplib/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python smtplib 教程
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../python/pytutorial/python-yaml/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python YAML 教程
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../python/pytutorial/python-hashing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python 哈希教程
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../python/pytutorial/python-configparser/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python ConfigParser 教程
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../python/pytutorial/python-argparse/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python argparse 教程
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../python/pytutorial/python-sqlite/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python SQLite 教程
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../python/pytutorial/python-cerberus/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python Cerberus 教程
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../python/pytutorial/python-pymysql/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python PyMySQL 教程
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../python/pytutorial/python-peewee/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python Peewee 教程
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../python/pytutorial/python-pydal/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python pyDAL 教程
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../python/pytutorial/python-pytest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python Pytest 单元测试教程
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../python/pytutorial/python-beautifulsoup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    BeautifulSoup 教程
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../python/pytutorial/python-pyquery/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python pyquery 教程
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../python/pytutorial/python-sympy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SymPy 教程
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../python/pytutorial/python-pandas/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pandas 教程
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../python/pytutorial/python-matplotlib/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Matplotlib 教程
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../python/pytutorial/python-pillow/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pillow 教程
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../python/pytutorial/python-ftp/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python FTP 教程
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../python/pytutorial/python-requests/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python Requests 教程
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../python/pytutorial/python-arrow/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python Arrow 教程
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../python/pytutorial/python-magicmethods/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python 魔术方法
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../python/pytutorial/python-run-job-orchestrator/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    python Uipath Orchestrator Cloud API 教程
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../python/pytutorial/calculate-calculus-newton-iteration-solve-high-order-equations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    用python算微积分及牛顿迭代求解高阶方程
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../python/pytutorial/py-setuptools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python打包分发工具setuptools
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../python/pytutorial/python-processing-modules-handy-dandy-da_21Apr13181713428312/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    用于数据处理的Python工具(Numerizer,Faker,Missingno,emot,Arrow)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../python/pytutorial/single-line-file-tables-python-extract-c_21Apr21115440307019/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    用 Python Camelot从 PDF 文件中提取表格
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../python/pytutorial/ipiprequestsscrapy_downdawn-csdn_21Oct18105139565977/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    多ip服务器绑定ip发送请求（requests和scrapy）
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../python/pytutorial/workers-threadpoolexecutor-configure_22May22102214296245/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ThreadPoolExecutor 如何选择最大工作线程数
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    HTML5/CSS/VUE
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            HTML5/CSS/VUE
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../html5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HTML5 教程
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../html5/html_5_intro/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HTML5 简介
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../html5/html-head/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HTML5 头部
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../html5/html_5_video/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HTML5 视频
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../html5/html-tables/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HTML5 表格
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../html5/html-images/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HTML5 图像
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../html5/html_5_geolocation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HTML5 地理定位
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../html5/html_5_webworkers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HTML5 Worker
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../html5/thinkphp-template-syntax_21Apr18100959778030/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ThinkPHP 模板语法
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../VUE/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    VUE资料目录
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    NextJS资料
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    机器学习
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            机器学习
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../ml/matrix/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    机器学习与矩阵,numpy,sklearn等工具
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../ml/sklearn/python-tsne4dimensional-reduction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python – 如何使用 t-SNE 進行降維
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../ml/basic/eigenvalue-singular-value-decomposition-pca/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    特征值分解、奇异值分解、PCA概念
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../ml/numpy/numpy-matrix-calculation-module-linalg/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Numpy中矩阵计算模块linalg的常用函数
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../mathbasic/function-relu-silent-moon-cold-gelu_-sof_21Mar05214438987767/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    深度学习的激活函数
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../ml/sklearn/training-speeding-scikit-learn-model_21Mar06152857982617/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    加快Scikit-Learn训练
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../ml/sklearn/throw-selection-data-away-feature-accura_21Apr21145323697988/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    特征选择,如何丢掉95%的数据并获得95%的准确率
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../ml/pandas/speed-pandas-line-couple-significantly-c_21May12202229315527/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    用几行代码显著加快pandas速度的6种方法
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../ml/pandas/-pandas-joblib_22Apr09101730660571/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    使用 joblib 对 Pandas 数据进行并行处理
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../ml/pandas/series-example-analysis-forecasting-time_22Apr09120943456879/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    时间序列分析和预测
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../ml/pandas/time-series-determination-analysis-trend_22Apr09135816740900/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    时间序列的趋势判断
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../ml/sklearn/imblearn-unbalanced-sample-categories-deeling/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    imblearn SMOTE算法处理样本类别不平衡
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../ml/sklearn/rating-gridsearchcv_22Apr25090121978278/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    gridSearchCV(网格搜索)的参数、方法及示例
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../ml/sklearn/recallcompleteness-accuracyaccuracy-valu_22Apr25102517019011/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    混淆矩阵、准确率、精确率/查准率、召回率/查全率、F1值、ROC曲线的AUC值
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../ml/basic/xgboost-starter-series-lecture-first_22May06135159845512/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    XGBoost介绍
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../ml/sklearn/xgboost-tutorial-start-easy_22May07104546887754/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    XGBoost 使用讲解
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../ml/sklearn/technique-nuclear-linearity-inseparable_22Sep11093830253879/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    讲解绘图与支持向量机(support vector machine)
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  <span class="md-ellipsis">
    数学基础
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            数学基础
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../mathbasic/mean-formula-exponential-distribution_21Mar04200956862982/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    指数分布公式的含义
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../mathbasic/mathematical-lesson-layout-latex-formula_21Mar05193828436946/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LaTeX 数学公式排版
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../mathbasic/statistical-python-probability-distribut_21Mar05202631292241/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    常见概率统计分布及Python实现
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../mathbasic/correlation-co-variances-variance-coeffi_21Mar07115144053588/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    期望值、方差、协方差、相关系数
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../mathbasic/explain-_softmax_21Mar10194153839999/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    softmax详解
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../mathbasic/least-squares-polynomial-curve-fitting-python/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    最小二乘法多项式曲线拟合及其python实现
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../mathbasic/loss-cross-entropy-_22Aug21144655921227/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    交叉熵损失函数一
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../mathbasic/loss-function-entropy-cross_21Mar15132523114094/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    损失函数 - 交叉熵损失函数
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../mathbasic/vector-measurement-feature-distance_21Mar17192854214137/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    向量的距离度量
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../mathbasic/whitening-deviation-variance-standard-se_21Mar17204632155755/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    协方差、PCA、样本中心化,白化、方差、标准差、BN
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../mathbasic/variance-sample-cost-reconstruction-mini_21Mar17213251482233/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    降维基础知识(样本均值、样本方差、中心矩阵)与PCA
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../mathbasic/principle-judgment-analysis-linear-summa_21Mar18175822435322/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    如何画lda投影结果_线性判别分析(LDA)原理总结
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../mathbasic/translation-matrix-interpretation-geomet_21Mar21114422593344/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    协方差矩阵的几何解释
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../mathbasic/subspace-matrix-four-connection_21Apr04201538274672/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    从sympy求最简形矩阵到矩阵的四个子空间及其联系
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../mathbasic/understanding-convolutions_21Apr05213206391248/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    了解卷积
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../mathbasic/within-vector-significance-product-geome_21Apr08174255708682/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    向量内积外积的几何意义
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../mathbasic/learning-function-deep-csdn-common-blog-_21Nov09082415645481/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    收集16个激活函数
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../mathbasic/numpy_21Dec04212656270821/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    NumPy数组的四种乘法的使用
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../mathbasic/-csdn_pandas-_-pandas_21Dec05085221730822/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    pandas 数据的归一化
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../mathbasic/used-method-data-analytical-commonly-ana_22Mar21153258903810/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    数据分析常用的9种分析方法-判断分布
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../mathbasic/maximum-likelihood-estimation-probabilit_22Aug20181839890939/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    贝叶斯估计、最大似然估计、最大后验概率估计
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
            
  
  <span class="md-ellipsis">
    自然语言处理
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            自然语言处理
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../nlp/nlp/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    自然语言处理
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../nlp/nlpinfo/nlp-new-entry/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    NLP 新手上路
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../nlp/nlpinfo/nlp-hanlp-dictionary/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    NLP HanNLP 词典分词
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../nlp/nlpinfo/ml-precision-recall/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    评价指标：准确率(Precision)、召回率(Recall)、F值(F-Measure)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../nlp/nlpinfo/keywords_extract/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    文本关键词提取
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../nlp/nlpinfo/topicextract/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    用Python从海量文本抽取主题
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../nlp/nlpinfo/nlp-tookits/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    nlp常用工具集
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../nlp/nlpinfo/hands-on-guide-to-pattern/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    NLP pattern库 hands on
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../nlp/nlpinfo/text-summarization-pretrained-ncoders/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    基于预训练模型的文本摘要
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../nlp/nlpinfo/server-less-textsummary-keywords-extract/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Serverless 实战：如何结合 NLP 实现文本摘要和关键词提取?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../nlp/nlpinfo/opensource-projects-2020list/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    开源项目，涵盖 11 类 AI 学习框架、平台
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../nlp/nlpinfo/nltk-basic/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    自然语言处理工具包之NLTK
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../nlp/nlpinfo/information-extract-basedon-rule-search-engin/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    基于规则的信息提取，搜索引擎如何检索结果：spaCy简介
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../nlp/nlpinfo/bert-text-summarizer-chinese/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    bert-extractive-summarizer 中文文章的抽取式摘要
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../nlp/nlpinfo/cnn-nlp-understand/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    理解NLP中的CNN卷积神经网络
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../nlp/nlpinfo/nlp-dependency-parsing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    依存分析与依存树 dependency parse
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../nlp/nlpinfo/keywords-auto-extract/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    关键词与文章相关性, 关键词自动标注与提取
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../nlp/nlpinfo/website-categorization-python/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python 使用 Google NLP API进行网站分类
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../nlp/nlpinfo/automated-web-crawling/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    使用 AI 自动执行 Web 爬网
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../nlp/nlpinfo/classification-of-websites-by-machine-learning/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    通过机器学习对网站进行分类
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../nlp/nlpinfo/textrank-pagerank-algorithmus/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TextRank算法简述
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../nlp/nlpinfo/extract-keywords-nltk-textrank/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    NLTK TextRank实现英文关键词提取
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../nlp/nlpinfo/extract-keywords-using-spacy-fuzzywuzzy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    使用 Spacy和 FuzzyWuzzy 构建关键字提取API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../nlp/nlpinfo/cosine-similarity-algorithm2calculate-text-similarity/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    使用余弦相似度算法计算文本相似度
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../nlp/nlpinfo/word-sentence-embed-best-technique-count_21Mar06141722360993/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    细数2018年最好的词嵌入和句嵌入技术
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../nlp/nlpinfo/text-start-multiclass-finish-classificat_21Mar06184345839969/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    从头开始多标签文本分类
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../nlp/nlpinfo/training-text-model-classification-bert_21Mar13104632238439/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    没有模型训练情况下用BERT做文本分类
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../nlp/nlpinfo/text-feature-engineering-analysis_21Mar13141607854162/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    用 NLP 做文本分析和特征工程
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../nlp/nlpinfo/using-similarity-sentence-bert-word2vec-_21Apr13202631442339/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    如何使用 BERT 和 Word2Vec 计算句子相似性
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../nlp/nlpinfo/text-similarity-measuring-bert_21May08200617801479/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    BERT用于计算句子文本相似度
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../nlp/nlpinfo/topic-modeling-interactive-bertopic_21Apr27173610787396/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    用BERTopic进行交互式主题建模
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../nlp/nlpinfo/structured-data-processing-practice20211007/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    结构化数据提取实践
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../nlp/nlpinfo/summary-long-extract-bert-article_21Oct23115502660035/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    BERT时代下的摘要提取长文总结
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../nlp/nlpex/csdn-blog-_nlp-summary_miner_zhu-summary_21Oct23175443667734/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    NLP之文章摘要
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../nlp/nlpex/gentle-introduction-to-text-summarization_ml/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    基于词频计算句子权重的文本自动摘要
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../nlp/nlpex/text-task-summarize-incomplete-auto-summ_21Oct24165632331849/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    文本自动摘要任务的“不完全”心得总结
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../nlp/nlpex/topic-entity-model-name-recognition-base_21Oct24174759876009/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    基于主题模型和命名实体识别的自动摘要方法
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../nlp/nlpinfo/word-vector-one-hotsvdnnlmword2vecglove_21Oct24183706851403/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    词向量(one-hot/SVD/NNLM/Word2Vec/GloVe)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../nlp/nlpex/practical-guide-generative-examples_21Oct25174535026003/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    NLP文本摘要实操 - 具有生成示例的实用指南
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../nlp/nlpinfo/tokenizer-spacy-extract-custom-keywords-_22Jul06185024871770/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    向 spaCy 添加指定分词器(Jieba,CKIP Transformers)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../nlp/nlpinfo/spacy-python-information-extraction_22Jul07203415699453/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    使用 Python 和 spaCy 进行信息提取简介
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../nlp/nlpex/extraction-event_22Sep08161543208256/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    事件抽取简介
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="">
            
  
  <span class="md-ellipsis">
    广告程序化
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            广告程序化
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../affiliate/seo_competitor_analyze/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    围绕SEO开展竞争对手分析
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../affiliate/select-products-from-hottrend/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Shopify独立站的几套选品方法
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../affiliate/semantic-search/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    什么是语义搜索？它是如何影响SEO的
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../affiliate/meta-description/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    如何编写完美的元描述
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../affiliate/keywords-opportunities-with-google-trends-ahrefs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    使用 Google Trend、Python 和 Ahrefs 查找关键字商机
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../affiliate/facebook-scraping-and-sentiment-analysis-with-python/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    使用 Python 进行 Facebook 抓取和情绪分析
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../affiliate/instagram-scraping-and-sentiment-analysis-with-python/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Instagram 爬虫
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../affiliate/find-search-volume-ceiling-for-keyword-categories/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    使用 Python 查找关键字类别的搜索量上限
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../affiliate/visualizing-products-amazon_21Mar06142625123432/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    可视化 100，000 亚马逊产品
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../affiliate/text-simhash-good-re-process-deep_21Apr03114628313403/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    使用SimHash进行海量文本去重流程
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../affiliate/submit-website-to-search-engines/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    如何把网站提交给搜索引擎
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../affiliate/sitemaps-to-be-crawled-with-python/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    动态网站使用 Python 向 Google 自动提交站点地图
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../affiliate/seo_open_graph_protocol/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SEO 优化: Open Graph protocol
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../affiliate/seo_json_ld_data/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SEO 优化: 添加 JSON-LD 数据
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="">
            
  
  <span class="md-ellipsis">
    网站SEO优化
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            网站SEO优化
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../affiliate/long-tail-keywords-in-article/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    长尾词优化入网页
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../affiliate/keyword-difficulty/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    关键词难度：如何确认你在 Google 获得排名的机会
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../affiliate/how-to-get-on-the-first-page-of-google/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    如何让网站排名进入谷歌首页
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../affiliate/amazon-affiliate-marketing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    如何搭建一个成功的亚马逊联盟网站
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../affiliate/seo-backlink-website-directories/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SEO之网站分类目录外链推广工具, 高质量外链来源和技巧
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../affiliate/how-to-analyze-pages-to-generate-content/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    抓了10万个头条数据，分析了1万爆文，写出了10万阅读量的内容
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../affiliate/how-to-start-seo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SEO每日流量如何从0到10000
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../affiliate/use-python-to-get-keywords/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python与SEO 词库完整指南
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../affiliate/use-python-to-get-keywords2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python百度下拉框关键词采集
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../affiliate/adsense/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    hexo个人next主题博客接入谷歌广告
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="">
            
  
  <span class="md-ellipsis">
    自动化与爬虫
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            自动化与爬虫
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../rpa/tool-reptile-mobile-method-introduction_21Oct26195529728646/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    移动端爬虫工具与方法介绍
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../rpa/sharp-reptile-playwright-generation_22Mar16150047139054/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    新一代爬虫工具 -- Playwright
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../rpa/thing-grab_23Jun14171058520489/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    安卓、苹果的全局代理以及抓包
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_10" >
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="">
            
  
  <span class="md-ellipsis">
    量化
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            量化
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../quant/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    量化简介
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../quant/strength-resistance-support-relative-tim_22Mar09144910644904/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RSRS(阻力支撑相对强度)择时策略研究
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../quant/world-stock-select-afraid_22Mar11102617879419/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    多因子模型选股,配RSRS择时方法
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../quant/strong-quantificationhow-onel-find-pytho_22Mar11115955383426/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    利用欧奈尔的RPS寻找强势股
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../quant/regression-model-line-code-author_22Mar16105340028529/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lazy Predict 如何用几行代码运行 40 个回归模型
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../quant/_22Mar15205312018057/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    巴菲特的Alpha:利用机器学习量化『股票基本面』
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../quant/correlation-nlpnlu-matrix-vectorspace-da_22Mar16152147921647/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    使用矢量空间AI NLP / NLU相关矩阵数据集生成阿尔法:股票与周期性
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../quant/trading-quantitative-factor-evaluation-s_22Apr25121650255339/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    量化交易入门——因子的评价体系和IC、IR
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../quant/lhr/series-brief-introduction-primer-simple-_22Apr28144022194446/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    量化投资入门系列（二）——简单策略初探
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../quant/lhr/series-primer-investing-capm-risk-quanti_22Apr28145508941654/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    量化投资入门系列（三）——CAPM与风险
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../quant/lhr/series-quantitative-primer-investing-bar_22Apr28150803767664/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    量化投资入门系列（四）——APT与BARRA
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../quant/lhr/series-portfolio-construction-primer-bas_22Apr28152227119078/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    量化投资入门系列（五）——基于BARRA的组合构建
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../quant/lhr/technical-factor-series-analysis-primer-_22Apr28154753258404/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    量化投资入门系列（六）——技术性因子分析与遗传算法生成
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../quant/lhr/trend-stock-series-prediction-primer-bas_22Apr28155928476282/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    量化投资入门系列（七）——基于机器学习的股票走势预测
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../quant/lhr/trend-stock-series-prediction-investing-_22Apr28160755545143/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    量化投资入门系列（八）——基于神经网络的股票走势预测
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../quant/lhr/tabnet-series-investment-entry-quantitat_22Apr28161224255196/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    量化投资入门系列（九）——TabNet解析与使用
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../quant/time-series-forecasting-moving-methods-b_22May03131956778461/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    时间序列预测基本方法--移动平均（SMA、EMA、WMA）
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../quant/stocks/trading-indicator-macd-clearly-people-ex_22May03162310791780/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MACD交易指标
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_11" >
        
          
          <label class="md-nav__link" for="__nav_11" id="__nav_11_label" tabindex="">
            
  
  <span class="md-ellipsis">
    其他知识
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11">
            <span class="md-nav__icon md-icon"></span>
            其他知识
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../medicine/classification_hepatoprotective_drugs_usage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    保肝药的分类及其使用
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../misc/ubuntu/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ubuntu系统
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../misc/ai_ml_testlab/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AI实验平台小技巧
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../misc/tools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    工具集合文档
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../misc/tutorial-socks5-android_23Jun14102027281268/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    安卓机使用socks5教程
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../misc/proxy-http-center-socks5-green-availabil_23Jun15205449339580/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    测试socks5 和http 代理IP 的可用性
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../AI/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AIGC教程目录
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../git_usage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Git,Vercel使用指南
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_12" >
        
          
          <label class="md-nav__link" for="__nav_12" id="__nav_12_label" tabindex="">
            
  
  <span class="md-ellipsis">
    关于
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12">
            <span class="md-nav__icon md-icon"></span>
            关于
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../about/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../misc/PrivacyPolicy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GPDR
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  






<h1 id="nextjs">什么是 Next.js<a class="headerlink" href="#nextjs" title="Permanent link">&para;</a></h1>
<blockquote>
<p>“ Next.js 通过提供所有生产环境需要的功能来给你最佳的开发体验：构建时预渲染，服务端渲染，TypeScript 支持，智能打包，路由预加载，零配置等等 ”</p>
</blockquote>
<p>正如上文的介绍，Next.js 是一个非常全面的现代全栈应用构建方案。它包含了非常优雅的 TypeScript 和 React 支持，同时提供了现代应用常见的需求解决方案，例如：路由，API，PostCSS 工具和代码分割等。</p>
<p>与此同时它也支持静态站点生成（用于可以在任何地方托管的高性能静态 HTML 页面）或者是通过 Vercel / AWS 等部署 Node.js 服务来进行数据按需加载的服务端渲染页面</p>
<p>Next.js 已迅速成为 Web 开发领域最抢手的技能之一。本教程旨在充当 <a href="https://nextjs.org/docs/getting-started" title="https://nextjs.org/docs/getting-started">Next.js文档</a> 的 “ 实用 ” 延伸，并帮助你使用大量最佳实践来开发项目，这将有利于你在今后对项目实施进一步的扩展。</p>
<h2 id="_1">介绍<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h2>
<p>本教程不是为了替代官方文档，因为官方文档已经写得非常简单易懂了。我强烈推荐你在学习本文之前先大致过一下 <a href="https://nextjs.org/docs/basic-features/pages" title="https://nextjs.org/docs/basic-features/pages">这一章</a> 的内容，这样你对文中的术语和工具会比较熟悉，他们提供的一些组件与普通 HTML 组件相似，但通常是“更强大”的版本。</p>
<h2 id="_2">项目创建<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h2>
<p>我们将使用 TypeScript 模版来创建一个默认的 Next.js 应用
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1">1</a></span>
<span class="normal"><a href="#__codelineno-0-2">2</a></span>
<span class="normal"><a href="#__codelineno-0-3">3</a></span>
<span class="normal"><a href="#__codelineno-0-4">4</a></span>
<span class="normal"><a href="#__codelineno-0-5">5</a></span>
<span class="normal"><a href="#__codelineno-0-6">6</a></span>
<span class="normal"><a href="#__codelineno-0-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="w">    </span>npx<span class="w"> </span>create-next-app@latest<span class="w"> </span>--typescript<span class="w"> </span>nextjs-fullstack-app-template-zn
<a id="__codelineno-0-2" name="__codelineno-0-2"></a>
<a id="__codelineno-0-3" name="__codelineno-0-3"></a><span class="w">    </span><span class="nb">cd</span><span class="w"> </span>nextjs-fullstack-app-template-zn
<a id="__codelineno-0-4" name="__codelineno-0-4"></a>
<a id="__codelineno-0-5" name="__codelineno-0-5"></a><span class="w">    </span>//<span class="w"> </span>ESLInt<span class="w"> </span>:<span class="w"> </span>YES
<a id="__codelineno-0-6" name="__codelineno-0-6"></a><span class="w">    </span>//<span class="w"> </span><span class="sb">`</span>src/<span class="sb">`</span><span class="w"> </span>directory<span class="w"> </span>:<span class="w"> </span>YES
<a id="__codelineno-0-7" name="__codelineno-0-7"></a><span class="w">    </span>//<span class="w"> </span><span class="sb">`</span>app/<span class="sb">`</span><span class="w"> </span>directory<span class="w"> </span>:<span class="w"> </span>NO
</code></pre></div></td></tr></table></div></p>
<p>首先我们试试这个项目能不能正常运行。我们在这个例子中会使用 yarn ，当然你也可以用 NPM 或其他的工具<code>yarn dev</code></p>
<p>你可以打开 <code>http://localhost:3000/</code> 看到这个 demo 已经成功运行</p>
<h2 id="_3">引擎锁定<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h2>
<p>我们在本项目中使用的 v16 的 Node.js。你可以通过 <code>node --version</code> 检查版本。打开 <code>package.json</code> engines 字段是你指定所使用工具的特定版本的地方。
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-1-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-1-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-1-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-1-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-1-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-1-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-1-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-1-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-1-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-1-10">10</a></span>
<span class="normal"><a href="#__codelineno-1-11">11</a></span>
<span class="normal"><a href="#__codelineno-1-12">12</a></span>
<span class="normal"><a href="#__codelineno-1-13">13</a></span>
<span class="normal"><a href="#__codelineno-1-14">14</a></span>
<span class="normal"><a href="#__codelineno-1-15">15</a></span>
<span class="normal"><a href="#__codelineno-1-16">16</a></span>
<span class="normal"><a href="#__codelineno-1-17">17</a></span>
<span class="normal"><a href="#__codelineno-1-18">18</a></span>
<span class="normal"><a href="#__codelineno-1-19">19</a></span>
<span class="normal"><a href="#__codelineno-1-20">20</a></span>
<span class="normal"><a href="#__codelineno-1-21">21</a></span>
<span class="normal"><a href="#__codelineno-1-22">22</a></span>
<span class="normal"><a href="#__codelineno-1-23">23</a></span>
<span class="normal"><a href="#__codelineno-1-24">24</a></span>
<span class="normal"><a href="#__codelineno-1-25">25</a></span>
<span class="normal"><a href="#__codelineno-1-26">26</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="p">{</span>
<a id="__codelineno-1-2" name="__codelineno-1-2"></a><span class="w">  </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;nextjs-fullstack-app-template-zn&quot;</span><span class="p">,</span>
<a id="__codelineno-1-3" name="__codelineno-1-3"></a><span class="w">  </span><span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0.1.0&quot;</span><span class="p">,</span>
<a id="__codelineno-1-4" name="__codelineno-1-4"></a><span class="w">  </span><span class="nt">&quot;private&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<a id="__codelineno-1-5" name="__codelineno-1-5"></a><span class="w">  </span><span class="nt">&quot;author&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;YOUR_NAME&quot;</span><span class="p">,</span>
<a id="__codelineno-1-6" name="__codelineno-1-6"></a><span class="w">  </span><span class="nt">&quot;scripts&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-1-7" name="__codelineno-1-7"></a><span class="w">    </span><span class="nt">&quot;dev&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;next dev&quot;</span><span class="p">,</span>
<a id="__codelineno-1-8" name="__codelineno-1-8"></a><span class="w">    </span><span class="nt">&quot;build&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;next build&quot;</span><span class="p">,</span>
<a id="__codelineno-1-9" name="__codelineno-1-9"></a><span class="w">    </span><span class="nt">&quot;start&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;next start&quot;</span><span class="p">,</span>
<a id="__codelineno-1-10" name="__codelineno-1-10"></a><span class="w">    </span><span class="nt">&quot;lint&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;next lint&quot;</span>
<a id="__codelineno-1-11" name="__codelineno-1-11"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-1-12" name="__codelineno-1-12"></a><span class="w">  </span><span class="nt">&quot;dependencies&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-1-13" name="__codelineno-1-13"></a><span class="w">    </span><span class="nt">&quot;@next/font&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;13.1.6&quot;</span><span class="p">,</span>
<a id="__codelineno-1-14" name="__codelineno-1-14"></a><span class="w">    </span><span class="nt">&quot;@types/node&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;18.11.18&quot;</span><span class="p">,</span>
<a id="__codelineno-1-15" name="__codelineno-1-15"></a><span class="w">    </span><span class="nt">&quot;@types/react&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;18.0.27&quot;</span><span class="p">,</span>
<a id="__codelineno-1-16" name="__codelineno-1-16"></a><span class="w">    </span><span class="nt">&quot;@types/react-dom&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;18.0.10&quot;</span><span class="p">,</span>
<a id="__codelineno-1-17" name="__codelineno-1-17"></a><span class="w">    </span><span class="nt">&quot;next&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;13.1.6&quot;</span><span class="p">,</span>
<a id="__codelineno-1-18" name="__codelineno-1-18"></a><span class="w">    </span><span class="nt">&quot;react&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;18.2.0&quot;</span><span class="p">,</span>
<a id="__codelineno-1-19" name="__codelineno-1-19"></a><span class="w">    </span><span class="nt">&quot;react-dom&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;18.2.0&quot;</span><span class="p">,</span>
<a id="__codelineno-1-20" name="__codelineno-1-20"></a><span class="w">    </span><span class="nt">&quot;typescript&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;4.9.4&quot;</span>
<a id="__codelineno-1-21" name="__codelineno-1-21"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-1-22" name="__codelineno-1-22"></a><span class="w">  </span><span class="nt">&quot;engines&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-1-23" name="__codelineno-1-23"></a><span class="w">    </span><span class="nt">&quot;node&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&gt;=16.0.0&quot;</span><span class="p">,</span>
<a id="__codelineno-1-24" name="__codelineno-1-24"></a><span class="w">    </span><span class="nt">&quot;yarn&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&gt;=1.22.0&quot;</span>
<a id="__codelineno-1-25" name="__codelineno-1-25"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-1-26" name="__codelineno-1-26"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div></p>
<h2 id="git">Git 配置<a class="headerlink" href="#git" title="Permanent link">&para;</a></h2>
<p>这将是我们第一次提交到远程仓库的好时机，以确保更改得到备份，并遵循最佳实践将相关更改分组在一个提交中，然后再做新的修改。</p>
<p>默认情况下，你的 Next.js 项目已经初始化了一个 repo。 你可以使用 <code>git status</code> 检查你所在的分支。 它应该会显示类似下面的文案
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-2-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-2-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-2-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-2-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-2-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-2-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-2-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-2-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-2-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-2-10">10</a></span>
<span class="normal"><a href="#__codelineno-2-11">11</a></span>
<span class="normal"><a href="#__codelineno-2-12">12</a></span>
<span class="normal"><a href="#__codelineno-2-13">13</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="w">    </span>$<span class="w"> </span>git<span class="w"> </span>status
<a id="__codelineno-2-2" name="__codelineno-2-2"></a><span class="w">    </span>On<span class="w"> </span>branch<span class="w"> </span>main
<a id="__codelineno-2-3" name="__codelineno-2-3"></a><span class="w">    </span>Changes<span class="w"> </span>not<span class="w"> </span>staged<span class="w"> </span><span class="k">for</span><span class="w"> </span>commit:
<a id="__codelineno-2-4" name="__codelineno-2-4"></a><span class="w">      </span><span class="o">(</span>use<span class="w"> </span><span class="s2">&quot;git add &lt;file&gt;...&quot;</span><span class="w"> </span>to<span class="w"> </span>update<span class="w"> </span>what<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>committed<span class="o">)</span>
<a id="__codelineno-2-5" name="__codelineno-2-5"></a><span class="w">      </span><span class="o">(</span>use<span class="w"> </span><span class="s2">&quot;git restore &lt;file&gt;...&quot;</span><span class="w"> </span>to<span class="w"> </span>discard<span class="w"> </span>changes<span class="w"> </span><span class="k">in</span><span class="w"> </span>working<span class="w"> </span>directory<span class="o">)</span>
<a id="__codelineno-2-6" name="__codelineno-2-6"></a><span class="w">        </span>modified:<span class="w">   </span>package.json
<a id="__codelineno-2-7" name="__codelineno-2-7"></a>
<a id="__codelineno-2-8" name="__codelineno-2-8"></a><span class="w">    </span>Untracked<span class="w"> </span>files:
<a id="__codelineno-2-9" name="__codelineno-2-9"></a><span class="w">      </span><span class="o">(</span>use<span class="w"> </span><span class="s2">&quot;git add &lt;file&gt;...&quot;</span><span class="w"> </span>to<span class="w"> </span>include<span class="w"> </span><span class="k">in</span><span class="w"> </span>what<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>committed<span class="o">)</span>
<a id="__codelineno-2-10" name="__codelineno-2-10"></a><span class="w">        </span>.npmrc
<a id="__codelineno-2-11" name="__codelineno-2-11"></a><span class="w">        </span>.vscode/
<a id="__codelineno-2-12" name="__codelineno-2-12"></a>
<a id="__codelineno-2-13" name="__codelineno-2-13"></a><span class="w">    </span>no<span class="w"> </span>changes<span class="w"> </span>added<span class="w"> </span>to<span class="w"> </span>commit<span class="w"> </span><span class="o">(</span>use<span class="w"> </span><span class="s2">&quot;git add&quot;</span><span class="w"> </span>and/or<span class="w"> </span><span class="s2">&quot;git commit -a&quot;</span><span class="o">)</span>
</code></pre></div></td></tr></table></div></p>
<p>这告诉我们我们在 main 分支上，我们还没有暂存或做出任何提交</p>
<p>让我们提交目前的变更
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-3-1">1</a></span>
<span class="normal"><a href="#__codelineno-3-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="w">    </span>git<span class="w"> </span>add<span class="w"> </span>.
<a id="__codelineno-3-2" name="__codelineno-3-2"></a><span class="w">    </span>git<span class="w"> </span>commit<span class="w"> </span>-am<span class="w"> </span><span class="s2">&quot;feat: project init&quot;</span>
</code></pre></div></td></tr></table></div></p>
<p>第一个命令将在项目目录中添加并暂存所有在 <code>.gitignore</code> 中未被忽略的文件。 第二个将使用我们在 <code>-m</code> 标志之后写的消息来提交当前项目的状态</p>
<p>跳转到你喜欢的 git 托管服务提供商（ 比如 <a href="https://github.com/">Github</a>）并且创建一个新的仓库来存放你的项目。</p>
<p>现在你已准备好添加仓库的远程源并进行推送。 Github 会在你创建的时候给你准确的说明。 你的语法可能与我的略有不同，具体取决于使用的是 HTTPS 还是 SSH。
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-4-1">1</a></span>
<span class="normal"><a href="#__codelineno-4-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1"></a><span class="w">    </span>git<span class="w"> </span>remote<span class="w"> </span>add<span class="w"> </span>origin<span class="w"> </span>git@github.com:<span class="o">{</span>YOUR_GITHUB_USERNAME<span class="o">}</span>/<span class="o">{</span>YOUR_REPOSITORY_NAME<span class="o">}</span>.git
<a id="__codelineno-4-2" name="__codelineno-4-2"></a><span class="w">    </span>git<span class="w"> </span>push<span class="w"> </span>-u<span class="w"> </span>origin<span class="w"> </span><span class="o">{</span>YOUR_BRANCH_NAME<span class="o">}</span>
</code></pre></div></td></tr></table></div></p>
<p>请注意，从这一点开始，我们将使用 <a href="https://www.conventionalcommits.org/en/v1.0.0/#summary">Conventional Commits</a> 标准，特别是 <a href="https://github.com/angular/angular/blob/22b96b9/CONTRIBUTING.md#type">此处描述</a> 的 Angular 约定</p>
<p>原因与该项目中的许多其他功能一样，只是为所有开发人员设置一个 <strong>一致</strong> 的标准，以便在为项目做出贡献时最大程度地减少培训时间。我个人不太关心选择什么标准，只要每个人都同意遵循它，才是最重要的。</p>
<p>一致性就是一切 ！！！</p>
<h2 id="_4">代码格式化和质量工具<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h2>
<p>为了设定一个标准，供项目的所有贡献者使用，以保持代码风格一致并遵循基本的最佳实践，我们将使用两个工具：</p>
<ul>
<li><a href="https://eslint.org/">eslint</a> - 代码规范的最佳实践</li>
<li><a href="https://prettier.io/">prettier</a> - 自动格式化代码文件</li>
</ul>
<h2 id="eslint">ESLint<a class="headerlink" href="#eslint" title="Permanent link">&para;</a></h2>
<p>我们从 ESLint 开始，它非常简单因为在我们创建 Next.js 项目的时候已经自动安装好并且有了默认配置。</p>
<p>我们仅需要添加少部分额外的配置就可以让它比默认配置更加严格。如果你不同意其中的任何一条规则配置，不用担心，我们可以非常简单的手动关闭这些规则。我们将所有的 ESLint 配置都写在 <code>.eslintrc.json</code> 文件中，这个文件已经存在于我们项目的根目录。</p>
<p><code>.eslintrc.json</code>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-5-1">1</a></span>
<span class="normal"><a href="#__codelineno-5-2">2</a></span>
<span class="normal"><a href="#__codelineno-5-3">3</a></span>
<span class="normal"><a href="#__codelineno-5-4">4</a></span>
<span class="normal"><a href="#__codelineno-5-5">5</a></span>
<span class="normal"><a href="#__codelineno-5-6">6</a></span>
<span class="normal"><a href="#__codelineno-5-7">7</a></span>
<span class="normal"><a href="#__codelineno-5-8">8</a></span>
<span class="normal"><a href="#__codelineno-5-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="p">{</span>
<a id="__codelineno-5-2" name="__codelineno-5-2"></a><span class="w">  </span><span class="nt">&quot;extends&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;next&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;next/core-web-vitals&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;eslint:recommended&quot;</span><span class="p">],</span>
<a id="__codelineno-5-3" name="__codelineno-5-3"></a><span class="w">  </span><span class="nt">&quot;globals&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-4" name="__codelineno-5-4"></a><span class="w">    </span><span class="nt">&quot;React&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;readonly&quot;</span>
<a id="__codelineno-5-5" name="__codelineno-5-5"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-5-6" name="__codelineno-5-6"></a><span class="w">  </span><span class="nt">&quot;rules&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-7" name="__codelineno-5-7"></a><span class="w">    </span><span class="nt">&quot;no-unused-vars&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;args&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;after-used&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;argsIgnorePattern&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;^_&quot;</span><span class="w"> </span><span class="p">}]</span>
<a id="__codelineno-5-8" name="__codelineno-5-8"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-5-9" name="__codelineno-5-9"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div></p>
<p>在上面的代码示例中，我们添加了一些额外的默认值，我们声明 <code>React</code> 将始终被定义，即使我们没有专门导入它，我还添加了个人自定义规则，它允许你为变量添加前缀（带下划线 _） 如果你已声明它们但未在代码中使用它们</p>
<p>我发现当你正在处理一项功能并想准备一些变量以备后面使用但又尚未达到实现它们的地步时，这种情况经常出现</p>
<p>你可以测试一下你的配置通过运行<code>yarn lint</code></p>
<p>你会得到类型的提示
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-6-1">1</a></span>
<span class="normal"><a href="#__codelineno-6-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1"></a><span class="w">    </span>✔<span class="w"> </span>No<span class="w"> </span>ESLint<span class="w"> </span>warnings<span class="w"> </span>or<span class="w"> </span>errors
<a id="__codelineno-6-2" name="__codelineno-6-2"></a><span class="w">    </span>✨<span class="w">  </span>Done<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="m">3</span>.48s.
</code></pre></div></td></tr></table></div></p>
<p>如果你遇到任何错误，那么 ESLint 非常擅长清楚地解释它们是什么。如果遇到你不喜欢的规则，你可以简单的将它从 1（告警）设置成 0（忽略） 来关闭它
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-7-1">1</a></span>
<span class="normal"><a href="#__codelineno-7-2">2</a></span>
<span class="normal"><a href="#__codelineno-7-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1"></a><span class="w">    </span><span class="nt">&quot;rules&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-7-2" name="__codelineno-7-2"></a><span class="w">        </span><span class="nt">&quot;no-unused-vars&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span>
<a id="__codelineno-7-3" name="__codelineno-7-3"></a><span class="w">     </span><span class="p">}</span>
</code></pre></div></td></tr></table></div></p>
<p>让我们在这时候进行一次提交，带上信息 <code>build: configure eslint</code></p>
<h2 id="prettier">Prettier<a class="headerlink" href="#prettier" title="Permanent link">&para;</a></h2>
<p>prettier 会为我们处理文件的自动格式化。让我们将它添加到项目中</p>
<p>它只需要在开发过程中使用，所以需要添加到 <code>devDependency</code>
<code>yarn add -D prettier</code></p>
<p>同时我也推荐你安装 <a href="https://marketplace.visualstudio.com/items?itemName=esbenp.prettier-vscode">Prettier VS Code 插件</a> ，这样你不用依赖命令行工具就可以在 VS Code 中进行文件格式化。在你的项目中安装和配置它意味着 VSCode 将使用你项目的设置，因此仍然有必要在此处添加它。</p>
<p>我们将在根目录添加两个文件：</p>
<p><code>.prettierrc</code>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-8-1">1</a></span>
<span class="normal"><a href="#__codelineno-8-2">2</a></span>
<span class="normal"><a href="#__codelineno-8-3">3</a></span>
<span class="normal"><a href="#__codelineno-8-4">4</a></span>
<span class="normal"><a href="#__codelineno-8-5">5</a></span>
<span class="normal"><a href="#__codelineno-8-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1"></a><span class="p">{</span>
<a id="__codelineno-8-2" name="__codelineno-8-2"></a><span class="w">  </span><span class="nt">&quot;trailingComma&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;es5&quot;</span><span class="p">,</span>
<a id="__codelineno-8-3" name="__codelineno-8-3"></a><span class="w">  </span><span class="nt">&quot;tabWidth&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
<a id="__codelineno-8-4" name="__codelineno-8-4"></a><span class="w">  </span><span class="nt">&quot;semi&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<a id="__codelineno-8-5" name="__codelineno-8-5"></a><span class="w">  </span><span class="nt">&quot;singleQuote&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-8-6" name="__codelineno-8-6"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div></p>
<p>这些配置完全由你自行决定什么最适合你的团队和项目</p>
<p><code>.prettierignore</code>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-9-1">1</a></span>
<span class="normal"><a href="#__codelineno-9-2">2</a></span>
<span class="normal"><a href="#__codelineno-9-3">3</a></span>
<span class="normal"><a href="#__codelineno-9-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1"></a>.yarn
<a id="__codelineno-9-2" name="__codelineno-9-2"></a>.next
<a id="__codelineno-9-3" name="__codelineno-9-3"></a>dist
<a id="__codelineno-9-4" name="__codelineno-9-4"></a>node_modules
</code></pre></div></td></tr></table></div></p>
<p>在这个文件中我列了一些目录，我不希望 prettier 在这些目录中浪费任何资源去进行格式化。你也可以使用类似 <code>*.html</code> 这样的方式去忽略你选择的文件类似</p>
<p>现在我们在 <code>package.json</code> 添加新的 script ，然后我们就可以运行 Prettier：</p>
<p><code>package.json</code>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-10-1">1</a></span>
<span class="normal"><a href="#__codelineno-10-2">2</a></span>
<span class="normal"><a href="#__codelineno-10-3">3</a></span>
<span class="normal"><a href="#__codelineno-10-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1"></a><span class="w">  </span><span class="s2">&quot;scripts: {</span>
<a id="__codelineno-10-2" name="__codelineno-10-2"></a><span class="s2">    ...</span>
<a id="__codelineno-10-3" name="__codelineno-10-3"></a><span class="s2">    &quot;</span><span class="err">pre</span><span class="kc">tt</span><span class="err">ier</span><span class="s2">&quot;: &quot;</span><span class="err">pre</span><span class="kc">tt</span><span class="err">ier</span><span class="w"> </span><span class="mi">--</span><span class="err">wri</span><span class="kc">te</span><span class="w"> </span><span class="err">.&quot;</span>
<a id="__codelineno-10-4" name="__codelineno-10-4"></a><span class="err">  }</span>
</code></pre></div></td></tr></table></div></p>
<p>你可以运行<code>yarn prettier</code></p>
<p>自动格式化、修复和保存项目中你未忽略的所有文件。 默认情况下，我的格式化程序更新了大约 5 个文件。 你可以在 VS Code 左侧的源代码管理选项卡中的已更改文件列表中看到它们。</p>
<p>让我们在这时候进行一次提交，带上信息 <code>build: implement prettier</code></p>
<h2 id="git-hooks">Git Hooks<a class="headerlink" href="#git-hooks" title="Permanent link">&para;</a></h2>
<p>在我们开始进行组件开发之前，还有一节是关于配置的。 请记住，如果你要长期构建该项目，你将希望该项目尽可能坚如磐石，尤其是与其他开发人员团队合作时。 花时间在一开始就把它做好是值得的。</p>
<p>我们将使用一个叫做 <a href="https://typicode.github.io/husky/#/">Husky</a> 的工具</p>
<p>Husky 是一个用于在 git 进程的不同阶段运行脚本的工具，例如 add、commit、push 等。我们希望能够设置某些条件，并且只有在我们的代码满足这些条件时才允许提交和推送之类的事情成功，假设这表明我们的项目质量是可以接受的。</p>
<p>安装 Husky
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-11-1">1</a></span>
<span class="normal"><a href="#__codelineno-11-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1"></a><span class="w">    </span>yarn<span class="w"> </span>add<span class="w"> </span>-D<span class="w"> </span>husky
<a id="__codelineno-11-2" name="__codelineno-11-2"></a><span class="w">    </span>npx<span class="w"> </span>husky<span class="w"> </span>install
</code></pre></div></td></tr></table></div></p>
<p>第二个命令将在你的项目中创建一个 <code>.husky</code> 目录。这就是你的 hooks 存放的地方。确保此目录包含在你的代码仓库中，因为它也适用于其他开发人员，而不仅仅是你自己。</p>
<p>在 <code>package.json</code> 文件中添加 script</p>
<p><code>package.json</code>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-12-1">1</a></span>
<span class="normal"><a href="#__codelineno-12-2">2</a></span>
<span class="normal"><a href="#__codelineno-12-3">3</a></span>
<span class="normal"><a href="#__codelineno-12-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1"></a><span class="w">  </span><span class="nt">&quot;scripts&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-2" name="__codelineno-12-2"></a><span class="w">    </span><span class="err">...</span>
<a id="__codelineno-12-3" name="__codelineno-12-3"></a><span class="w">    </span><span class="nt">&quot;prepare&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;husky install&quot;</span>
<a id="__codelineno-12-4" name="__codelineno-12-4"></a><span class="w">  </span><span class="p">}</span>
</code></pre></div></td></tr></table></div></p>
<p>这将确保在其他开发人员运行该项目时自动安装 Husky</p>
<p>创建一个 hook, <code>npx husky add .husky/pre-commit "yarn lint"</code></p>
<p>上面说为了让我们的提交成功，<code>yarn lint</code> 必须首先运行并成功。 在这种情况下，” 成功 ”意味着没有错误。 它将允许你有告警（请记住，在 ESLint 配置中，设置 1 是警告，设置 2 是错误）</p>
<p>让我们在这时候进行一次提交，带上信息 <code>ci: implement husky</code> 。如果所有设置都完成，在你进行提交之前就会运行 lint script</p>
<p>让我们再添加一个
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-13-1">1</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1"></a>    npx husky add .husky/pre-push &quot;yarn build&quot;
</code></pre></div></td></tr></table></div></p>
<p>以上确保我们只有在代码构建成功的时候才可以将代码推送到远程仓库中。 这似乎是一个相当合理的条件，不是吗？ 通过提交此更改并尝试推送来随意测试它。</p>
<p>最后，我们将再添加一个工具。 到目前为止，我们一直在遵循所有提交消息的标准约定，让我们确保团队中的每个人都遵循它们（包括我们自己！）。 我们可以为我们的提交消息添加一个 linter：
<code>yarn add -D @commitlint/config-conventional @commitlint/cli</code></p>
<p>要配置它，我们将使用一组标准默认值，但我喜欢将该列表显式包含在 commitlint.config.js 文件中，因为我有时会忘记可用的前缀：</p>
<p><code>commitlint.config.js</code>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-14-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-14-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-14-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-14-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-14-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-14-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-14-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-14-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-14-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-14-10">10</a></span>
<span class="normal"><a href="#__codelineno-14-11">11</a></span>
<span class="normal"><a href="#__codelineno-14-12">12</a></span>
<span class="normal"><a href="#__codelineno-14-13">13</a></span>
<span class="normal"><a href="#__codelineno-14-14">14</a></span>
<span class="normal"><a href="#__codelineno-14-15">15</a></span>
<span class="normal"><a href="#__codelineno-14-16">16</a></span>
<span class="normal"><a href="#__codelineno-14-17">17</a></span>
<span class="normal"><a href="#__codelineno-14-18">18</a></span>
<span class="normal"><a href="#__codelineno-14-19">19</a></span>
<span class="normal"><a href="#__codelineno-14-20">20</a></span>
<span class="normal"><a href="#__codelineno-14-21">21</a></span>
<span class="normal"><a href="#__codelineno-14-22">22</a></span>
<span class="normal"><a href="#__codelineno-14-23">23</a></span>
<span class="normal"><a href="#__codelineno-14-24">24</a></span>
<span class="normal"><a href="#__codelineno-14-25">25</a></span>
<span class="normal"><a href="#__codelineno-14-26">26</a></span>
<span class="normal"><a href="#__codelineno-14-27">27</a></span>
<span class="normal"><a href="#__codelineno-14-28">28</a></span>
<span class="normal"><a href="#__codelineno-14-29">29</a></span>
<span class="normal"><a href="#__codelineno-14-30">30</a></span>
<span class="normal"><a href="#__codelineno-14-31">31</a></span>
<span class="normal"><a href="#__codelineno-14-32">32</a></span>
<span class="normal"><a href="#__codelineno-14-33">33</a></span>
<span class="normal"><a href="#__codelineno-14-34">34</a></span>
<span class="normal"><a href="#__codelineno-14-35">35</a></span>
<span class="normal"><a href="#__codelineno-14-36">36</a></span>
<span class="normal"><a href="#__codelineno-14-37">37</a></span>
<span class="normal"><a href="#__codelineno-14-38">38</a></span>
<span class="normal"><a href="#__codelineno-14-39">39</a></span>
<span class="normal"><a href="#__codelineno-14-40">40</a></span>
<span class="normal"><a href="#__codelineno-14-41">41</a></span>
<span class="normal"><a href="#__codelineno-14-42">42</a></span>
<span class="normal"><a href="#__codelineno-14-43">43</a></span>
<span class="normal"><a href="#__codelineno-14-44">44</a></span>
<span class="normal"><a href="#__codelineno-14-45">45</a></span>
<span class="normal"><a href="#__codelineno-14-46">46</a></span>
<span class="normal"><a href="#__codelineno-14-47">47</a></span>
<span class="normal"><a href="#__codelineno-14-48">48</a></span>
<span class="normal"><a href="#__codelineno-14-49">49</a></span>
<span class="normal"><a href="#__codelineno-14-50">50</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1"></a><span class="c1">// build: 影响构建系统或外部依赖项的更改（示例范围：gulp、broccoli、npm）</span>
<a id="__codelineno-14-2" name="__codelineno-14-2"></a><span class="c1">// ci: 更改我们的 CI 配置文件和脚本（示例范围：Travis、Circle、BrowserStack、SauceLabs）</span>
<a id="__codelineno-14-3" name="__codelineno-14-3"></a><span class="c1">// docs: 文档修改</span>
<a id="__codelineno-14-4" name="__codelineno-14-4"></a><span class="c1">// feat: 一个新的功能</span>
<a id="__codelineno-14-5" name="__codelineno-14-5"></a><span class="c1">// fix: 一个 bug 修复</span>
<a id="__codelineno-14-6" name="__codelineno-14-6"></a><span class="c1">// perf: 提升性能的代码修改</span>
<a id="__codelineno-14-7" name="__codelineno-14-7"></a><span class="c1">// refactor: 既不修复错误也不添加功能的代码更改</span>
<a id="__codelineno-14-8" name="__codelineno-14-8"></a><span class="c1">// style: 不影响代码含义的更改（空格、格式、缺少分号等）</span>
<a id="__codelineno-14-9" name="__codelineno-14-9"></a><span class="c1">// test: 添加缺失的测试或更正现有测试</span>
<a id="__codelineno-14-10" name="__codelineno-14-10"></a>
<a id="__codelineno-14-11" name="__codelineno-14-11"></a><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-14-12" name="__codelineno-14-12"></a><span class="w">  </span><span class="k">extends</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;@commitlint/config-conventional&#39;</span><span class="p">],</span>
<a id="__codelineno-14-13" name="__codelineno-14-13"></a><span class="w">  </span><span class="nx">rules</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-14-14" name="__codelineno-14-14"></a><span class="w">    </span><span class="s1">&#39;body-leading-blank&#39;</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;always&#39;</span><span class="p">],</span>
<a id="__codelineno-14-15" name="__codelineno-14-15"></a><span class="w">    </span><span class="s1">&#39;body-max-line-length&#39;</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="mf">2</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;always&#39;</span><span class="p">,</span><span class="w"> </span><span class="mf">100</span><span class="p">],</span>
<a id="__codelineno-14-16" name="__codelineno-14-16"></a><span class="w">    </span><span class="s1">&#39;footer-leading-blank&#39;</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;always&#39;</span><span class="p">],</span>
<a id="__codelineno-14-17" name="__codelineno-14-17"></a><span class="w">    </span><span class="s1">&#39;footer-max-line-length&#39;</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="mf">2</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;always&#39;</span><span class="p">,</span><span class="w"> </span><span class="mf">100</span><span class="p">],</span>
<a id="__codelineno-14-18" name="__codelineno-14-18"></a><span class="w">    </span><span class="s1">&#39;header-max-length&#39;</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="mf">2</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;always&#39;</span><span class="p">,</span><span class="w"> </span><span class="mf">100</span><span class="p">],</span>
<a id="__codelineno-14-19" name="__codelineno-14-19"></a><span class="w">    </span><span class="s1">&#39;scope-case&#39;</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="mf">2</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;always&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;lower-case&#39;</span><span class="p">],</span>
<a id="__codelineno-14-20" name="__codelineno-14-20"></a><span class="w">    </span><span class="s1">&#39;subject-case&#39;</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-14-21" name="__codelineno-14-21"></a><span class="w">      </span><span class="mf">2</span><span class="p">,</span>
<a id="__codelineno-14-22" name="__codelineno-14-22"></a><span class="w">      </span><span class="s1">&#39;never&#39;</span><span class="p">,</span>
<a id="__codelineno-14-23" name="__codelineno-14-23"></a><span class="w">      </span><span class="p">[</span><span class="s1">&#39;sentence-case&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;start-case&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;pascal-case&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;upper-case&#39;</span><span class="p">],</span>
<a id="__codelineno-14-24" name="__codelineno-14-24"></a><span class="w">    </span><span class="p">],</span>
<a id="__codelineno-14-25" name="__codelineno-14-25"></a><span class="w">    </span><span class="s1">&#39;subject-empty&#39;</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="mf">2</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;never&#39;</span><span class="p">],</span>
<a id="__codelineno-14-26" name="__codelineno-14-26"></a><span class="w">    </span><span class="s1">&#39;subject-full-stop&#39;</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="mf">2</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;never&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;.&#39;</span><span class="p">],</span>
<a id="__codelineno-14-27" name="__codelineno-14-27"></a><span class="w">    </span><span class="s1">&#39;type-case&#39;</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="mf">2</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;always&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;lower-case&#39;</span><span class="p">],</span>
<a id="__codelineno-14-28" name="__codelineno-14-28"></a><span class="w">    </span><span class="s1">&#39;type-empty&#39;</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="mf">2</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;never&#39;</span><span class="p">],</span>
<a id="__codelineno-14-29" name="__codelineno-14-29"></a><span class="w">    </span><span class="s1">&#39;type-enum&#39;</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-14-30" name="__codelineno-14-30"></a><span class="w">      </span><span class="mf">2</span><span class="p">,</span>
<a id="__codelineno-14-31" name="__codelineno-14-31"></a><span class="w">      </span><span class="s1">&#39;always&#39;</span><span class="p">,</span>
<a id="__codelineno-14-32" name="__codelineno-14-32"></a><span class="w">      </span><span class="p">[</span>
<a id="__codelineno-14-33" name="__codelineno-14-33"></a><span class="w">        </span><span class="s1">&#39;build&#39;</span><span class="p">,</span>
<a id="__codelineno-14-34" name="__codelineno-14-34"></a><span class="w">        </span><span class="s1">&#39;chore&#39;</span><span class="p">,</span>
<a id="__codelineno-14-35" name="__codelineno-14-35"></a><span class="w">        </span><span class="s1">&#39;ci&#39;</span><span class="p">,</span>
<a id="__codelineno-14-36" name="__codelineno-14-36"></a><span class="w">        </span><span class="s1">&#39;docs&#39;</span><span class="p">,</span>
<a id="__codelineno-14-37" name="__codelineno-14-37"></a><span class="w">        </span><span class="s1">&#39;feat&#39;</span><span class="p">,</span>
<a id="__codelineno-14-38" name="__codelineno-14-38"></a><span class="w">        </span><span class="s1">&#39;fix&#39;</span><span class="p">,</span>
<a id="__codelineno-14-39" name="__codelineno-14-39"></a><span class="w">        </span><span class="s1">&#39;perf&#39;</span><span class="p">,</span>
<a id="__codelineno-14-40" name="__codelineno-14-40"></a><span class="w">        </span><span class="s1">&#39;refactor&#39;</span><span class="p">,</span>
<a id="__codelineno-14-41" name="__codelineno-14-41"></a><span class="w">        </span><span class="s1">&#39;revert&#39;</span><span class="p">,</span>
<a id="__codelineno-14-42" name="__codelineno-14-42"></a><span class="w">        </span><span class="s1">&#39;style&#39;</span><span class="p">,</span>
<a id="__codelineno-14-43" name="__codelineno-14-43"></a><span class="w">        </span><span class="s1">&#39;test&#39;</span><span class="p">,</span>
<a id="__codelineno-14-44" name="__codelineno-14-44"></a><span class="w">        </span><span class="s1">&#39;translation&#39;</span><span class="p">,</span>
<a id="__codelineno-14-45" name="__codelineno-14-45"></a><span class="w">        </span><span class="s1">&#39;security&#39;</span><span class="p">,</span>
<a id="__codelineno-14-46" name="__codelineno-14-46"></a><span class="w">        </span><span class="s1">&#39;changeset&#39;</span><span class="p">,</span>
<a id="__codelineno-14-47" name="__codelineno-14-47"></a><span class="w">      </span><span class="p">],</span>
<a id="__codelineno-14-48" name="__codelineno-14-48"></a><span class="w">    </span><span class="p">],</span>
<a id="__codelineno-14-49" name="__codelineno-14-49"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-14-50" name="__codelineno-14-50"></a><span class="p">};</span>
</code></pre></div></td></tr></table></div></p>
<p>然后使用 Husky 启用 commitlint：
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-15-1">1</a></span>
<span class="normal"><a href="#__codelineno-15-2">2</a></span>
<span class="normal"><a href="#__codelineno-15-3">3</a></span>
<span class="normal"><a href="#__codelineno-15-4">4</a></span>
<span class="normal"><a href="#__codelineno-15-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1"></a>npx<span class="w"> </span>husky<span class="w"> </span>add<span class="w"> </span>.husky/commit-msg<span class="w"> </span><span class="s1">&#39;npx --no -- commitlint --edit &quot;$1&quot;&#39;</span>
<a id="__codelineno-15-2" name="__codelineno-15-2"></a><span class="c1"># 有的时候上述的命令会在某些命令行环境失效，也可以试试下面的命令</span>
<a id="__codelineno-15-3" name="__codelineno-15-3"></a>npx<span class="w"> </span>husky<span class="w"> </span>add<span class="w"> </span>.husky/commit-msg<span class="w"> </span><span class="se">\&quot;</span>npx<span class="w"> </span>--no<span class="w"> </span>--<span class="w"> </span>commitlint<span class="w"> </span>--edit<span class="w"> </span><span class="s1">&#39;$1&#39;</span><span class="se">\&quot;</span>
<a id="__codelineno-15-4" name="__codelineno-15-4"></a><span class="c1"># 或者</span>
<a id="__codelineno-15-5" name="__codelineno-15-5"></a>npx<span class="w"> </span>husky<span class="w"> </span>add<span class="w"> </span>.husky/commit-msg<span class="w"> </span><span class="s2">&quot;npx --no -- commitlint --edit </span><span class="nv">$1</span><span class="s2">&quot;</span>
</code></pre></div></td></tr></table></div></p>
<p>我现在要使用消息 <code>ci: implement commitlint</code> 创建一个新的提交</p>
<p>你可以在下面的屏幕截图中看到此设置的最终结果，希望你的结果与此类似：</p>
<p><img src='images/002.webp' alt='2.png' /></p>
<p>如果提交信息格式不正确的话，则会报错</p>
<p><img src='images/003.webp' alt='3.png' /></p>
<h2 id="vs-code"><strong>VS Code 配置</strong><a class="headerlink" href="#vs-code" title="Permanent link">&para;</a></h2>
<p>现在我们已经实现了 ESLint 和 Prettier，我们可以利用一些便利的 VS Code 功能让它们自动运行。</p>
<p>在项目的根目录中创建一个名为 .vscode 的目录和一个名为 settings.json 的文件。 这将是一个覆盖已安装 VS 代码默认设置的值列表。</p>
<p>我们想要将它们放在项目文件夹中的原因是我们可以设置仅适用于该项目的特定设置，并且我们可以通过将它们包含在代码仓库中来与我们团队的其他成员共享它们。</p>
<p>在 settings.json 中，我们将添加以下值</p>
<p><code>.vscode/settings.json</code>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-16-1">1</a></span>
<span class="normal"><a href="#__codelineno-16-2">2</a></span>
<span class="normal"><a href="#__codelineno-16-3">3</a></span>
<span class="normal"><a href="#__codelineno-16-4">4</a></span>
<span class="normal"><a href="#__codelineno-16-5">5</a></span>
<span class="normal"><a href="#__codelineno-16-6">6</a></span>
<span class="normal"><a href="#__codelineno-16-7">7</a></span>
<span class="normal"><a href="#__codelineno-16-8">8</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1"></a><span class="p">{</span>
<a id="__codelineno-16-2" name="__codelineno-16-2"></a><span class="w">  </span><span class="nt">&quot;editor.defaultFormatter&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;esbenp.prettier-vscode&quot;</span><span class="p">,</span>
<a id="__codelineno-16-3" name="__codelineno-16-3"></a><span class="w">  </span><span class="nt">&quot;editor.formatOnSave&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<a id="__codelineno-16-4" name="__codelineno-16-4"></a><span class="w">  </span><span class="nt">&quot;editor.codeActionsOnSave&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-16-5" name="__codelineno-16-5"></a><span class="w">    </span><span class="nt">&quot;source.fixAll&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<a id="__codelineno-16-6" name="__codelineno-16-6"></a><span class="w">    </span><span class="nt">&quot;source.organizeImports&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-16-7" name="__codelineno-16-7"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-16-8" name="__codelineno-16-8"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div></p>
<p>以上将告诉 VS Code 使用你的 Prettier 扩展作为默认格式化程序（如果你愿意，可以手动覆盖另一个）并在每次保存时自动格式化你的文件并组织你的导入语句</p>
<p>非常方便的东西，你不再需要考虑的另一件事，因此可以专注于重要的事情，例如解决业务问题</p>
<p>让我们在这时候进行一次提交，带上信息 <code>build: implement vscode project settings</code></p>
<h2 id="_5">调试<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h2>
<p>让我们设置一个方便的环境来调试我们的应用程序，以防我们在开发过程中遇到任何问题。</p>
<p>在 <code>.vscode</code> 目录下创建 <code>launch.json</code> 文件</p>
<p><code>launch.json</code>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-17-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-17-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-17-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-17-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-17-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-17-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-17-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-17-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-17-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-17-10">10</a></span>
<span class="normal"><a href="#__codelineno-17-11">11</a></span>
<span class="normal"><a href="#__codelineno-17-12">12</a></span>
<span class="normal"><a href="#__codelineno-17-13">13</a></span>
<span class="normal"><a href="#__codelineno-17-14">14</a></span>
<span class="normal"><a href="#__codelineno-17-15">15</a></span>
<span class="normal"><a href="#__codelineno-17-16">16</a></span>
<span class="normal"><a href="#__codelineno-17-17">17</a></span>
<span class="normal"><a href="#__codelineno-17-18">18</a></span>
<span class="normal"><a href="#__codelineno-17-19">19</a></span>
<span class="normal"><a href="#__codelineno-17-20">20</a></span>
<span class="normal"><a href="#__codelineno-17-21">21</a></span>
<span class="normal"><a href="#__codelineno-17-22">22</a></span>
<span class="normal"><a href="#__codelineno-17-23">23</a></span>
<span class="normal"><a href="#__codelineno-17-24">24</a></span>
<span class="normal"><a href="#__codelineno-17-25">25</a></span>
<span class="normal"><a href="#__codelineno-17-26">26</a></span>
<span class="normal"><a href="#__codelineno-17-27">27</a></span>
<span class="normal"><a href="#__codelineno-17-28">28</a></span>
<span class="normal"><a href="#__codelineno-17-29">29</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1"></a><span class="p">{</span>
<a id="__codelineno-17-2" name="__codelineno-17-2"></a><span class="w">    </span><span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0.1.0&quot;</span><span class="p">,</span>
<a id="__codelineno-17-3" name="__codelineno-17-3"></a><span class="w">    </span><span class="nt">&quot;configurations&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-17-4" name="__codelineno-17-4"></a><span class="w">      </span><span class="p">{</span>
<a id="__codelineno-17-5" name="__codelineno-17-5"></a><span class="w">        </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Next.js: debug server-side&quot;</span><span class="p">,</span>
<a id="__codelineno-17-6" name="__codelineno-17-6"></a><span class="w">        </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;node-terminal&quot;</span><span class="p">,</span>
<a id="__codelineno-17-7" name="__codelineno-17-7"></a><span class="w">        </span><span class="nt">&quot;request&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;launch&quot;</span><span class="p">,</span>
<a id="__codelineno-17-8" name="__codelineno-17-8"></a><span class="w">        </span><span class="nt">&quot;command&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;npm run dev&quot;</span>
<a id="__codelineno-17-9" name="__codelineno-17-9"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-17-10" name="__codelineno-17-10"></a><span class="w">      </span><span class="p">{</span>
<a id="__codelineno-17-11" name="__codelineno-17-11"></a><span class="w">        </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Next.js: debug client-side&quot;</span><span class="p">,</span>
<a id="__codelineno-17-12" name="__codelineno-17-12"></a><span class="w">        </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pwa-chrome&quot;</span><span class="p">,</span>
<a id="__codelineno-17-13" name="__codelineno-17-13"></a><span class="w">        </span><span class="nt">&quot;request&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;launch&quot;</span><span class="p">,</span>
<a id="__codelineno-17-14" name="__codelineno-17-14"></a><span class="w">        </span><span class="nt">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&lt;http://localhost:3000&gt;&quot;</span>
<a id="__codelineno-17-15" name="__codelineno-17-15"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-17-16" name="__codelineno-17-16"></a><span class="w">      </span><span class="p">{</span>
<a id="__codelineno-17-17" name="__codelineno-17-17"></a><span class="w">        </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Next.js: debug full stack&quot;</span><span class="p">,</span>
<a id="__codelineno-17-18" name="__codelineno-17-18"></a><span class="w">        </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;node-terminal&quot;</span><span class="p">,</span>
<a id="__codelineno-17-19" name="__codelineno-17-19"></a><span class="w">        </span><span class="nt">&quot;request&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;launch&quot;</span><span class="p">,</span>
<a id="__codelineno-17-20" name="__codelineno-17-20"></a><span class="w">        </span><span class="nt">&quot;command&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;npm run dev&quot;</span><span class="p">,</span>
<a id="__codelineno-17-21" name="__codelineno-17-21"></a><span class="w">        </span><span class="nt">&quot;console&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;integratedTerminal&quot;</span><span class="p">,</span>
<a id="__codelineno-17-22" name="__codelineno-17-22"></a><span class="w">        </span><span class="nt">&quot;serverReadyAction&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-17-23" name="__codelineno-17-23"></a><span class="w">          </span><span class="nt">&quot;pattern&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;started server on .+, url: (https?://.+)&quot;</span><span class="p">,</span>
<a id="__codelineno-17-24" name="__codelineno-17-24"></a><span class="w">          </span><span class="nt">&quot;uriFormat&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;%s&quot;</span><span class="p">,</span>
<a id="__codelineno-17-25" name="__codelineno-17-25"></a><span class="w">          </span><span class="nt">&quot;action&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;debugWithChrome&quot;</span>
<a id="__codelineno-17-26" name="__codelineno-17-26"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-17-27" name="__codelineno-17-27"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-17-28" name="__codelineno-17-28"></a><span class="w">    </span><span class="p">]</span>
<a id="__codelineno-17-29" name="__codelineno-17-29"></a><span class="w">  </span><span class="p">}</span>
</code></pre></div></td></tr></table></div></p>
<p>使用该脚本你可以选择三种调试方式。单击 VS Code 左侧的小 “错误和播放图标” 或按 <code>Ctrl + Shift + D</code> 访问调试菜单。你可以选择要运行的脚本并使用启动/停止按钮启动 / 停止它</p>
<p><img src='images/004.webp' alt='4.png' /></p>
<p>除此之外，或者如果你没有使用 VS Code，我们也可以在项目中设置一些有用的调试脚本</p>
<p>首先，我们将安装 <a href="https://www.npmjs.com/package/cross-env" title="https://www.npmjs.com/package/cross-env">cross-env</a> ， 如果你有同事在不同的环境（Windows、Linux、Mac 等）上工作，则有必要设置环境变量。
<code>yarn add -D cross-env</code></p>
<p>安装完这个包之后，我们可以更新下 <code>package.json</code> 文件中的 <code>dev</code> 脚本
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-18-1">1</a></span>
<span class="normal"><a href="#__codelineno-18-2">2</a></span>
<span class="normal"><a href="#__codelineno-18-3">3</a></span>
<span class="normal"><a href="#__codelineno-18-4">4</a></span>
<span class="normal"><a href="#__codelineno-18-5">5</a></span>
<span class="normal"><a href="#__codelineno-18-6">6</a></span>
<span class="normal"><a href="#__codelineno-18-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1"></a><span class="p">{</span>
<a id="__codelineno-18-2" name="__codelineno-18-2"></a><span class="w">  </span><span class="err">...</span>
<a id="__codelineno-18-3" name="__codelineno-18-3"></a><span class="w">  </span><span class="nt">&quot;scripts&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-18-4" name="__codelineno-18-4"></a><span class="w">    </span><span class="err">...</span>
<a id="__codelineno-18-5" name="__codelineno-18-5"></a><span class="w">    </span><span class="nt">&quot;dev&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;cross-env NODE_OPTIONS=&#39;--inspect&#39; next dev&quot;</span><span class="p">,</span>
<a id="__codelineno-18-6" name="__codelineno-18-6"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-18-7" name="__codelineno-18-7"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div></p>
<p>这将允许你在开发模式下工作时在浏览器中记录服务器数据，从而更容易调试问题。</p>
<p>在这个阶段，我将创建一个新的提交 <code>build: add debugging configuration</code></p>
<h2 id="_6">目录结构<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h2>
<p>本节现在将介绍在我们的项目中设置文件夹结构。这是许多人都会有非常强烈意见的话题之一，并且有充分的理由！从长远来看，目录结构确实可以在项目失控时成就或破坏项目，尤其是当团队成员不得不花费不必要的时间来猜测将东西放在哪里（或找到东西）时。</p>
<p>我个人喜欢采用相当简单的方法，基本上以类的 model / view 将事物分开。我们将使用三个主要文件夹</p>
<blockquote>
<p>PS: 原文没有 src 目录，我个人喜欢用 src 目录，所以加了 src 根目录</p>
</blockquote>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-19-1">1</a></span>
<span class="normal"><a href="#__codelineno-19-2">2</a></span>
<span class="normal"><a href="#__codelineno-19-3">3</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1"></a>/components
<a id="__codelineno-19-2" name="__codelineno-19-2"></a>/lib
<a id="__codelineno-19-3" name="__codelineno-19-3"></a>/pages
</code></pre></div></td></tr></table></div>
<ul>
<li>components - 组成应用程序的各个 UI 组件将位于此处</li>
<li>lib - 业务 / 应用程序/ 领域 逻辑将存在于此</li>
<li>pages - 项目的实际 路由/ 页面</li>
</ul>
<p>除此之外，我们还会有其他目录来支持该项目，但构成我们的应用程序的几乎所有内容的核心都将位于这三个目录中</p>
<p>在 <code>components</code> 中，我们将有子目录，这些子目录将相似类型的组件组合在一起。你可以使用你喜欢的任何方法来执行此操作。 我过去经常使用 MUI 库，所以我倾向于遵循他们在<a href="https://mui.com/material-ui/getting-started/installation/">文档</a>中用于组件的相同组织</p>
<p>例如输入框、导航、工具方法、布局等。</p>
<p>你不需要提前创建这些目录并将它们留空。我会在构建组件时随手创建它们</p>
<p>本节旨在解释我将如何设置这个项目，你可以选择许多其他方式来组织你的项目，我鼓励你选择最适合你和团队的方式。</p>
<p>这里我再使用 <code>feat: create directory structure</code> 创建一个提交</p>
<h2 id="storybook">添加 Storybook<a class="headerlink" href="#storybook" title="Permanent link">&para;</a></h2>
<p>我们可以使用的一种很棒的现代工具叫做 <a href="https://storybook.js.org/">Storybook</a></p>
<p>Storybook 为我们提供了一个环境来展示和测试我们在我们正在使用它们的应用程序之外构建的 React 组件。它是将开发人员与设计人员联系起来并能够根据设计要求验证我们开发的组件的外观和功能的好工具</p>
<p>请注意，Storybook 是一种可视化测试工具，稍后我们将引入其他工具来进行功能单元测试和端到端测试</p>
<p>学习如何使用 Storybook 的最佳方式是安装并试用它！<code>npx sb init --builder webpack5</code></p>
<p>我们将使用 webpack5 版本来与最新版本的 webpack 保持同步（我不确定为什么它仍然不是默认版本。也许在你使用本教程时已经是了）。</p>
<p>当 Storybook 安装时，它会自动检测有关项目的很多信息，比如它是一个 React 应用程序，以及正在使用的其他工具。 它应该兼容好所有配置本身。</p>
<p>如果你收到有关 eslintPlugin 的提示，你可以选择“是”。 不过，我们将手动配置它，所以如果你收到一条消息说它没有自动配置，请不要担心。</p>
<p>打开 <code>eslintrc.json</code> 文件并更新它
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-20-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-20-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-20-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-20-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-20-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-20-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-20-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-20-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-20-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-20-10">10</a></span>
<span class="normal"><a href="#__codelineno-20-11">11</a></span>
<span class="normal"><a href="#__codelineno-20-12">12</a></span>
<span class="normal"><a href="#__codelineno-20-13">13</a></span>
<span class="normal"><a href="#__codelineno-20-14">14</a></span>
<span class="normal"><a href="#__codelineno-20-15">15</a></span>
<span class="normal"><a href="#__codelineno-20-16">16</a></span>
<span class="normal"><a href="#__codelineno-20-17">17</a></span>
<span class="normal"><a href="#__codelineno-20-18">18</a></span>
<span class="normal"><a href="#__codelineno-20-19">19</a></span>
<span class="normal"><a href="#__codelineno-20-20">20</a></span>
<span class="normal"><a href="#__codelineno-20-21">21</a></span>
<span class="normal"><a href="#__codelineno-20-22">22</a></span>
<span class="normal"><a href="#__codelineno-20-23">23</a></span>
<span class="normal"><a href="#__codelineno-20-24">24</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1"></a><span class="p">{</span>
<a id="__codelineno-20-2" name="__codelineno-20-2"></a><span class="w">  </span><span class="nt">&quot;extends&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-20-3" name="__codelineno-20-3"></a><span class="w">    </span><span class="s2">&quot;plugin:storybook/recommended&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// 新加入</span>
<a id="__codelineno-20-4" name="__codelineno-20-4"></a><span class="w">    </span><span class="s2">&quot;next&quot;</span><span class="p">,</span>
<a id="__codelineno-20-5" name="__codelineno-20-5"></a><span class="w">    </span><span class="s2">&quot;next/core-web-vitals&quot;</span><span class="p">,</span>
<a id="__codelineno-20-6" name="__codelineno-20-6"></a><span class="w">    </span><span class="s2">&quot;eslint:recommended&quot;</span>
<a id="__codelineno-20-7" name="__codelineno-20-7"></a><span class="w">  </span><span class="p">],</span>
<a id="__codelineno-20-8" name="__codelineno-20-8"></a><span class="w">  </span><span class="nt">&quot;globals&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-20-9" name="__codelineno-20-9"></a><span class="w">    </span><span class="nt">&quot;React&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;readonly&quot;</span>
<a id="__codelineno-20-10" name="__codelineno-20-10"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-20-11" name="__codelineno-20-11"></a><span class="w">  </span><span class="c1">// 新加入</span>
<a id="__codelineno-20-12" name="__codelineno-20-12"></a><span class="w">  </span><span class="nt">&quot;overrides&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-20-13" name="__codelineno-20-13"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-20-14" name="__codelineno-20-14"></a><span class="w">      </span><span class="nt">&quot;files&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;*.stories.@(ts|tsx|js|jsx|mjs|cjs)&quot;</span><span class="p">],</span>
<a id="__codelineno-20-15" name="__codelineno-20-15"></a><span class="w">      </span><span class="nt">&quot;rules&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-20-16" name="__codelineno-20-16"></a><span class="w">        </span><span class="c1">// example of overriding a rule</span>
<a id="__codelineno-20-17" name="__codelineno-20-17"></a><span class="w">        </span><span class="nt">&quot;storybook/hierarchy-separator&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;error&quot;</span>
<a id="__codelineno-20-18" name="__codelineno-20-18"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-20-19" name="__codelineno-20-19"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-20-20" name="__codelineno-20-20"></a><span class="w">  </span><span class="p">],</span>
<a id="__codelineno-20-21" name="__codelineno-20-21"></a><span class="w">  </span><span class="nt">&quot;rules&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-20-22" name="__codelineno-20-22"></a><span class="w">    </span><span class="nt">&quot;no-unused-vars&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;args&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;after-used&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;argsIgnorePattern&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;^_&quot;</span><span class="w"> </span><span class="p">}]</span>
<a id="__codelineno-20-23" name="__codelineno-20-23"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-20-24" name="__codelineno-20-24"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div></p>
<p>我添加了 <code>// 新加入</code> 来标记 Storybook 特定的两个新部分和行。</p>
<p>我们注意到，Storybook 也已将 /stories 目录添加到项目中，其中包含许多示例。如果你是 Storybook 的新手，我强烈建议你通读它们并将它们留在那里，直到你能够脱离模板自如地创建自己的示例。</p>
<p>在我们运行它之前，我们需要确保我们使用的是 webpack5。 将以下内容添加到 <code>package.json</code> 文件中：
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-21-1">1</a></span>
<span class="normal"><a href="#__codelineno-21-2">2</a></span>
<span class="normal"><a href="#__codelineno-21-3">3</a></span>
<span class="normal"><a href="#__codelineno-21-4">4</a></span>
<span class="normal"><a href="#__codelineno-21-5">5</a></span>
<span class="normal"><a href="#__codelineno-21-6">6</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1"></a><span class="p">{</span>
<a id="__codelineno-21-2" name="__codelineno-21-2"></a><span class="w">  </span><span class="err">...</span>
<a id="__codelineno-21-3" name="__codelineno-21-3"></a><span class="w">  </span><span class="nt">&quot;resolutions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-21-4" name="__codelineno-21-4"></a><span class="w">    </span><span class="nt">&quot;webpack&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;^5&quot;</span>
<a id="__codelineno-21-5" name="__codelineno-21-5"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-21-6" name="__codelineno-21-6"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div></p>
<p>然后运行<code>yarn install</code></p>
<p>确保 webpack5 已经被安装</p>
<p>接下来更新 <code>.storybook/main.js</code> 文件
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-22-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-22-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-22-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-22-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-22-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-22-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-22-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-22-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-22-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-22-10">10</a></span>
<span class="normal"><a href="#__codelineno-22-11">11</a></span>
<span class="normal"><a href="#__codelineno-22-12">12</a></span>
<span class="normal"><a href="#__codelineno-22-13">13</a></span>
<span class="normal"><a href="#__codelineno-22-14">14</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1"></a><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-22-2" name="__codelineno-22-2"></a><span class="w">  </span><span class="nx">stories</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;../**/*.stories.mdx&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;../**/*.stories.@(js|jsx|ts|tsx)&#39;</span><span class="p">],</span>
<a id="__codelineno-22-3" name="__codelineno-22-3"></a><span class="w">    </span><span class="cm">/** 暴露 public 目录给到 stotrybook，作为静态资源目录 */</span>
<a id="__codelineno-22-4" name="__codelineno-22-4"></a><span class="w">  </span><span class="nx">staticDirs</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;../public&#39;</span><span class="p">],</span>
<a id="__codelineno-22-5" name="__codelineno-22-5"></a><span class="w">  </span><span class="nx">addons</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-22-6" name="__codelineno-22-6"></a><span class="w">    </span><span class="s1">&#39;@storybook/addon-links&#39;</span><span class="p">,</span>
<a id="__codelineno-22-7" name="__codelineno-22-7"></a><span class="w">    </span><span class="s1">&#39;@storybook/addon-essentials&#39;</span><span class="p">,</span>
<a id="__codelineno-22-8" name="__codelineno-22-8"></a><span class="w">    </span><span class="s1">&#39;@storybook/addon-interactions&#39;</span><span class="p">,</span>
<a id="__codelineno-22-9" name="__codelineno-22-9"></a><span class="w">  </span><span class="p">],</span>
<a id="__codelineno-22-10" name="__codelineno-22-10"></a><span class="w">  </span><span class="nx">framework</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;@storybook/react&#39;</span><span class="p">,</span>
<a id="__codelineno-22-11" name="__codelineno-22-11"></a><span class="w">  </span><span class="nx">core</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-22-12" name="__codelineno-22-12"></a><span class="w">    </span><span class="nx">builder</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;@storybook/builder-webpack5&#39;</span><span class="p">,</span>
<a id="__codelineno-22-13" name="__codelineno-22-13"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-22-14" name="__codelineno-22-14"></a><span class="p">};</span>
</code></pre></div></td></tr></table></div></p>
<p>在这里，我们更改了 stories 文件的模式，以便它可以在我们的组件（或其他）目录中选取任何 .stories 文件。</p>
<p>我们暴露了 Next.js 的 “public” 目录作为 Storybook 的静态资源目录，这样我们就可以在 Storybook 中测试类似图片，视频等资源了</p>
<p>最后，在我们运行 Storybook 本身之前，让我们在 <code>.storybook/preview.js</code> 中添加一些有用的值。 这是我们控制 stories 渲染方式默认值的文件。</p>
<p><code>storybook/preview.js</code>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-23-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-23-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-23-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-23-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-23-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-23-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-23-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-23-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-23-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-23-10">10</a></span>
<span class="normal"><a href="#__codelineno-23-11">11</a></span>
<span class="normal"><a href="#__codelineno-23-12">12</a></span>
<span class="normal"><a href="#__codelineno-23-13">13</a></span>
<span class="normal"><a href="#__codelineno-23-14">14</a></span>
<span class="normal"><a href="#__codelineno-23-15">15</a></span>
<span class="normal"><a href="#__codelineno-23-16">16</a></span>
<span class="normal"><a href="#__codelineno-23-17">17</a></span>
<span class="normal"><a href="#__codelineno-23-18">18</a></span>
<span class="normal"><a href="#__codelineno-23-19">19</a></span>
<span class="normal"><a href="#__codelineno-23-20">20</a></span>
<span class="normal"><a href="#__codelineno-23-21">21</a></span>
<span class="normal"><a href="#__codelineno-23-22">22</a></span>
<span class="normal"><a href="#__codelineno-23-23">23</a></span>
<span class="normal"><a href="#__codelineno-23-24">24</a></span>
<span class="normal"><a href="#__codelineno-23-25">25</a></span>
<span class="normal"><a href="#__codelineno-23-26">26</a></span>
<span class="normal"><a href="#__codelineno-23-27">27</a></span>
<span class="normal"><a href="#__codelineno-23-28">28</a></span>
<span class="normal"><a href="#__codelineno-23-29">29</a></span>
<span class="normal"><a href="#__codelineno-23-30">30</a></span>
<span class="normal"><a href="#__codelineno-23-31">31</a></span>
<span class="normal"><a href="#__codelineno-23-32">32</a></span>
<span class="normal"><a href="#__codelineno-23-33">33</a></span>
<span class="normal"><a href="#__codelineno-23-34">34</a></span>
<span class="normal"><a href="#__codelineno-23-35">35</a></span>
<span class="normal"><a href="#__codelineno-23-36">36</a></span>
<span class="normal"><a href="#__codelineno-23-37">37</a></span>
<span class="normal"><a href="#__codelineno-23-38">38</a></span>
<span class="normal"><a href="#__codelineno-23-39">39</a></span>
<span class="normal"><a href="#__codelineno-23-40">40</a></span>
<span class="normal"><a href="#__codelineno-23-41">41</a></span>
<span class="normal"><a href="#__codelineno-23-42">42</a></span>
<span class="normal"><a href="#__codelineno-23-43">43</a></span>
<span class="normal"><a href="#__codelineno-23-44">44</a></span>
<span class="normal"><a href="#__codelineno-23-45">45</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1"></a><span class="k">import</span><span class="w"> </span><span class="s1">&#39;../styles/globals.css&#39;</span><span class="p">;</span>
<a id="__codelineno-23-2" name="__codelineno-23-2"></a><span class="k">import</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="nx">NextImage</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;next/image&#39;</span><span class="p">;</span>
<a id="__codelineno-23-3" name="__codelineno-23-3"></a>
<a id="__codelineno-23-4" name="__codelineno-23-4"></a><span class="kd">const</span><span class="w"> </span><span class="nx">BREAKPOINTS_INT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-23-5" name="__codelineno-23-5"></a><span class="w">  </span><span class="nx">xs</span><span class="o">:</span><span class="w"> </span><span class="mf">375</span><span class="p">,</span>
<a id="__codelineno-23-6" name="__codelineno-23-6"></a><span class="w">  </span><span class="nx">sm</span><span class="o">:</span><span class="w"> </span><span class="mf">600</span><span class="p">,</span>
<a id="__codelineno-23-7" name="__codelineno-23-7"></a><span class="w">  </span><span class="nx">md</span><span class="o">:</span><span class="w"> </span><span class="mf">900</span><span class="p">,</span>
<a id="__codelineno-23-8" name="__codelineno-23-8"></a><span class="w">  </span><span class="nx">lg</span><span class="o">:</span><span class="w"> </span><span class="mf">1200</span><span class="p">,</span>
<a id="__codelineno-23-9" name="__codelineno-23-9"></a><span class="w">  </span><span class="nx">xl</span><span class="o">:</span><span class="w"> </span><span class="mf">1536</span><span class="p">,</span>
<a id="__codelineno-23-10" name="__codelineno-23-10"></a><span class="p">};</span>
<a id="__codelineno-23-11" name="__codelineno-23-11"></a>
<a id="__codelineno-23-12" name="__codelineno-23-12"></a><span class="kd">const</span><span class="w"> </span><span class="nx">customViewports</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Object</span><span class="p">.</span><span class="nx">fromEntries</span><span class="p">(</span>
<a id="__codelineno-23-13" name="__codelineno-23-13"></a><span class="w">  </span><span class="nb">Object</span><span class="p">.</span><span class="nx">entries</span><span class="p">(</span><span class="nx">BREAKPOINTS_INT</span><span class="p">).</span><span class="nx">map</span><span class="p">(([</span><span class="nx">key</span><span class="p">,</span><span class="w"> </span><span class="nx">val</span><span class="p">],</span><span class="w"> </span><span class="nx">idx</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-23-14" name="__codelineno-23-14"></a><span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">val</span><span class="p">);</span>
<a id="__codelineno-23-15" name="__codelineno-23-15"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-23-16" name="__codelineno-23-16"></a><span class="w">      </span><span class="nx">key</span><span class="p">,</span>
<a id="__codelineno-23-17" name="__codelineno-23-17"></a><span class="w">      </span><span class="p">{</span>
<a id="__codelineno-23-18" name="__codelineno-23-18"></a><span class="w">        </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="nx">key</span><span class="p">,</span>
<a id="__codelineno-23-19" name="__codelineno-23-19"></a><span class="w">        </span><span class="nx">styles</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-23-20" name="__codelineno-23-20"></a><span class="w">          </span><span class="nx">width</span><span class="o">:</span><span class="w"> </span><span class="sb">`</span><span class="si">${</span><span class="nx">val</span><span class="si">}</span><span class="sb">px`</span><span class="p">,</span>
<a id="__codelineno-23-21" name="__codelineno-23-21"></a><span class="w">          </span><span class="nx">height</span><span class="o">:</span><span class="w"> </span><span class="sb">`</span><span class="si">${</span><span class="p">(</span><span class="nx">idx</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">5</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">10</span><span class="si">}</span><span class="sb">vh`</span><span class="p">,</span>
<a id="__codelineno-23-22" name="__codelineno-23-22"></a><span class="w">        </span><span class="p">},</span>
<a id="__codelineno-23-23" name="__codelineno-23-23"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-23-24" name="__codelineno-23-24"></a><span class="w">    </span><span class="p">];</span>
<a id="__codelineno-23-25" name="__codelineno-23-25"></a><span class="w">  </span><span class="p">})</span>
<a id="__codelineno-23-26" name="__codelineno-23-26"></a><span class="p">);</span>
<a id="__codelineno-23-27" name="__codelineno-23-27"></a>
<a id="__codelineno-23-28" name="__codelineno-23-28"></a><span class="c1">// 允许 Storybook 处理 Next 的 &lt;Image&gt; 组件</span>
<a id="__codelineno-23-29" name="__codelineno-23-29"></a><span class="kd">const</span><span class="w"> </span><span class="nx">OriginalNextImage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">NextImage</span><span class="p">.</span><span class="k">default</span><span class="p">;</span>
<a id="__codelineno-23-30" name="__codelineno-23-30"></a>
<a id="__codelineno-23-31" name="__codelineno-23-31"></a><span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">NextImage</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;default&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-23-32" name="__codelineno-23-32"></a><span class="w">  </span><span class="nx">configurable</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<a id="__codelineno-23-33" name="__codelineno-23-33"></a><span class="w">  </span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="nx">props</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">OriginalNextImage</span><span class="w"> </span><span class="p">{...</span><span class="nx">props</span><span class="p">}</span><span class="w"> </span><span class="nx">unoptimized</span><span class="w"> </span><span class="o">/&gt;</span><span class="p">,</span>
<a id="__codelineno-23-34" name="__codelineno-23-34"></a><span class="p">});</span>
<a id="__codelineno-23-35" name="__codelineno-23-35"></a>
<a id="__codelineno-23-36" name="__codelineno-23-36"></a><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">parameters</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-23-37" name="__codelineno-23-37"></a><span class="w">  </span><span class="nx">actions</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">argTypesRegex</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;^on[A-Z].*&#39;</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-23-38" name="__codelineno-23-38"></a><span class="w">  </span><span class="nx">controls</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-23-39" name="__codelineno-23-39"></a><span class="w">    </span><span class="nx">matchers</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-23-40" name="__codelineno-23-40"></a><span class="w">      </span><span class="nx">color</span><span class="o">:</span><span class="w"> </span><span class="sr">/(background|color)$/i</span><span class="p">,</span>
<a id="__codelineno-23-41" name="__codelineno-23-41"></a><span class="w">      </span><span class="nx">date</span><span class="o">:</span><span class="w"> </span><span class="sr">/Date$/</span><span class="p">,</span>
<a id="__codelineno-23-42" name="__codelineno-23-42"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-23-43" name="__codelineno-23-43"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-23-44" name="__codelineno-23-44"></a><span class="w">  </span><span class="nx">viewport</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">viewports</span><span class="o">:</span><span class="w"> </span><span class="nx">customViewports</span><span class="w"> </span><span class="p">},</span>
<a id="__codelineno-23-45" name="__codelineno-23-45"></a><span class="p">};</span>
</code></pre></div></td></tr></table></div></p>
<p>上面有几个属于个人喜好，大家可以随意配置。请务必设置默认断点以匹配应用中对你重要的任何内容。我们还添加了一个处理方法，以便 Storybook 可以处理 Next 的<code>&lt;Image&gt;</code>组件而不会崩溃。</p>
<p>现在我们准备来测试一下，运行<code>yarn storybook</code></p>
<p>如果一切顺利，将在控制台中看到一条消息，如下所示：</p>
<p><img src='images/005.webp' alt='5.png' /></p>
<p>然后你可以通过 <code>http://localhost:6006/</code>访问到</p>
<p><img src='images/006.webp' alt='6.png' /></p>
<p>如果你以前从未使用过这些示例，我希望你尝试并熟悉这些示例。</p>
<p>在这个阶段，我再创建一个提交 <code>build: implement storybook</code></p>
<h2 id="_7">创建一个组件模版<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h2>
<p>是时候将我们已经完成的所有配置放在一起，看看如何使用我们为自己设定的标准来创建和实现我们的第一个组件了</p>
<p>我们将创建一个简单的卡片。创建如下的目录</p>
<p><code>/src/components/template/base</code></p>
<p>在这个目录中创建 <code>BaseTemplate.tsx</code> 。这将遵循文件名的标准模式，该模式与指向它的目录相匹配。例如，这允许我们在卡片目录中拥有其他类型的卡片，如 <code>PhotoCard</code> 或 <code>TextCard</code> 等。</p>
<p><code>BaseTemplate.tsx</code>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-24-1">1</a></span>
<span class="normal"><a href="#__codelineno-24-2">2</a></span>
<span class="normal"><a href="#__codelineno-24-3">3</a></span>
<span class="normal"><a href="#__codelineno-24-4">4</a></span>
<span class="normal"><a href="#__codelineno-24-5">5</a></span>
<span class="normal"><a href="#__codelineno-24-6">6</a></span>
<span class="normal"><a href="#__codelineno-24-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1"></a><span class="k">export</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="nx">IBaseTemplate</span><span class="w"> </span><span class="p">{}</span>
<a id="__codelineno-24-2" name="__codelineno-24-2"></a>
<a id="__codelineno-24-3" name="__codelineno-24-3"></a><span class="kd">const</span><span class="w"> </span><span class="nx">BaseTemplate</span><span class="o">:</span><span class="w"> </span><span class="kt">React.FC</span><span class="o">&lt;</span><span class="nx">IBaseTemplate</span><span class="o">&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-24-4" name="__codelineno-24-4"></a><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="nx">Hello</span><span class="w"> </span><span class="nx">world</span><span class="o">!&lt;</span><span class="err">/div&gt;;</span>
<a id="__codelineno-24-5" name="__codelineno-24-5"></a><span class="p">};</span>
<a id="__codelineno-24-6" name="__codelineno-24-6"></a>
<a id="__codelineno-24-7" name="__codelineno-24-7"></a><span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">BaseTemplate</span><span class="p">;</span>
</code></pre></div></td></tr></table></div></p>
<p>我们的每一个组件都将遵循这个确切的结构。即使它不使用 props，它仍然会为组件导出一个空的 props 接口。这样做的原因是它将允许我们在许多组件和文件中复制这个精确的结构，并使用相同的模式交换组件，并且只查找/替换组件的名称。</p>
<p>当你开始使用 stories 和 mock props时，就会明白为所有组件文件维护一致的命名方案和界面是多么方便和强大。</p>
<p>这其中就遵循了我们之前提及到的 <strong>一致性就是一切</strong></p>
<p>接下来我们会为组件创建样式文件。我个人更喜欢将样式文件存放在各个组件的文件夹中</p>
<p><code>BaseTemplate.module.css</code>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-25-1">1</a></span>
<span class="normal"><a href="#__codelineno-25-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1"></a><span class="p">.</span><span class="nc">component</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-25-2" name="__codelineno-25-2"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div></p>
<p>作为顶级样式，将在你的组件目录中放置标准空模板。你可以像如下一样更新 <code>BaseTemplate</code> 文件</p>
<p><code>BaseTemplate.tsx</code>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-26-1">1</a></span>
<span class="normal"><a href="#__codelineno-26-2">2</a></span>
<span class="normal"><a href="#__codelineno-26-3">3</a></span>
<span class="normal"><a href="#__codelineno-26-4">4</a></span>
<span class="normal"><a href="#__codelineno-26-5">5</a></span>
<span class="normal"><a href="#__codelineno-26-6">6</a></span>
<span class="normal"><a href="#__codelineno-26-7">7</a></span>
<span class="normal"><a href="#__codelineno-26-8">8</a></span>
<span class="normal"><a href="#__codelineno-26-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1"></a><span class="k">import</span><span class="w"> </span><span class="nx">styles</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;./BaseTemplate.module.css&#39;</span><span class="p">;</span>
<a id="__codelineno-26-2" name="__codelineno-26-2"></a>
<a id="__codelineno-26-3" name="__codelineno-26-3"></a><span class="k">export</span><span class="w"> </span><span class="kd">interface</span><span class="w"> </span><span class="nx">IBaseTemplate</span><span class="w"> </span><span class="p">{}</span>
<a id="__codelineno-26-4" name="__codelineno-26-4"></a>
<a id="__codelineno-26-5" name="__codelineno-26-5"></a><span class="kd">const</span><span class="w"> </span><span class="nx">BaseTemplate</span><span class="o">:</span><span class="w"> </span><span class="kt">React.FC</span><span class="o">&lt;</span><span class="nx">IBaseTemplate</span><span class="o">&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-26-6" name="__codelineno-26-6"></a><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="p">{</span><span class="nx">styles</span><span class="p">.</span><span class="nx">container</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">Hello</span><span class="w"> </span><span class="nx">world</span><span class="o">!&lt;</span><span class="err">/div&gt;;</span>
<a id="__codelineno-26-7" name="__codelineno-26-7"></a><span class="p">};</span>
<a id="__codelineno-26-8" name="__codelineno-26-8"></a>
<a id="__codelineno-26-9" name="__codelineno-26-9"></a><span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">BaseTemplate</span><span class="p">;</span>
</code></pre></div></td></tr></table></div></p>
<p>现在，我们拥有了一个干净的样式模版</p>
<p>现在让我们为组件添加一个实验性质的 prop</p>
<p><code>BaseTemplate.tsx</code>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-27-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-27-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-27-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-27-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-27-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-27-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-27-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-27-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-27-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-27-10">10</a></span>
<span class="normal"><a href="#__codelineno-27-11">11</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1"></a><span class="k">import</span><span class="w"> </span><span class="nx">styles</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;./BaseTemplate.module.css&#39;</span><span class="p">;</span>
<a id="__codelineno-27-2" name="__codelineno-27-2"></a>
<a id="__codelineno-27-3" name="__codelineno-27-3"></a><span class="k">export</span><span class="w"> </span><span class="kr">interface</span><span class="w"> </span><span class="nx">IBaseTemplate</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-27-4" name="__codelineno-27-4"></a><span class="w">  </span><span class="nx">sampleTextProp</span><span class="o">:</span><span class="w"> </span><span class="nx">string</span><span class="p">;</span>
<a id="__codelineno-27-5" name="__codelineno-27-5"></a><span class="p">}</span>
<a id="__codelineno-27-6" name="__codelineno-27-6"></a>
<a id="__codelineno-27-7" name="__codelineno-27-7"></a><span class="kd">const</span><span class="w"> </span><span class="nx">BaseTemplate</span><span class="o">:</span><span class="w"> </span><span class="nx">React</span><span class="p">.</span><span class="nx">FC</span><span class="o">&lt;</span><span class="nx">IBaseTemplate</span><span class="o">&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="nx">sampleTextProp</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-27-8" name="__codelineno-27-8"></a><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="p">{</span><span class="nx">styles</span><span class="p">.</span><span class="nx">container</span><span class="p">}</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">sampleTextProp</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/div&gt;;</span>
<a id="__codelineno-27-9" name="__codelineno-27-9"></a><span class="p">};</span>
<a id="__codelineno-27-10" name="__codelineno-27-10"></a>
<a id="__codelineno-27-11" name="__codelineno-27-11"></a><span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">BaseTemplate</span><span class="p">;</span>
</code></pre></div></td></tr></table></div></p>
<p>对于每一个我们创建的组件，我们希望能够快速的方便的在不同环境（比如在 storybook，或者在 app 内，或者在我们编写的单元测试中）中去测试它。快速访问数据来渲染组件将会很方便。</p>
<p>让我们创建一个文件来存储这个组件的模拟数据，这些模拟数据是给后续测试使用的。</p>
<p><code>BaseTemplate.mocks.ts</code>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-28-1">1</a></span>
<span class="normal"><a href="#__codelineno-28-2">2</a></span>
<span class="normal"><a href="#__codelineno-28-3">3</a></span>
<span class="normal"><a href="#__codelineno-28-4">4</a></span>
<span class="normal"><a href="#__codelineno-28-5">5</a></span>
<span class="normal"><a href="#__codelineno-28-6">6</a></span>
<span class="normal"><a href="#__codelineno-28-7">7</a></span>
<span class="normal"><a href="#__codelineno-28-8">8</a></span>
<span class="normal"><a href="#__codelineno-28-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1"></a><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">IBaseTemplate</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;./BaseTemplate&#39;</span><span class="p">;</span>
<a id="__codelineno-28-2" name="__codelineno-28-2"></a>
<a id="__codelineno-28-3" name="__codelineno-28-3"></a><span class="kd">const</span><span class="w"> </span><span class="nx">base</span><span class="o">:</span><span class="w"> </span><span class="nx">IBaseTemplate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-28-4" name="__codelineno-28-4"></a><span class="w">  </span><span class="nx">sampleTextProp</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Hello world!&#39;</span><span class="p">,</span>
<a id="__codelineno-28-5" name="__codelineno-28-5"></a><span class="p">};</span>
<a id="__codelineno-28-6" name="__codelineno-28-6"></a>
<a id="__codelineno-28-7" name="__codelineno-28-7"></a><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">mockBaseTemplateProps</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-28-8" name="__codelineno-28-8"></a><span class="w">  </span><span class="nx">base</span><span class="p">,</span>
<a id="__codelineno-28-9" name="__codelineno-28-9"></a><span class="p">};</span>
</code></pre></div></td></tr></table></div></p>
<p>这个结构看起来有点点复杂，但很快我们将看到它的优点。我使用十分见名知意的一致命名模式，所以这个模板很容易复制并粘贴到你创建的每个新组件。</p>
<p>现在我们为这个组件创建一个 story</p>
<p><code>BaseTemplate.stories.tsx</code>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-29-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-29-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-29-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-29-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-29-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-29-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-29-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-29-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-29-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-29-10">10</a></span>
<span class="normal"><a href="#__codelineno-29-11">11</a></span>
<span class="normal"><a href="#__codelineno-29-12">12</a></span>
<span class="normal"><a href="#__codelineno-29-13">13</a></span>
<span class="normal"><a href="#__codelineno-29-14">14</a></span>
<span class="normal"><a href="#__codelineno-29-15">15</a></span>
<span class="normal"><a href="#__codelineno-29-16">16</a></span>
<span class="normal"><a href="#__codelineno-29-17">17</a></span>
<span class="normal"><a href="#__codelineno-29-18">18</a></span>
<span class="normal"><a href="#__codelineno-29-19">19</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1"></a><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">ComponentStory</span><span class="p">,</span><span class="w"> </span><span class="nx">ComponentMeta</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@storybook/react&#39;</span><span class="p">;</span>
<a id="__codelineno-29-2" name="__codelineno-29-2"></a><span class="k">import</span><span class="w"> </span><span class="nx">BaseTemplate</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">IBaseTemplate</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;./BaseTemplate&#39;</span><span class="p">;</span>
<a id="__codelineno-29-3" name="__codelineno-29-3"></a><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">mockBaseTemplateProps</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;./BaseTemplate.mocks&#39;</span>
<a id="__codelineno-29-4" name="__codelineno-29-4"></a>
<a id="__codelineno-29-5" name="__codelineno-29-5"></a><span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-29-6" name="__codelineno-29-6"></a><span class="w">    </span><span class="nx">title</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;templates/BaseTemplate&#39;</span><span class="p">,</span>
<a id="__codelineno-29-7" name="__codelineno-29-7"></a><span class="w">    </span><span class="nx">component</span><span class="o">:</span><span class="w"> </span><span class="nx">BaseTemplate</span><span class="p">,</span>
<a id="__codelineno-29-8" name="__codelineno-29-8"></a><span class="w">    </span><span class="nx">argTypes</span><span class="o">:</span><span class="w"> </span><span class="p">{},</span>
<a id="__codelineno-29-9" name="__codelineno-29-9"></a><span class="p">}</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="nx">ComponentMeta</span><span class="o">&lt;</span><span class="ow">typeof</span><span class="w"> </span><span class="nx">BaseTemplate</span><span class="o">&gt;</span><span class="p">;</span>
<a id="__codelineno-29-10" name="__codelineno-29-10"></a>
<a id="__codelineno-29-11" name="__codelineno-29-11"></a><span class="kd">const</span><span class="w"> </span><span class="nx">Template</span><span class="o">:</span><span class="w"> </span><span class="nx">ComponentStory</span><span class="o">&lt;</span><span class="ow">typeof</span><span class="w"> </span><span class="nx">BaseTemplate</span><span class="o">&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">args</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">(</span>
<a id="__codelineno-29-12" name="__codelineno-29-12"></a><span class="w">    </span><span class="o">&lt;</span><span class="nx">BaseTemplate</span><span class="w"> </span><span class="p">{...</span><span class="nx">args</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span>
<a id="__codelineno-29-13" name="__codelineno-29-13"></a><span class="p">);</span>
<a id="__codelineno-29-14" name="__codelineno-29-14"></a>
<a id="__codelineno-29-15" name="__codelineno-29-15"></a><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">Base</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">Template</span><span class="p">.</span><span class="nx">bind</span><span class="p">({});</span>
<a id="__codelineno-29-16" name="__codelineno-29-16"></a>
<a id="__codelineno-29-17" name="__codelineno-29-17"></a><span class="nx">Base</span><span class="p">.</span><span class="nx">args</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-29-18" name="__codelineno-29-18"></a><span class="w">    </span><span class="p">...</span><span class="nx">mockBaseTemplateProps</span><span class="p">.</span><span class="nx">base</span><span class="p">,</span>
<a id="__codelineno-29-19" name="__codelineno-29-19"></a><span class="p">}</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="nx">IBaseTemplate</span><span class="p">;</span>
</code></pre></div></td></tr></table></div></p>
<p>我不会告诉你每一个 story 文件的具体细节，对你来说，做好的学习资源是 Storybook 的官方文档。</p>
<p>这里目标是创建一个容易复制粘贴的一致性的组件模版，以供组件进行开发和测试</p>
<p>现在测试一下 <code>yarn storybook</code></p>
<p>如果一切顺利，你将会看到下面的界面（如果有问题，我建议你再重新检查一下之前的配置正不正确）</p>
<p><img src='images/007.webp' alt='7.png' /></p>
<p>现在我们开始创建更多文件，最好养成在提交之前运行 <code>yarn lint</code> 的习惯，以确保一切都是干净的并准备就绪。我在这里再创建一个提交 <code>build: create BaseTemplate component</code></p>
<h2 id="_8">使用组件模版<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h2>
<p>既然我们已经有了组件模版，接下来我们就创建一个真实的组件</p>
<p>创建 <code>components/cards</code> 目录。然后将 <code>templates</code> 目录下的 <code>base</code> 文件夹拷贝到 <code>cards</code> 下面，然后再将 <code>base</code> 重命名为 <code>cat</code> 。我们将创建一个 <code>CatCard</code> 。重命名每个文件以匹配。 完成后应该是这样的：</p>
<p><img src='images/008.webp' alt='8.png' /></p>
<p>然后在 <code>components/cards/cat</code> 目录下，全局将 <code>BaseTemplate</code> 替换为 <code>CatCard</code> ，如下</p>
<p><img src='images/009.webp' alt='9.png' /></p>
<p>现在我们准备开始工作，我们已经有了一个干净的预生成的模版，其中已经为我们的 Card 组件包含了 story 文件和模拟数据文件。相当的方便！让我们开始开发 Card 组件吧：</p>
<p><code>CatCard.tsx</code>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-30-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-30-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-30-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-30-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-30-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-30-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-30-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-30-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-30-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-30-10">10</a></span>
<span class="normal"><a href="#__codelineno-30-11">11</a></span>
<span class="normal"><a href="#__codelineno-30-12">12</a></span>
<span class="normal"><a href="#__codelineno-30-13">13</a></span>
<span class="normal"><a href="#__codelineno-30-14">14</a></span>
<span class="normal"><a href="#__codelineno-30-15">15</a></span>
<span class="normal"><a href="#__codelineno-30-16">16</a></span>
<span class="normal"><a href="#__codelineno-30-17">17</a></span>
<span class="normal"><a href="#__codelineno-30-18">18</a></span>
<span class="normal"><a href="#__codelineno-30-19">19</a></span>
<span class="normal"><a href="#__codelineno-30-20">20</a></span>
<span class="normal"><a href="#__codelineno-30-21">21</a></span>
<span class="normal"><a href="#__codelineno-30-22">22</a></span>
<span class="normal"><a href="#__codelineno-30-23">23</a></span>
<span class="normal"><a href="#__codelineno-30-24">24</a></span>
<span class="normal"><a href="#__codelineno-30-25">25</a></span>
<span class="normal"><a href="#__codelineno-30-26">26</a></span>
<span class="normal"><a href="#__codelineno-30-27">27</a></span>
<span class="normal"><a href="#__codelineno-30-28">28</a></span>
<span class="normal"><a href="#__codelineno-30-29">29</a></span>
<span class="normal"><a href="#__codelineno-30-30">30</a></span>
<span class="normal"><a href="#__codelineno-30-31">31</a></span>
<span class="normal"><a href="#__codelineno-30-32">32</a></span>
<span class="normal"><a href="#__codelineno-30-33">33</a></span>
<span class="normal"><a href="#__codelineno-30-34">34</a></span>
<span class="normal"><a href="#__codelineno-30-35">35</a></span>
<span class="normal"><a href="#__codelineno-30-36">36</a></span>
<span class="normal"><a href="#__codelineno-30-37">37</a></span>
<span class="normal"><a href="#__codelineno-30-38">38</a></span>
<span class="normal"><a href="#__codelineno-30-39">39</a></span>
<span class="normal"><a href="#__codelineno-30-40">40</a></span>
<span class="normal"><a href="#__codelineno-30-41">41</a></span>
<span class="normal"><a href="#__codelineno-30-42">42</a></span>
<span class="normal"><a href="#__codelineno-30-43">43</a></span>
<span class="normal"><a href="#__codelineno-30-44">44</a></span>
<span class="normal"><a href="#__codelineno-30-45">45</a></span>
<span class="normal"><a href="#__codelineno-30-46">46</a></span>
<span class="normal"><a href="#__codelineno-30-47">47</a></span>
<span class="normal"><a href="#__codelineno-30-48">48</a></span>
<span class="normal"><a href="#__codelineno-30-49">49</a></span>
<span class="normal"><a href="#__codelineno-30-50">50</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1"></a><span class="k">import</span><span class="w"> </span><span class="nx">Image</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;next/image&#39;</span><span class="p">;</span>
<a id="__codelineno-30-2" name="__codelineno-30-2"></a><span class="k">import</span><span class="w"> </span><span class="nx">styles</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;./CatCard.module.css&#39;</span><span class="p">;</span>
<a id="__codelineno-30-3" name="__codelineno-30-3"></a>
<a id="__codelineno-30-4" name="__codelineno-30-4"></a><span class="k">export</span><span class="w"> </span><span class="kr">interface</span><span class="w"> </span><span class="nx">ICatCard</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-30-5" name="__codelineno-30-5"></a><span class="w">  </span><span class="nx">tag</span><span class="o">:</span><span class="w"> </span><span class="nx">string</span><span class="p">;</span>
<a id="__codelineno-30-6" name="__codelineno-30-6"></a><span class="w">  </span><span class="nx">title</span><span class="o">:</span><span class="w"> </span><span class="nx">string</span><span class="p">;</span>
<a id="__codelineno-30-7" name="__codelineno-30-7"></a><span class="w">  </span><span class="nx">body</span><span class="o">:</span><span class="w"> </span><span class="nx">string</span><span class="p">;</span>
<a id="__codelineno-30-8" name="__codelineno-30-8"></a><span class="w">  </span><span class="nx">author</span><span class="o">:</span><span class="w"> </span><span class="nx">string</span><span class="p">;</span>
<a id="__codelineno-30-9" name="__codelineno-30-9"></a><span class="w">  </span><span class="nx">time</span><span class="o">:</span><span class="w"> </span><span class="nx">string</span><span class="p">;</span>
<a id="__codelineno-30-10" name="__codelineno-30-10"></a><span class="p">}</span>
<a id="__codelineno-30-11" name="__codelineno-30-11"></a>
<a id="__codelineno-30-12" name="__codelineno-30-12"></a><span class="kd">const</span><span class="w"> </span><span class="nx">CatCard</span><span class="o">:</span><span class="w"> </span><span class="nx">React</span><span class="p">.</span><span class="nx">FC</span><span class="o">&lt;</span><span class="nx">ICatCard</span><span class="o">&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="nx">tag</span><span class="p">,</span><span class="w"> </span><span class="nx">title</span><span class="p">,</span><span class="w"> </span><span class="nx">body</span><span class="p">,</span><span class="w"> </span><span class="nx">author</span><span class="p">,</span><span class="w"> </span><span class="nx">time</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-30-13" name="__codelineno-30-13"></a><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<a id="__codelineno-30-14" name="__codelineno-30-14"></a><span class="w">    </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="p">{</span><span class="nx">styles</span><span class="p">.</span><span class="nx">container</span><span class="p">}</span><span class="o">&gt;</span>
<a id="__codelineno-30-15" name="__codelineno-30-15"></a><span class="w">      </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="p">{</span><span class="nx">styles</span><span class="p">.</span><span class="nx">card</span><span class="p">}</span><span class="o">&gt;</span>
<a id="__codelineno-30-16" name="__codelineno-30-16"></a><span class="w">        </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="p">{</span><span class="nx">styles</span><span class="p">.</span><span class="nx">card__header</span><span class="p">}</span><span class="o">&gt;</span>
<a id="__codelineno-30-17" name="__codelineno-30-17"></a><span class="w">          </span><span class="o">&lt;</span><span class="nx">Image</span>
<a id="__codelineno-30-18" name="__codelineno-30-18"></a><span class="w">            </span><span class="nx">src</span><span class="o">=</span><span class="s2">&quot;/time-cat.jpg&quot;</span>
<a id="__codelineno-30-19" name="__codelineno-30-19"></a><span class="w">            </span><span class="nx">alt</span><span class="o">=</span><span class="s2">&quot;card__image&quot;</span>
<a id="__codelineno-30-20" name="__codelineno-30-20"></a><span class="w">            </span><span class="nx">className</span><span class="o">=</span><span class="p">{</span><span class="nx">styles</span><span class="p">.</span><span class="nx">card__image</span><span class="p">}</span>
<a id="__codelineno-30-21" name="__codelineno-30-21"></a><span class="w">            </span><span class="nx">width</span><span class="o">=</span><span class="s2">&quot;600&quot;</span>
<a id="__codelineno-30-22" name="__codelineno-30-22"></a><span class="w">            </span><span class="nx">height</span><span class="o">=</span><span class="s2">&quot;400&quot;</span>
<a id="__codelineno-30-23" name="__codelineno-30-23"></a><span class="w">          </span><span class="o">/&gt;</span>
<a id="__codelineno-30-24" name="__codelineno-30-24"></a><span class="w">        </span><span class="o">&lt;</span><span class="err">/div&gt;</span>
<a id="__codelineno-30-25" name="__codelineno-30-25"></a><span class="w">        </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="p">{</span><span class="nx">styles</span><span class="p">.</span><span class="nx">card__body</span><span class="p">}</span><span class="o">&gt;</span>
<a id="__codelineno-30-26" name="__codelineno-30-26"></a><span class="w">          </span><span class="o">&lt;</span><span class="nx">span</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="p">{</span><span class="sb">`</span><span class="si">${</span><span class="nx">styles</span><span class="p">.</span><span class="nx">tag</span><span class="si">}</span><span class="sb"> </span><span class="si">${</span><span class="nx">styles</span><span class="p">[</span><span class="s1">&#39;tag-blue&#39;</span><span class="p">]</span><span class="si">}</span><span class="sb">`</span><span class="p">}</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">tag</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/span&gt;</span>
<a id="__codelineno-30-27" name="__codelineno-30-27"></a><span class="w">          </span><span class="o">&lt;</span><span class="nx">h4</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">title</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/h4&gt;</span>
<a id="__codelineno-30-28" name="__codelineno-30-28"></a><span class="w">          </span><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">body</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
<a id="__codelineno-30-29" name="__codelineno-30-29"></a><span class="w">        </span><span class="o">&lt;</span><span class="err">/div&gt;</span>
<a id="__codelineno-30-30" name="__codelineno-30-30"></a><span class="w">        </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="p">{</span><span class="nx">styles</span><span class="p">.</span><span class="nx">card__footer</span><span class="p">}</span><span class="o">&gt;</span>
<a id="__codelineno-30-31" name="__codelineno-30-31"></a><span class="w">          </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="p">{</span><span class="nx">styles</span><span class="p">.</span><span class="nx">user</span><span class="p">}</span><span class="o">&gt;</span>
<a id="__codelineno-30-32" name="__codelineno-30-32"></a><span class="w">            </span><span class="o">&lt;</span><span class="nx">Image</span>
<a id="__codelineno-30-33" name="__codelineno-30-33"></a><span class="w">              </span><span class="nx">src</span><span class="o">=</span><span class="s2">&quot;&lt;https://i.pravatar.cc/40?img=3&gt;&quot;</span>
<a id="__codelineno-30-34" name="__codelineno-30-34"></a><span class="w">              </span><span class="nx">alt</span><span class="o">=</span><span class="s2">&quot;user__image&quot;</span>
<a id="__codelineno-30-35" name="__codelineno-30-35"></a><span class="w">              </span><span class="nx">className</span><span class="o">=</span><span class="p">{</span><span class="nx">styles</span><span class="p">.</span><span class="nx">user__image</span><span class="p">}</span>
<a id="__codelineno-30-36" name="__codelineno-30-36"></a><span class="w">              </span><span class="nx">width</span><span class="o">=</span><span class="s2">&quot;40&quot;</span>
<a id="__codelineno-30-37" name="__codelineno-30-37"></a><span class="w">              </span><span class="nx">height</span><span class="o">=</span><span class="s2">&quot;40&quot;</span>
<a id="__codelineno-30-38" name="__codelineno-30-38"></a><span class="w">            </span><span class="o">/&gt;</span>
<a id="__codelineno-30-39" name="__codelineno-30-39"></a><span class="w">            </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="p">{</span><span class="nx">styles</span><span class="p">.</span><span class="nx">user__info</span><span class="p">}</span><span class="o">&gt;</span>
<a id="__codelineno-30-40" name="__codelineno-30-40"></a><span class="w">              </span><span class="o">&lt;</span><span class="nx">h5</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">author</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/h5&gt;</span>
<a id="__codelineno-30-41" name="__codelineno-30-41"></a><span class="w">              </span><span class="o">&lt;</span><span class="nx">small</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">time</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/small&gt;</span>
<a id="__codelineno-30-42" name="__codelineno-30-42"></a><span class="w">            </span><span class="o">&lt;</span><span class="err">/div&gt;</span>
<a id="__codelineno-30-43" name="__codelineno-30-43"></a><span class="w">          </span><span class="o">&lt;</span><span class="err">/div&gt;</span>
<a id="__codelineno-30-44" name="__codelineno-30-44"></a><span class="w">        </span><span class="o">&lt;</span><span class="err">/div&gt;</span>
<a id="__codelineno-30-45" name="__codelineno-30-45"></a><span class="w">      </span><span class="o">&lt;</span><span class="err">/div&gt;</span>
<a id="__codelineno-30-46" name="__codelineno-30-46"></a><span class="w">    </span><span class="o">&lt;</span><span class="err">/div&gt;</span>
<a id="__codelineno-30-47" name="__codelineno-30-47"></a><span class="w">  </span><span class="p">);</span>
<a id="__codelineno-30-48" name="__codelineno-30-48"></a><span class="p">};</span>
<a id="__codelineno-30-49" name="__codelineno-30-49"></a>
<a id="__codelineno-30-50" name="__codelineno-30-50"></a><span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">CatCard</span><span class="p">;</span>
</code></pre></div></td></tr></table></div></p>
<p>设置样式</p>
<p><code>CatCard.module.css</code>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-31-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-31-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-31-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-31-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-31-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-31-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-31-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-31-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-31-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-31-10">10</a></span>
<span class="normal"><a href="#__codelineno-31-11">11</a></span>
<span class="normal"><a href="#__codelineno-31-12">12</a></span>
<span class="normal"><a href="#__codelineno-31-13">13</a></span>
<span class="normal"><a href="#__codelineno-31-14">14</a></span>
<span class="normal"><a href="#__codelineno-31-15">15</a></span>
<span class="normal"><a href="#__codelineno-31-16">16</a></span>
<span class="normal"><a href="#__codelineno-31-17">17</a></span>
<span class="normal"><a href="#__codelineno-31-18">18</a></span>
<span class="normal"><a href="#__codelineno-31-19">19</a></span>
<span class="normal"><a href="#__codelineno-31-20">20</a></span>
<span class="normal"><a href="#__codelineno-31-21">21</a></span>
<span class="normal"><a href="#__codelineno-31-22">22</a></span>
<span class="normal"><a href="#__codelineno-31-23">23</a></span>
<span class="normal"><a href="#__codelineno-31-24">24</a></span>
<span class="normal"><a href="#__codelineno-31-25">25</a></span>
<span class="normal"><a href="#__codelineno-31-26">26</a></span>
<span class="normal"><a href="#__codelineno-31-27">27</a></span>
<span class="normal"><a href="#__codelineno-31-28">28</a></span>
<span class="normal"><a href="#__codelineno-31-29">29</a></span>
<span class="normal"><a href="#__codelineno-31-30">30</a></span>
<span class="normal"><a href="#__codelineno-31-31">31</a></span>
<span class="normal"><a href="#__codelineno-31-32">32</a></span>
<span class="normal"><a href="#__codelineno-31-33">33</a></span>
<span class="normal"><a href="#__codelineno-31-34">34</a></span>
<span class="normal"><a href="#__codelineno-31-35">35</a></span>
<span class="normal"><a href="#__codelineno-31-36">36</a></span>
<span class="normal"><a href="#__codelineno-31-37">37</a></span>
<span class="normal"><a href="#__codelineno-31-38">38</a></span>
<span class="normal"><a href="#__codelineno-31-39">39</a></span>
<span class="normal"><a href="#__codelineno-31-40">40</a></span>
<span class="normal"><a href="#__codelineno-31-41">41</a></span>
<span class="normal"><a href="#__codelineno-31-42">42</a></span>
<span class="normal"><a href="#__codelineno-31-43">43</a></span>
<span class="normal"><a href="#__codelineno-31-44">44</a></span>
<span class="normal"><a href="#__codelineno-31-45">45</a></span>
<span class="normal"><a href="#__codelineno-31-46">46</a></span>
<span class="normal"><a href="#__codelineno-31-47">47</a></span>
<span class="normal"><a href="#__codelineno-31-48">48</a></span>
<span class="normal"><a href="#__codelineno-31-49">49</a></span>
<span class="normal"><a href="#__codelineno-31-50">50</a></span>
<span class="normal"><a href="#__codelineno-31-51">51</a></span>
<span class="normal"><a href="#__codelineno-31-52">52</a></span>
<span class="normal"><a href="#__codelineno-31-53">53</a></span>
<span class="normal"><a href="#__codelineno-31-54">54</a></span>
<span class="normal"><a href="#__codelineno-31-55">55</a></span>
<span class="normal"><a href="#__codelineno-31-56">56</a></span>
<span class="normal"><a href="#__codelineno-31-57">57</a></span>
<span class="normal"><a href="#__codelineno-31-58">58</a></span>
<span class="normal"><a href="#__codelineno-31-59">59</a></span>
<span class="normal"><a href="#__codelineno-31-60">60</a></span>
<span class="normal"><a href="#__codelineno-31-61">61</a></span>
<span class="normal"><a href="#__codelineno-31-62">62</a></span>
<span class="normal"><a href="#__codelineno-31-63">63</a></span>
<span class="normal"><a href="#__codelineno-31-64">64</a></span>
<span class="normal"><a href="#__codelineno-31-65">65</a></span>
<span class="normal"><a href="#__codelineno-31-66">66</a></span>
<span class="normal"><a href="#__codelineno-31-67">67</a></span>
<span class="normal"><a href="#__codelineno-31-68">68</a></span>
<span class="normal"><a href="#__codelineno-31-69">69</a></span>
<span class="normal"><a href="#__codelineno-31-70">70</a></span>
<span class="normal"><a href="#__codelineno-31-71">71</a></span>
<span class="normal"><a href="#__codelineno-31-72">72</a></span>
<span class="normal"><a href="#__codelineno-31-73">73</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1"></a><span class="err">@</span><span class="k">import</span><span class="w"> </span><span class="nx">url</span><span class="p">(</span><span class="s1">&#39;&lt;https://fonts.googleapis.com/css2?family=Quicksand:wght@300..700&amp;display=swap&gt;&#39;</span><span class="p">);</span>
<a id="__codelineno-31-2" name="__codelineno-31-2"></a>
<a id="__codelineno-31-3" name="__codelineno-31-3"></a><span class="p">.</span><span class="nx">container</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-31-4" name="__codelineno-31-4"></a><span class="w">  </span><span class="nx">margin</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="nx">rem</span><span class="p">;</span>
<a id="__codelineno-31-5" name="__codelineno-31-5"></a><span class="p">}</span>
<a id="__codelineno-31-6" name="__codelineno-31-6"></a>
<a id="__codelineno-31-7" name="__codelineno-31-7"></a><span class="p">.</span><span class="nx">container</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-31-8" name="__codelineno-31-8"></a><span class="w">  </span><span class="nx">box</span><span class="o">-</span><span class="nx">sizing</span><span class="o">:</span><span class="w"> </span><span class="nx">border</span><span class="o">-</span><span class="nx">box</span><span class="p">;</span>
<a id="__codelineno-31-9" name="__codelineno-31-9"></a><span class="w">  </span><span class="nx">padding</span><span class="o">:</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span>
<a id="__codelineno-31-10" name="__codelineno-31-10"></a><span class="w">  </span><span class="nx">margin</span><span class="o">:</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span>
<a id="__codelineno-31-11" name="__codelineno-31-11"></a><span class="p">}</span>
<a id="__codelineno-31-12" name="__codelineno-31-12"></a>
<a id="__codelineno-31-13" name="__codelineno-31-13"></a><span class="p">.</span><span class="nx">card__image</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-31-14" name="__codelineno-31-14"></a><span class="w">  </span><span class="nx">max</span><span class="o">-</span><span class="nx">width</span><span class="o">:</span><span class="w"> </span><span class="mf">100</span><span class="o">%</span><span class="p">;</span>
<a id="__codelineno-31-15" name="__codelineno-31-15"></a><span class="w">  </span><span class="nx">display</span><span class="o">:</span><span class="w"> </span><span class="nx">block</span><span class="p">;</span>
<a id="__codelineno-31-16" name="__codelineno-31-16"></a><span class="w">  </span><span class="nx">object</span><span class="o">-</span><span class="nx">fit</span><span class="o">:</span><span class="w"> </span><span class="nx">cover</span><span class="p">;</span>
<a id="__codelineno-31-17" name="__codelineno-31-17"></a><span class="p">}</span>
<a id="__codelineno-31-18" name="__codelineno-31-18"></a>
<a id="__codelineno-31-19" name="__codelineno-31-19"></a><span class="p">.</span><span class="nx">card</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-31-20" name="__codelineno-31-20"></a><span class="w">  </span><span class="nx">font</span><span class="o">-</span><span class="nx">family</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Quicksand&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">sans</span><span class="o">-</span><span class="nx">serif</span><span class="p">;</span>
<a id="__codelineno-31-21" name="__codelineno-31-21"></a><span class="w">  </span><span class="nx">display</span><span class="o">:</span><span class="w"> </span><span class="nx">flex</span><span class="p">;</span>
<a id="__codelineno-31-22" name="__codelineno-31-22"></a><span class="w">  </span><span class="nx">flex</span><span class="o">-</span><span class="nx">direction</span><span class="o">:</span><span class="w"> </span><span class="nx">column</span><span class="p">;</span>
<a id="__codelineno-31-23" name="__codelineno-31-23"></a><span class="w">  </span><span class="nx">width</span><span class="o">:</span><span class="w"> </span><span class="nx">clamp</span><span class="p">(</span><span class="mf">20</span><span class="nx">rem</span><span class="p">,</span><span class="w"> </span><span class="nx">calc</span><span class="p">(</span><span class="mf">20</span><span class="nx">rem</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">2</span><span class="nx">vw</span><span class="p">),</span><span class="w"> </span><span class="mf">22</span><span class="nx">rem</span><span class="p">);</span>
<a id="__codelineno-31-24" name="__codelineno-31-24"></a><span class="w">  </span><span class="nx">overflow</span><span class="o">:</span><span class="w"> </span><span class="nx">hidden</span><span class="p">;</span>
<a id="__codelineno-31-25" name="__codelineno-31-25"></a><span class="w">  </span><span class="nx">box</span><span class="o">-</span><span class="nx">shadow</span><span class="o">:</span><span class="w"> </span><span class="mf">0</span><span class="w"> </span><span class="mf">0.1</span><span class="nx">rem</span><span class="w"> </span><span class="mf">1</span><span class="nx">rem</span><span class="w"> </span><span class="nx">rgba</span><span class="p">(</span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.1</span><span class="p">);</span>
<a id="__codelineno-31-26" name="__codelineno-31-26"></a><span class="w">  </span><span class="nx">border</span><span class="o">-</span><span class="nx">radius</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="nx">em</span><span class="p">;</span>
<a id="__codelineno-31-27" name="__codelineno-31-27"></a><span class="w">  </span><span class="nx">background</span><span class="o">:</span><span class="w"> </span><span class="err">#</span><span class="nx">ece9e6</span><span class="p">;</span>
<a id="__codelineno-31-28" name="__codelineno-31-28"></a><span class="w">  </span><span class="nx">background</span><span class="o">:</span><span class="w"> </span><span class="nx">linear</span><span class="o">-</span><span class="nx">gradient</span><span class="p">(</span><span class="nx">to</span><span class="w"> </span><span class="nx">right</span><span class="p">,</span><span class="w"> </span><span class="err">#</span><span class="nx">ffffff</span><span class="p">,</span><span class="w"> </span><span class="err">#</span><span class="nx">ece9e6</span><span class="p">);</span>
<a id="__codelineno-31-29" name="__codelineno-31-29"></a><span class="p">}</span>
<a id="__codelineno-31-30" name="__codelineno-31-30"></a>
<a id="__codelineno-31-31" name="__codelineno-31-31"></a><span class="p">.</span><span class="nx">card__body</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-31-32" name="__codelineno-31-32"></a><span class="w">  </span><span class="nx">padding</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="nx">rem</span><span class="p">;</span>
<a id="__codelineno-31-33" name="__codelineno-31-33"></a><span class="w">  </span><span class="nx">display</span><span class="o">:</span><span class="w"> </span><span class="nx">flex</span><span class="p">;</span>
<a id="__codelineno-31-34" name="__codelineno-31-34"></a><span class="w">  </span><span class="nx">flex</span><span class="o">-</span><span class="nx">direction</span><span class="o">:</span><span class="w"> </span><span class="nx">column</span><span class="p">;</span>
<a id="__codelineno-31-35" name="__codelineno-31-35"></a><span class="w">  </span><span class="nx">gap</span><span class="o">:</span><span class="w"> </span><span class="mf">0.5</span><span class="nx">rem</span><span class="p">;</span>
<a id="__codelineno-31-36" name="__codelineno-31-36"></a><span class="p">}</span>
<a id="__codelineno-31-37" name="__codelineno-31-37"></a>
<a id="__codelineno-31-38" name="__codelineno-31-38"></a><span class="p">.</span><span class="nx">tag</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-31-39" name="__codelineno-31-39"></a><span class="w">  </span><span class="nx">align</span><span class="o">-</span><span class="nx">self</span><span class="o">:</span><span class="w"> </span><span class="nx">flex</span><span class="o">-</span><span class="nx">start</span><span class="p">;</span>
<a id="__codelineno-31-40" name="__codelineno-31-40"></a><span class="w">  </span><span class="nx">padding</span><span class="o">:</span><span class="w"> </span><span class="mf">0.25</span><span class="nx">em</span><span class="w"> </span><span class="mf">0.75</span><span class="nx">em</span><span class="p">;</span>
<a id="__codelineno-31-41" name="__codelineno-31-41"></a><span class="w">  </span><span class="nx">border</span><span class="o">-</span><span class="nx">radius</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="nx">em</span><span class="p">;</span>
<a id="__codelineno-31-42" name="__codelineno-31-42"></a><span class="w">  </span><span class="nx">font</span><span class="o">-</span><span class="nx">size</span><span class="o">:</span><span class="w"> </span><span class="mf">0.75</span><span class="nx">rem</span><span class="p">;</span>
<a id="__codelineno-31-43" name="__codelineno-31-43"></a><span class="p">}</span>
<a id="__codelineno-31-44" name="__codelineno-31-44"></a>
<a id="__codelineno-31-45" name="__codelineno-31-45"></a><span class="p">.</span><span class="nx">tag</span><span class="o">-</span><span class="nx">blue</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-31-46" name="__codelineno-31-46"></a><span class="w">  </span><span class="nx">background</span><span class="o">:</span><span class="w"> </span><span class="err">#</span><span class="mf">56</span><span class="nx">ccf2</span><span class="p">;</span>
<a id="__codelineno-31-47" name="__codelineno-31-47"></a><span class="w">  </span><span class="nx">background</span><span class="o">:</span><span class="w"> </span><span class="nx">linear</span><span class="o">-</span><span class="nx">gradient</span><span class="p">(</span><span class="nx">to</span><span class="w"> </span><span class="nx">bottom</span><span class="p">,</span><span class="w"> </span><span class="err">#</span><span class="mf">2</span><span class="nx">f80ed</span><span class="p">,</span><span class="w"> </span><span class="err">#</span><span class="mf">56</span><span class="nx">ccf2</span><span class="p">);</span>
<a id="__codelineno-31-48" name="__codelineno-31-48"></a><span class="w">  </span><span class="nx">color</span><span class="o">:</span><span class="w"> </span><span class="err">#</span><span class="nx">fafafa</span><span class="p">;</span>
<a id="__codelineno-31-49" name="__codelineno-31-49"></a><span class="p">}</span>
<a id="__codelineno-31-50" name="__codelineno-31-50"></a>
<a id="__codelineno-31-51" name="__codelineno-31-51"></a><span class="p">.</span><span class="nx">card__body</span><span class="w"> </span><span class="nx">h4</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-31-52" name="__codelineno-31-52"></a><span class="w">  </span><span class="nx">font</span><span class="o">-</span><span class="nx">size</span><span class="o">:</span><span class="w"> </span><span class="mf">1.5</span><span class="nx">rem</span><span class="p">;</span>
<a id="__codelineno-31-53" name="__codelineno-31-53"></a><span class="w">  </span><span class="nx">text</span><span class="o">-</span><span class="nx">transform</span><span class="o">:</span><span class="w"> </span><span class="nx">capitalize</span><span class="p">;</span>
<a id="__codelineno-31-54" name="__codelineno-31-54"></a><span class="p">}</span>
<a id="__codelineno-31-55" name="__codelineno-31-55"></a>
<a id="__codelineno-31-56" name="__codelineno-31-56"></a><span class="p">.</span><span class="nx">card__footer</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-31-57" name="__codelineno-31-57"></a><span class="w">  </span><span class="nx">display</span><span class="o">:</span><span class="w"> </span><span class="nx">flex</span><span class="p">;</span>
<a id="__codelineno-31-58" name="__codelineno-31-58"></a><span class="w">  </span><span class="nx">padding</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="nx">rem</span><span class="p">;</span>
<a id="__codelineno-31-59" name="__codelineno-31-59"></a><span class="w">  </span><span class="nx">margin</span><span class="o">-</span><span class="nx">top</span><span class="o">:</span><span class="w"> </span><span class="nx">auto</span><span class="p">;</span>
<a id="__codelineno-31-60" name="__codelineno-31-60"></a><span class="p">}</span>
<a id="__codelineno-31-61" name="__codelineno-31-61"></a>
<a id="__codelineno-31-62" name="__codelineno-31-62"></a><span class="p">.</span><span class="nx">user</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-31-63" name="__codelineno-31-63"></a><span class="w">  </span><span class="nx">display</span><span class="o">:</span><span class="w"> </span><span class="nx">flex</span><span class="p">;</span>
<a id="__codelineno-31-64" name="__codelineno-31-64"></a><span class="w">  </span><span class="nx">gap</span><span class="o">:</span><span class="w"> </span><span class="mf">0.5</span><span class="nx">rem</span><span class="p">;</span>
<a id="__codelineno-31-65" name="__codelineno-31-65"></a><span class="p">}</span>
<a id="__codelineno-31-66" name="__codelineno-31-66"></a>
<a id="__codelineno-31-67" name="__codelineno-31-67"></a><span class="p">.</span><span class="nx">user__image</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-31-68" name="__codelineno-31-68"></a><span class="w">  </span><span class="nx">border</span><span class="o">-</span><span class="nx">radius</span><span class="o">:</span><span class="w"> </span><span class="mf">50</span><span class="o">%</span><span class="p">;</span>
<a id="__codelineno-31-69" name="__codelineno-31-69"></a><span class="p">}</span>
<a id="__codelineno-31-70" name="__codelineno-31-70"></a>
<a id="__codelineno-31-71" name="__codelineno-31-71"></a><span class="p">.</span><span class="nx">user__info</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nx">small</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-31-72" name="__codelineno-31-72"></a><span class="w">  </span><span class="nx">color</span><span class="o">:</span><span class="w"> </span><span class="err">#</span><span class="mf">666</span><span class="p">;</span>
<a id="__codelineno-31-73" name="__codelineno-31-73"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div></p>
<p>设置模拟数据</p>
<p><code>CatCard.mocks.ts</code>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-32-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-32-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-32-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-32-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-32-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-32-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-32-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-32-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-32-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-32-10">10</a></span>
<span class="normal"><a href="#__codelineno-32-11">11</a></span>
<span class="normal"><a href="#__codelineno-32-12">12</a></span>
<span class="normal"><a href="#__codelineno-32-13">13</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1"></a><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">ICatCard</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;./CatCard&#39;</span><span class="p">;</span>
<a id="__codelineno-32-2" name="__codelineno-32-2"></a>
<a id="__codelineno-32-3" name="__codelineno-32-3"></a><span class="kd">const</span><span class="w"> </span><span class="nx">base</span><span class="o">:</span><span class="w"> </span><span class="nx">ICatCard</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-32-4" name="__codelineno-32-4"></a><span class="w">  </span><span class="nx">tag</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Felines&#39;</span><span class="p">,</span>
<a id="__codelineno-32-5" name="__codelineno-32-5"></a><span class="w">  </span><span class="nx">title</span><span class="o">:</span><span class="w"> </span><span class="sb">`What&#39;s new in Cats`</span><span class="p">,</span>
<a id="__codelineno-32-6" name="__codelineno-32-6"></a><span class="w">  </span><span class="nx">body</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Lorem ipsum dolor sit amet consectetur adipisicing elit. Sequi perferendis molestiae non nemo doloribus. Doloremque, nihil! At ea atque quidem!&#39;</span><span class="p">,</span>
<a id="__codelineno-32-7" name="__codelineno-32-7"></a><span class="w">  </span><span class="nx">author</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Alex&#39;</span><span class="p">,</span>
<a id="__codelineno-32-8" name="__codelineno-32-8"></a><span class="w">  </span><span class="nx">time</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;2h ago&#39;</span><span class="p">,</span>
<a id="__codelineno-32-9" name="__codelineno-32-9"></a><span class="p">};</span>
<a id="__codelineno-32-10" name="__codelineno-32-10"></a>
<a id="__codelineno-32-11" name="__codelineno-32-11"></a><span class="k">export</span><span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">mockCatCardProps</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-32-12" name="__codelineno-32-12"></a><span class="w">  </span><span class="nx">base</span><span class="p">,</span>
<a id="__codelineno-32-13" name="__codelineno-32-13"></a><span class="p">};</span>
</code></pre></div></td></tr></table></div></p>
<p>注意这里从项目的 public 目录用了一张 🐱 的照片(/time-cat.jpg)，你可以从项目的仓库中找到它</p>
<p><code>CatCard.stories</code> 的修改就是需要将 story 的 title 从 <code>templates/CatCard</code> 改为 <code>cards/CatCard</code></p>
<p>我们需要更新 <code>next.config.js</code>，因为我们正在使用一个没有明确声明允许的域（对于头像）。 只需将配置文件更新为如下所示</p>
<p><code>next.config.js</code>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-33-1">1</a></span>
<span class="normal"><a href="#__codelineno-33-2">2</a></span>
<span class="normal"><a href="#__codelineno-33-3">3</a></span>
<span class="normal"><a href="#__codelineno-33-4">4</a></span>
<span class="normal"><a href="#__codelineno-33-5">5</a></span>
<span class="normal"><a href="#__codelineno-33-6">6</a></span>
<span class="normal"><a href="#__codelineno-33-7">7</a></span>
<span class="normal"><a href="#__codelineno-33-8">8</a></span>
<span class="normal"><a href="#__codelineno-33-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1"></a><span class="cm">/** @type {import(&#39;next&#39;).NextConfig} */</span>
<a id="__codelineno-33-2" name="__codelineno-33-2"></a><span class="kd">const</span><span class="w"> </span><span class="nx">nextConfig</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-33-3" name="__codelineno-33-3"></a><span class="w">  </span><span class="nx">reactStrictMode</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<a id="__codelineno-33-4" name="__codelineno-33-4"></a><span class="w">  </span><span class="nx">images</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-33-5" name="__codelineno-33-5"></a><span class="w">    </span><span class="nx">domains</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;i.pravatar.cc&#39;</span><span class="p">],</span>
<a id="__codelineno-33-6" name="__codelineno-33-6"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-33-7" name="__codelineno-33-7"></a><span class="p">};</span>
<a id="__codelineno-33-8" name="__codelineno-33-8"></a>
<a id="__codelineno-33-9" name="__codelineno-33-9"></a><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">nextConfig</span><span class="p">;</span>
</code></pre></div></td></tr></table></div></p>
<p>或者，你可以将头像图像放在 public 目录中，但为了学习使用外部域的过程，我们将保留此设置。</p>
<p>现在运行 Storybook，如果你足够幸运，你将会看到</p>
<p><img src='images/010.webp' alt='10.png' /></p>
<p>这个组件可以很方便的放置在实际项目中的任何位置。在短期内测试时使用 <code>mock</code> prop，并在准备好后更换为真实 prop</p>
<p><code>pages/index.tsx</code>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-34-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-34-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-34-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-34-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-34-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-34-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-34-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-34-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-34-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-34-10">10</a></span>
<span class="normal"><a href="#__codelineno-34-11">11</a></span>
<span class="normal"><a href="#__codelineno-34-12">12</a></span>
<span class="normal"><a href="#__codelineno-34-13">13</a></span>
<span class="normal"><a href="#__codelineno-34-14">14</a></span>
<span class="normal"><a href="#__codelineno-34-15">15</a></span>
<span class="normal"><a href="#__codelineno-34-16">16</a></span>
<span class="normal"><a href="#__codelineno-34-17">17</a></span>
<span class="normal"><a href="#__codelineno-34-18">18</a></span>
<span class="normal"><a href="#__codelineno-34-19">19</a></span>
<span class="normal"><a href="#__codelineno-34-20">20</a></span>
<span class="normal"><a href="#__codelineno-34-21">21</a></span>
<span class="normal"><a href="#__codelineno-34-22">22</a></span>
<span class="normal"><a href="#__codelineno-34-23">23</a></span>
<span class="normal"><a href="#__codelineno-34-24">24</a></span>
<span class="normal"><a href="#__codelineno-34-25">25</a></span>
<span class="normal"><a href="#__codelineno-34-26">26</a></span>
<span class="normal"><a href="#__codelineno-34-27">27</a></span>
<span class="normal"><a href="#__codelineno-34-28">28</a></span>
<span class="normal"><a href="#__codelineno-34-29">29</a></span>
<span class="normal"><a href="#__codelineno-34-30">30</a></span>
<span class="normal"><a href="#__codelineno-34-31">31</a></span>
<span class="normal"><a href="#__codelineno-34-32">32</a></span>
<span class="normal"><a href="#__codelineno-34-33">33</a></span>
<span class="normal"><a href="#__codelineno-34-34">34</a></span>
<span class="normal"><a href="#__codelineno-34-35">35</a></span>
<span class="normal"><a href="#__codelineno-34-36">36</a></span>
<span class="normal"><a href="#__codelineno-34-37">37</a></span>
<span class="normal"><a href="#__codelineno-34-38">38</a></span>
<span class="normal"><a href="#__codelineno-34-39">39</a></span>
<span class="normal"><a href="#__codelineno-34-40">40</a></span>
<span class="normal"><a href="#__codelineno-34-41">41</a></span>
<span class="normal"><a href="#__codelineno-34-42">42</a></span>
<span class="normal"><a href="#__codelineno-34-43">43</a></span>
<span class="normal"><a href="#__codelineno-34-44">44</a></span>
<span class="normal"><a href="#__codelineno-34-45">45</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-34-1" name="__codelineno-34-1"></a><span class="k">import</span><span class="w"> </span><span class="kr">type</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">NextPage</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;next&#39;</span><span class="p">;</span>
<a id="__codelineno-34-2" name="__codelineno-34-2"></a><span class="k">import</span><span class="w"> </span><span class="nx">Head</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;next/head&#39;</span><span class="p">;</span>
<a id="__codelineno-34-3" name="__codelineno-34-3"></a><span class="k">import</span><span class="w"> </span><span class="nx">Image</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;next/image&#39;</span><span class="p">;</span>
<a id="__codelineno-34-4" name="__codelineno-34-4"></a><span class="k">import</span><span class="w"> </span><span class="nx">CatCard</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../components/cards/cat/CatCard&#39;</span><span class="p">;</span>
<a id="__codelineno-34-5" name="__codelineno-34-5"></a><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">mockCatCardProps</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../components/cards/cat/CatCard.mocks&#39;</span><span class="p">;</span>
<a id="__codelineno-34-6" name="__codelineno-34-6"></a>
<a id="__codelineno-34-7" name="__codelineno-34-7"></a><span class="kd">const</span><span class="w"> </span><span class="nx">Home</span><span class="o">:</span><span class="w"> </span><span class="kt">NextPage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-34-8" name="__codelineno-34-8"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<a id="__codelineno-34-9" name="__codelineno-34-9"></a><span class="w">      </span><span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
<a id="__codelineno-34-10" name="__codelineno-34-10"></a><span class="w">        </span><span class="o">&lt;</span><span class="nx">Head</span><span class="o">&gt;</span>
<a id="__codelineno-34-11" name="__codelineno-34-11"></a><span class="w">          </span><span class="o">&lt;</span><span class="nx">title</span><span class="o">&gt;</span><span class="nx">Create</span><span class="w"> </span><span class="nx">Next</span><span class="w"> </span><span class="nx">App</span><span class="o">&lt;</span><span class="err">/title&gt;</span>
<a id="__codelineno-34-12" name="__codelineno-34-12"></a><span class="w">          </span><span class="o">&lt;</span><span class="nx">meta</span><span class="w"> </span><span class="nx">name</span><span class="o">=</span><span class="s2">&quot;description&quot;</span><span class="w"> </span><span class="nx">content</span><span class="o">=</span><span class="s2">&quot;Generated by create next app&quot;</span><span class="w"> </span><span class="o">/&gt;</span>
<a id="__codelineno-34-13" name="__codelineno-34-13"></a><span class="w">          </span><span class="o">&lt;</span><span class="nx">link</span><span class="w"> </span><span class="nx">rel</span><span class="o">=</span><span class="s2">&quot;icon&quot;</span><span class="w"> </span><span class="nx">href</span><span class="o">=</span><span class="s2">&quot;/favicon.ico&quot;</span><span class="w"> </span><span class="o">/&gt;</span>
<a id="__codelineno-34-14" name="__codelineno-34-14"></a><span class="w">        </span><span class="o">&lt;</span><span class="err">/Head&gt;</span>
<a id="__codelineno-34-15" name="__codelineno-34-15"></a>
<a id="__codelineno-34-16" name="__codelineno-34-16"></a><span class="w">        </span><span class="o">&lt;</span><span class="nx">main</span><span class="o">&gt;</span>
<a id="__codelineno-34-17" name="__codelineno-34-17"></a><span class="w">          </span><span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span>
<a id="__codelineno-34-18" name="__codelineno-34-18"></a><span class="w">            </span><span class="nx">Welcome</span><span class="w"> </span><span class="nx">to</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">a</span><span class="w"> </span><span class="nx">href</span><span class="o">=</span><span class="s2">&quot;&lt;https://nextjs.org&gt;&quot;</span><span class="o">&gt;</span><span class="nx">Next</span><span class="p">.</span><span class="nx">js</span><span class="o">!&lt;</span><span class="err">/a&gt;</span>
<a id="__codelineno-34-19" name="__codelineno-34-19"></a><span class="w">          </span><span class="o">&lt;</span><span class="err">/h1&gt;</span>
<a id="__codelineno-34-20" name="__codelineno-34-20"></a>
<a id="__codelineno-34-21" name="__codelineno-34-21"></a><span class="w">          </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="nx">style</span><span class="o">=</span><span class="p">{{</span><span class="w"> </span><span class="nx">display</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;flex&#39;</span><span class="w"> </span><span class="p">}}</span><span class="o">&gt;</span>
<a id="__codelineno-34-22" name="__codelineno-34-22"></a><span class="w">            </span><span class="o">&lt;</span><span class="nx">CatCard</span><span class="w"> </span><span class="p">{...</span><span class="nx">mockCatCardProps</span><span class="p">.</span><span class="nx">base</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span>
<a id="__codelineno-34-23" name="__codelineno-34-23"></a><span class="w">            </span><span class="o">&lt;</span><span class="nx">CatCard</span><span class="w"> </span><span class="p">{...</span><span class="nx">mockCatCardProps</span><span class="p">.</span><span class="nx">base</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span>
<a id="__codelineno-34-24" name="__codelineno-34-24"></a><span class="w">            </span><span class="o">&lt;</span><span class="nx">CatCard</span><span class="w"> </span><span class="p">{...</span><span class="nx">mockCatCardProps</span><span class="p">.</span><span class="nx">base</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span>
<a id="__codelineno-34-25" name="__codelineno-34-25"></a><span class="w">            </span><span class="o">&lt;</span><span class="nx">CatCard</span><span class="w"> </span><span class="p">{...</span><span class="nx">mockCatCardProps</span><span class="p">.</span><span class="nx">base</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span>
<a id="__codelineno-34-26" name="__codelineno-34-26"></a><span class="w">          </span><span class="o">&lt;</span><span class="err">/div&gt;</span>
<a id="__codelineno-34-27" name="__codelineno-34-27"></a><span class="w">        </span><span class="o">&lt;</span><span class="err">/main&gt;</span>
<a id="__codelineno-34-28" name="__codelineno-34-28"></a>
<a id="__codelineno-34-29" name="__codelineno-34-29"></a><span class="w">        </span><span class="o">&lt;</span><span class="nx">footer</span><span class="o">&gt;</span>
<a id="__codelineno-34-30" name="__codelineno-34-30"></a><span class="w">          </span><span class="o">&lt;</span><span class="nx">a</span>
<a id="__codelineno-34-31" name="__codelineno-34-31"></a><span class="w">            </span><span class="nx">href</span><span class="o">=</span><span class="s2">&quot;&lt;https://vercel.com?utm_source=create-next-app&amp;utm_medium=default-template&amp;utm_campaign=create-next-app&gt;&quot;</span>
<a id="__codelineno-34-32" name="__codelineno-34-32"></a><span class="w">            </span><span class="nx">target</span><span class="o">=</span><span class="s2">&quot;_blank&quot;</span>
<a id="__codelineno-34-33" name="__codelineno-34-33"></a><span class="w">            </span><span class="nx">rel</span><span class="o">=</span><span class="s2">&quot;noopener noreferrer&quot;</span>
<a id="__codelineno-34-34" name="__codelineno-34-34"></a><span class="w">          </span><span class="o">&gt;</span>
<a id="__codelineno-34-35" name="__codelineno-34-35"></a><span class="w">            </span><span class="nx">Powered</span><span class="w"> </span><span class="nx">by</span><span class="p">{</span><span class="s1">&#39; &#39;</span><span class="p">}</span>
<a id="__codelineno-34-36" name="__codelineno-34-36"></a><span class="w">            </span><span class="o">&lt;</span><span class="nx">span</span><span class="o">&gt;</span>
<a id="__codelineno-34-37" name="__codelineno-34-37"></a><span class="w">              </span><span class="o">&lt;</span><span class="nx">Image</span><span class="w"> </span><span class="nx">src</span><span class="o">=</span><span class="s2">&quot;/vercel.svg&quot;</span><span class="w"> </span><span class="nx">alt</span><span class="o">=</span><span class="s2">&quot;Vercel Logo&quot;</span><span class="w"> </span><span class="nx">width</span><span class="o">=</span><span class="p">{</span><span class="mf">72</span><span class="p">}</span><span class="w"> </span><span class="nx">height</span><span class="o">=</span><span class="p">{</span><span class="mf">16</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span>
<a id="__codelineno-34-38" name="__codelineno-34-38"></a><span class="w">            </span><span class="o">&lt;</span><span class="err">/span&gt;</span>
<a id="__codelineno-34-39" name="__codelineno-34-39"></a><span class="w">          </span><span class="o">&lt;</span><span class="err">/a&gt;</span>
<a id="__codelineno-34-40" name="__codelineno-34-40"></a><span class="w">        </span><span class="o">&lt;</span><span class="err">/footer&gt;</span>
<a id="__codelineno-34-41" name="__codelineno-34-41"></a><span class="w">      </span><span class="o">&lt;</span><span class="err">/div&gt;</span>
<a id="__codelineno-34-42" name="__codelineno-34-42"></a><span class="w">    </span><span class="p">);</span>
<a id="__codelineno-34-43" name="__codelineno-34-43"></a><span class="w">  </span><span class="p">};</span>
<a id="__codelineno-34-44" name="__codelineno-34-44"></a>
<a id="__codelineno-34-45" name="__codelineno-34-45"></a><span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">Home</span><span class="p">;</span>
</code></pre></div></td></tr></table></div></p>
<p>运行如下命令查看界面样式 <code>yarn dev</code></p>
<p><img src='images/011.webp' alt='11.png' /></p>
<h1 id="_9">添加自定义文档<a class="headerlink" href="#_9" title="Permanent link">&para;</a></h1>
<p>虽然在这个阶段没有必要，但你可能希望对应用的 <code>&lt;head&gt;</code> 中的内容进行更细粒度的控制。在<code>pages</code>目录中创建自定义 <code>_document.tsx</code></p>
<p><code>pages/_document.tsx</code>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-35-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-35-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-35-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-35-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-35-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-35-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-35-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-35-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-35-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-35-10">10</a></span>
<span class="normal"><a href="#__codelineno-35-11">11</a></span>
<span class="normal"><a href="#__codelineno-35-12">12</a></span>
<span class="normal"><a href="#__codelineno-35-13">13</a></span>
<span class="normal"><a href="#__codelineno-35-14">14</a></span>
<span class="normal"><a href="#__codelineno-35-15">15</a></span>
<span class="normal"><a href="#__codelineno-35-16">16</a></span>
<span class="normal"><a href="#__codelineno-35-17">17</a></span>
<span class="normal"><a href="#__codelineno-35-18">18</a></span>
<span class="normal"><a href="#__codelineno-35-19">19</a></span>
<span class="normal"><a href="#__codelineno-35-20">20</a></span>
<span class="normal"><a href="#__codelineno-35-21">21</a></span>
<span class="normal"><a href="#__codelineno-35-22">22</a></span>
<span class="normal"><a href="#__codelineno-35-23">23</a></span>
<span class="normal"><a href="#__codelineno-35-24">24</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-35-1" name="__codelineno-35-1"></a><span class="k">import</span><span class="w"> </span><span class="nx">Document</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Head</span><span class="p">,</span><span class="w"> </span><span class="nx">Html</span><span class="p">,</span><span class="w"> </span><span class="nx">Main</span><span class="p">,</span><span class="w"> </span><span class="nx">NextScript</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;next/document&#39;</span><span class="p">;</span>
<a id="__codelineno-35-2" name="__codelineno-35-2"></a>
<a id="__codelineno-35-3" name="__codelineno-35-3"></a><span class="kd">class</span><span class="w"> </span><span class="nx">MyDocument</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="nx">Document</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-35-4" name="__codelineno-35-4"></a><span class="w">  </span><span class="nx">render</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-35-5" name="__codelineno-35-5"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<a id="__codelineno-35-6" name="__codelineno-35-6"></a><span class="w">      </span><span class="o">&lt;</span><span class="nx">Html</span><span class="o">&gt;</span>
<a id="__codelineno-35-7" name="__codelineno-35-7"></a><span class="w">        </span><span class="o">&lt;</span><span class="nx">Head</span><span class="o">&gt;</span>
<a id="__codelineno-35-8" name="__codelineno-35-8"></a><span class="w">          </span><span class="o">&lt;</span><span class="nx">link</span><span class="w"> </span><span class="nx">rel</span><span class="o">=</span><span class="s2">&quot;preconnect&quot;</span><span class="w"> </span><span class="nx">href</span><span class="o">=</span><span class="s2">&quot;&lt;https://fonts.googleapis.com&gt;&quot;</span><span class="w"> </span><span class="o">/&gt;</span>
<a id="__codelineno-35-9" name="__codelineno-35-9"></a><span class="w">          </span><span class="o">&lt;</span><span class="nx">link</span><span class="w"> </span><span class="nx">rel</span><span class="o">=</span><span class="s2">&quot;preconnect&quot;</span><span class="w"> </span><span class="nx">href</span><span class="o">=</span><span class="s2">&quot;&lt;https://fonts.gstatic.com&gt;&quot;</span><span class="w"> </span><span class="o">/&gt;</span>
<a id="__codelineno-35-10" name="__codelineno-35-10"></a><span class="w">          </span><span class="o">&lt;</span><span class="nx">link</span>
<a id="__codelineno-35-11" name="__codelineno-35-11"></a><span class="w">            </span><span class="nx">href</span><span class="o">=</span><span class="s2">&quot;&lt;https://fonts.googleapis.com/css2?family=Quicksand:wght@300..700&amp;display=swap&gt;&quot;</span>
<a id="__codelineno-35-12" name="__codelineno-35-12"></a><span class="w">            </span><span class="nx">rel</span><span class="o">=</span><span class="s2">&quot;stylesheet&quot;</span>
<a id="__codelineno-35-13" name="__codelineno-35-13"></a><span class="w">          </span><span class="o">/&gt;</span>
<a id="__codelineno-35-14" name="__codelineno-35-14"></a><span class="w">        </span><span class="o">&lt;</span><span class="err">/Head&gt;</span>
<a id="__codelineno-35-15" name="__codelineno-35-15"></a><span class="w">        </span><span class="o">&lt;</span><span class="nx">body</span><span class="o">&gt;</span>
<a id="__codelineno-35-16" name="__codelineno-35-16"></a><span class="w">          </span><span class="o">&lt;</span><span class="nx">Main</span><span class="w"> </span><span class="o">/&gt;</span>
<a id="__codelineno-35-17" name="__codelineno-35-17"></a><span class="w">          </span><span class="o">&lt;</span><span class="nx">NextScript</span><span class="w"> </span><span class="o">/&gt;</span>
<a id="__codelineno-35-18" name="__codelineno-35-18"></a><span class="w">        </span><span class="o">&lt;</span><span class="err">/body&gt;</span>
<a id="__codelineno-35-19" name="__codelineno-35-19"></a><span class="w">      </span><span class="o">&lt;</span><span class="err">/Html&gt;</span>
<a id="__codelineno-35-20" name="__codelineno-35-20"></a><span class="w">    </span><span class="p">);</span>
<a id="__codelineno-35-21" name="__codelineno-35-21"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-35-22" name="__codelineno-35-22"></a><span class="p">}</span>
<a id="__codelineno-35-23" name="__codelineno-35-23"></a>
<a id="__codelineno-35-24" name="__codelineno-35-24"></a><span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">MyDocument</span><span class="p">;</span>
</code></pre></div></td></tr></table></div></p>
<p>请注意，我已经移除了 <code>components/cards/cat/CatCard.module.css</code> 中的 <code>@import</code> 字体，并且把 google 字体放在这里进行预加载</p>
<p>您需要在 <code>&lt;head&gt;</code> 元素中执行或自定义的任何其他操作现在都可以在此文件中完成。</p>
<p>请注意，此 <code>&lt;Head&gt;</code> 与从 <code>next/head</code> 导入的不同。 它们将一起工作，而这个仅用于你希望在每个页面上加载的数据。</p>
<p>更多的关于自定义 <code>_document</code> ，可以查看这个<a href="https://nextjs.org/docs/advanced-features/custom-document">文档</a></p>
<h2 id="layouts">添加 <strong>Layouts</strong><a class="headerlink" href="#layouts" title="Permanent link">&para;</a></h2>
<p>Layouts 是 Next.js 中的重要概念。他们协助我们管理页面间的状态。对于本节，我们将使用与<a href="https://github.com/vercel/next.js/tree/canary/examples/layout-component">官方示例</a> 中提供的相同的基本模板，并简单地对其进行自定义以适合我们的项目。</p>
<p>在 <code>components</code> 中创建新的目录 <code>layouts</code> 。我们将复制两次 <code>templates/case</code> 目录。一个叫做 <code>primary</code> ，另一个叫做 <code>sidebar</code> 。如下图所示</p>
<p><img src='images/012.webp' alt='12.png' /></p>
<p>在每个文件中对 <code>BaseTemplate</code> 进行区分大小写的查找/替换，并分别替换为 <code>PrimaryLayout</code> 和 <code>SidebarLayout</code>。 如果你在这一步有遇到困难，可以直接参考这个<a href="https://github.com/zidanDirk/nextjs-fullstack-app-template-zn">仓库的结构</a></p>
<p>更新 <code>PrimaryLayout.tsx</code> 和 <code>PrimaryLayout.module.css</code> 文件：</p>
<p><code>components/layouts/primary/PrimaryLayout.tsx</code>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-36-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-36-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-36-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-36-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-36-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-36-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-36-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-36-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-36-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-36-10">10</a></span>
<span class="normal"><a href="#__codelineno-36-11">11</a></span>
<span class="normal"><a href="#__codelineno-36-12">12</a></span>
<span class="normal"><a href="#__codelineno-36-13">13</a></span>
<span class="normal"><a href="#__codelineno-36-14">14</a></span>
<span class="normal"><a href="#__codelineno-36-15">15</a></span>
<span class="normal"><a href="#__codelineno-36-16">16</a></span>
<span class="normal"><a href="#__codelineno-36-17">17</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-36-1" name="__codelineno-36-1"></a><span class="k">import</span><span class="w"> </span><span class="nx">Head</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;next/head&#39;</span><span class="p">;</span>
<a id="__codelineno-36-2" name="__codelineno-36-2"></a><span class="k">import</span><span class="w"> </span><span class="nx">styles</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;./PrimaryLayout.module.css&#39;</span><span class="p">;</span>
<a id="__codelineno-36-3" name="__codelineno-36-3"></a>
<a id="__codelineno-36-4" name="__codelineno-36-4"></a><span class="k">export</span><span class="w"> </span><span class="kr">interface</span><span class="w"> </span><span class="nx">IPrimaryLayout</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="nx">React</span><span class="p">.</span><span class="nx">ComponentPropsWithoutRef</span><span class="o">&lt;</span><span class="s1">&#39;div&#39;</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{}</span>
<a id="__codelineno-36-5" name="__codelineno-36-5"></a>
<a id="__codelineno-36-6" name="__codelineno-36-6"></a><span class="kd">const</span><span class="w"> </span><span class="nx">PrimaryLayout</span><span class="o">:</span><span class="w"> </span><span class="nx">React</span><span class="p">.</span><span class="nx">FC</span><span class="o">&lt;</span><span class="nx">IPrimaryLayout</span><span class="o">&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="nx">children</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-36-7" name="__codelineno-36-7"></a><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<a id="__codelineno-36-8" name="__codelineno-36-8"></a><span class="w">   </span><span class="o">&lt;&gt;</span>
<a id="__codelineno-36-9" name="__codelineno-36-9"></a><span class="w">     </span><span class="o">&lt;</span><span class="nx">Head</span><span class="o">&gt;</span>
<a id="__codelineno-36-10" name="__codelineno-36-10"></a><span class="w">       </span><span class="o">&lt;</span><span class="nx">title</span><span class="o">&gt;</span><span class="nx">Primary</span><span class="w"> </span><span class="nx">Layout</span><span class="w"> </span><span class="nx">Example</span><span class="o">&lt;</span><span class="err">/title&gt;</span>
<a id="__codelineno-36-11" name="__codelineno-36-11"></a><span class="w">     </span><span class="o">&lt;</span><span class="err">/Head&gt;</span>
<a id="__codelineno-36-12" name="__codelineno-36-12"></a><span class="w">     </span><span class="o">&lt;</span><span class="nx">main</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="p">{</span><span class="nx">styles</span><span class="p">.</span><span class="nx">main</span><span class="p">}</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">children</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/main&gt;</span>
<a id="__codelineno-36-13" name="__codelineno-36-13"></a><span class="w">   </span><span class="o">&lt;</span><span class="err">/&gt;</span>
<a id="__codelineno-36-14" name="__codelineno-36-14"></a><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-36-15" name="__codelineno-36-15"></a><span class="p">};</span>
<a id="__codelineno-36-16" name="__codelineno-36-16"></a>
<a id="__codelineno-36-17" name="__codelineno-36-17"></a><span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">PrimaryLayout</span><span class="p">;</span>
</code></pre></div></td></tr></table></div></p>
<p><code>components/layouts/primary/PrimaryLayout.module.css</code>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-37-1">1</a></span>
<span class="normal"><a href="#__codelineno-37-2">2</a></span>
<span class="normal"><a href="#__codelineno-37-3">3</a></span>
<span class="normal"><a href="#__codelineno-37-4">4</a></span>
<span class="normal"><a href="#__codelineno-37-5">5</a></span>
<span class="normal"><a href="#__codelineno-37-6">6</a></span>
<span class="normal"><a href="#__codelineno-37-7">7</a></span>
<span class="normal"><a href="#__codelineno-37-8">8</a></span>
<span class="normal"><a href="#__codelineno-37-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-37-1" name="__codelineno-37-1"></a><span class="p">.</span><span class="nc">main</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-37-2" name="__codelineno-37-2"></a><span class="w">  </span><span class="k">display</span><span class="p">:</span><span class="w"> </span><span class="kc">flex</span><span class="p">;</span>
<a id="__codelineno-37-3" name="__codelineno-37-3"></a><span class="w">  </span><span class="k">height</span><span class="p">:</span><span class="w"> </span><span class="nb">calc</span><span class="p">(</span><span class="mi">100</span><span class="kt">vh</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">64</span><span class="kt">px</span><span class="p">);</span>
<a id="__codelineno-37-4" name="__codelineno-37-4"></a><span class="w">  </span><span class="k">background-color</span><span class="p">:</span><span class="w"> </span><span class="kc">white</span><span class="p">;</span>
<a id="__codelineno-37-5" name="__codelineno-37-5"></a><span class="p">}</span>
<a id="__codelineno-37-6" name="__codelineno-37-6"></a>
<a id="__codelineno-37-7" name="__codelineno-37-7"></a><span class="p">.</span><span class="nc">main</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nt">section</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-37-8" name="__codelineno-37-8"></a><span class="w">  </span><span class="k">padding</span><span class="p">:</span><span class="w"> </span><span class="mi">32</span><span class="kt">px</span><span class="p">;</span>
<a id="__codelineno-37-9" name="__codelineno-37-9"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div></p>
<p>然后是 sidebar</p>
<p><code>components/layouts/sidebar/SidebarLayout.tsx</code>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-38-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-38-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-38-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-38-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-38-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-38-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-38-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-38-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-38-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-38-10">10</a></span>
<span class="normal"><a href="#__codelineno-38-11">11</a></span>
<span class="normal"><a href="#__codelineno-38-12">12</a></span>
<span class="normal"><a href="#__codelineno-38-13">13</a></span>
<span class="normal"><a href="#__codelineno-38-14">14</a></span>
<span class="normal"><a href="#__codelineno-38-15">15</a></span>
<span class="normal"><a href="#__codelineno-38-16">16</a></span>
<span class="normal"><a href="#__codelineno-38-17">17</a></span>
<span class="normal"><a href="#__codelineno-38-18">18</a></span>
<span class="normal"><a href="#__codelineno-38-19">19</a></span>
<span class="normal"><a href="#__codelineno-38-20">20</a></span>
<span class="normal"><a href="#__codelineno-38-21">21</a></span>
<span class="normal"><a href="#__codelineno-38-22">22</a></span>
<span class="normal"><a href="#__codelineno-38-23">23</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-38-1" name="__codelineno-38-1"></a><span class="k">import</span><span class="w"> </span><span class="nx">Link</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;next/link&#39;</span><span class="p">;</span>
<a id="__codelineno-38-2" name="__codelineno-38-2"></a><span class="k">import</span><span class="w"> </span><span class="nx">styles</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;./SidebarLayout.module.css&#39;</span><span class="p">;</span>
<a id="__codelineno-38-3" name="__codelineno-38-3"></a>
<a id="__codelineno-38-4" name="__codelineno-38-4"></a><span class="k">export</span><span class="w"> </span><span class="kr">interface</span><span class="w"> </span><span class="nx">ISidebarLayout</span><span class="w"> </span><span class="p">{}</span>
<a id="__codelineno-38-5" name="__codelineno-38-5"></a>
<a id="__codelineno-38-6" name="__codelineno-38-6"></a><span class="kd">const</span><span class="w"> </span><span class="nx">SidebarLayout</span><span class="o">:</span><span class="w"> </span><span class="nx">React</span><span class="p">.</span><span class="nx">FC</span><span class="o">&lt;</span><span class="nx">ISidebarLayout</span><span class="o">&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-38-7" name="__codelineno-38-7"></a><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<a id="__codelineno-38-8" name="__codelineno-38-8"></a><span class="w">    </span><span class="o">&lt;</span><span class="nx">nav</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="p">{</span><span class="nx">styles</span><span class="p">.</span><span class="nx">nav</span><span class="p">}</span><span class="o">&gt;</span>
<a id="__codelineno-38-9" name="__codelineno-38-9"></a><span class="w">      </span><span class="o">&lt;</span><span class="nx">input</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="p">{</span><span class="nx">styles</span><span class="p">.</span><span class="nx">input</span><span class="p">}</span><span class="w"> </span><span class="nx">placeholder</span><span class="o">=</span><span class="s2">&quot;Search...&quot;</span><span class="w"> </span><span class="o">/&gt;</span>
<a id="__codelineno-38-10" name="__codelineno-38-10"></a><span class="w">      </span><span class="o">&lt;</span><span class="nx">Link</span><span class="w"> </span><span class="nx">href</span><span class="o">=</span><span class="s2">&quot;/&quot;</span><span class="o">&gt;</span>
<a id="__codelineno-38-11" name="__codelineno-38-11"></a><span class="w">        </span><span class="nx">Home</span>
<a id="__codelineno-38-12" name="__codelineno-38-12"></a><span class="w">      </span><span class="o">&lt;</span><span class="err">/Link&gt;</span>
<a id="__codelineno-38-13" name="__codelineno-38-13"></a><span class="w">      </span><span class="o">&lt;</span><span class="nx">Link</span><span class="w"> </span><span class="nx">href</span><span class="o">=</span><span class="s2">&quot;/about&quot;</span><span class="o">&gt;</span>
<a id="__codelineno-38-14" name="__codelineno-38-14"></a><span class="w">        </span><span class="nx">About</span>
<a id="__codelineno-38-15" name="__codelineno-38-15"></a><span class="w">      </span><span class="o">&lt;</span><span class="err">/Link&gt;</span>
<a id="__codelineno-38-16" name="__codelineno-38-16"></a><span class="w">      </span><span class="o">&lt;</span><span class="nx">Link</span><span class="w"> </span><span class="nx">href</span><span class="o">=</span><span class="s2">&quot;/contact&quot;</span><span class="o">&gt;</span>
<a id="__codelineno-38-17" name="__codelineno-38-17"></a><span class="w">        </span><span class="nx">Contact</span>
<a id="__codelineno-38-18" name="__codelineno-38-18"></a><span class="w">      </span><span class="o">&lt;</span><span class="err">/Link&gt;</span>
<a id="__codelineno-38-19" name="__codelineno-38-19"></a><span class="w">    </span><span class="o">&lt;</span><span class="err">/nav&gt;</span>
<a id="__codelineno-38-20" name="__codelineno-38-20"></a><span class="w">  </span><span class="p">);</span>
<a id="__codelineno-38-21" name="__codelineno-38-21"></a><span class="p">};</span>
<a id="__codelineno-38-22" name="__codelineno-38-22"></a>
<a id="__codelineno-38-23" name="__codelineno-38-23"></a><span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">SidebarLayout</span><span class="p">;</span>
</code></pre></div></td></tr></table></div></p>
<p><code>components/layouts/sidebar/SidebarLayout.module.css</code>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-39-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-39-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-39-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-39-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-39-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-39-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-39-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-39-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-39-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-39-10">10</a></span>
<span class="normal"><a href="#__codelineno-39-11">11</a></span>
<span class="normal"><a href="#__codelineno-39-12">12</a></span>
<span class="normal"><a href="#__codelineno-39-13">13</a></span>
<span class="normal"><a href="#__codelineno-39-14">14</a></span>
<span class="normal"><a href="#__codelineno-39-15">15</a></span>
<span class="normal"><a href="#__codelineno-39-16">16</a></span>
<span class="normal"><a href="#__codelineno-39-17">17</a></span>
<span class="normal"><a href="#__codelineno-39-18">18</a></span>
<span class="normal"><a href="#__codelineno-39-19">19</a></span>
<span class="normal"><a href="#__codelineno-39-20">20</a></span>
<span class="normal"><a href="#__codelineno-39-21">21</a></span>
<span class="normal"><a href="#__codelineno-39-22">22</a></span>
<span class="normal"><a href="#__codelineno-39-23">23</a></span>
<span class="normal"><a href="#__codelineno-39-24">24</a></span>
<span class="normal"><a href="#__codelineno-39-25">25</a></span>
<span class="normal"><a href="#__codelineno-39-26">26</a></span>
<span class="normal"><a href="#__codelineno-39-27">27</a></span>
<span class="normal"><a href="#__codelineno-39-28">28</a></span>
<span class="normal"><a href="#__codelineno-39-29">29</a></span>
<span class="normal"><a href="#__codelineno-39-30">30</a></span>
<span class="normal"><a href="#__codelineno-39-31">31</a></span>
<span class="normal"><a href="#__codelineno-39-32">32</a></span>
<span class="normal"><a href="#__codelineno-39-33">33</a></span>
<span class="normal"><a href="#__codelineno-39-34">34</a></span>
<span class="normal"><a href="#__codelineno-39-35">35</a></span>
<span class="normal"><a href="#__codelineno-39-36">36</a></span>
<span class="normal"><a href="#__codelineno-39-37">37</a></span>
<span class="normal"><a href="#__codelineno-39-38">38</a></span>
<span class="normal"><a href="#__codelineno-39-39">39</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-39-1" name="__codelineno-39-1"></a><span class="p">.</span><span class="nc">nav</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-39-2" name="__codelineno-39-2"></a><span class="w">  </span><span class="k">height</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
<a id="__codelineno-39-3" name="__codelineno-39-3"></a><span class="w">  </span><span class="k">display</span><span class="p">:</span><span class="w"> </span><span class="kc">flex</span><span class="p">;</span>
<a id="__codelineno-39-4" name="__codelineno-39-4"></a><span class="w">  </span><span class="k">flex-direction</span><span class="p">:</span><span class="w"> </span><span class="kc">column</span><span class="p">;</span>
<a id="__codelineno-39-5" name="__codelineno-39-5"></a><span class="w">  </span><span class="k">width</span><span class="p">:</span><span class="w"> </span><span class="mi">250</span><span class="kt">px</span><span class="p">;</span>
<a id="__codelineno-39-6" name="__codelineno-39-6"></a><span class="w">  </span><span class="k">background-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#fafafa</span><span class="p">;</span>
<a id="__codelineno-39-7" name="__codelineno-39-7"></a><span class="w">  </span><span class="k">padding</span><span class="p">:</span><span class="w"> </span><span class="mi">32</span><span class="kt">px</span><span class="p">;</span>
<a id="__codelineno-39-8" name="__codelineno-39-8"></a><span class="w">  </span><span class="k">border-right</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="kt">px</span><span class="w"> </span><span class="kc">solid</span><span class="w"> </span><span class="mh">#eaeaea</span><span class="p">;</span>
<a id="__codelineno-39-9" name="__codelineno-39-9"></a><span class="p">}</span>
<a id="__codelineno-39-10" name="__codelineno-39-10"></a>
<a id="__codelineno-39-11" name="__codelineno-39-11"></a><span class="p">.</span><span class="nc">nav</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nt">a</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-39-12" name="__codelineno-39-12"></a><span class="w">  </span><span class="k">margin</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="kt">px</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-39-13" name="__codelineno-39-13"></a><span class="w">  </span><span class="k">text-decoration</span><span class="p">:</span><span class="w"> </span><span class="kc">none</span><span class="p">;</span>
<a id="__codelineno-39-14" name="__codelineno-39-14"></a><span class="w">  </span><span class="k">background</span><span class="p">:</span><span class="w"> </span><span class="kc">white</span><span class="p">;</span>
<a id="__codelineno-39-15" name="__codelineno-39-15"></a><span class="w">  </span><span class="k">border-radius</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="kt">px</span><span class="p">;</span>
<a id="__codelineno-39-16" name="__codelineno-39-16"></a><span class="w">  </span><span class="k">font-size</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="kt">px</span><span class="p">;</span>
<a id="__codelineno-39-17" name="__codelineno-39-17"></a><span class="w">  </span><span class="k">padding</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="kt">px</span><span class="w"> </span><span class="mi">16</span><span class="kt">px</span><span class="p">;</span>
<a id="__codelineno-39-18" name="__codelineno-39-18"></a><span class="w">  </span><span class="k">text-transform</span><span class="p">:</span><span class="w"> </span><span class="kc">uppercase</span><span class="p">;</span>
<a id="__codelineno-39-19" name="__codelineno-39-19"></a><span class="w">  </span><span class="k">font-weight</span><span class="p">:</span><span class="w"> </span><span class="mi">600</span><span class="p">;</span>
<a id="__codelineno-39-20" name="__codelineno-39-20"></a><span class="w">  </span><span class="k">letter-spacing</span><span class="p">:</span><span class="w"> </span><span class="mf">0.025</span><span class="kt">em</span><span class="p">;</span>
<a id="__codelineno-39-21" name="__codelineno-39-21"></a><span class="w">  </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="mh">#333</span><span class="p">;</span>
<a id="__codelineno-39-22" name="__codelineno-39-22"></a><span class="w">  </span><span class="k">border</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="kt">px</span><span class="w"> </span><span class="kc">solid</span><span class="w"> </span><span class="mh">#eaeaea</span><span class="p">;</span>
<a id="__codelineno-39-23" name="__codelineno-39-23"></a><span class="w">  </span><span class="k">transition</span><span class="p">:</span><span class="w"> </span><span class="kc">all</span><span class="w"> </span><span class="mf">0.125</span><span class="kt">s</span><span class="w"> </span><span class="kc">ease</span><span class="p">;</span>
<a id="__codelineno-39-24" name="__codelineno-39-24"></a><span class="p">}</span>
<a id="__codelineno-39-25" name="__codelineno-39-25"></a>
<a id="__codelineno-39-26" name="__codelineno-39-26"></a><span class="p">.</span><span class="nc">nav</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nt">a</span><span class="p">:</span><span class="nd">hover</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-39-27" name="__codelineno-39-27"></a><span class="w">  </span><span class="k">background-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#eaeaea</span><span class="p">;</span>
<a id="__codelineno-39-28" name="__codelineno-39-28"></a><span class="p">}</span>
<a id="__codelineno-39-29" name="__codelineno-39-29"></a>
<a id="__codelineno-39-30" name="__codelineno-39-30"></a><span class="p">.</span><span class="nc">input</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-39-31" name="__codelineno-39-31"></a><span class="w">  </span><span class="k">margin</span><span class="p">:</span><span class="w"> </span><span class="mi">32</span><span class="kt">px</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-39-32" name="__codelineno-39-32"></a><span class="w">  </span><span class="k">text-decoration</span><span class="p">:</span><span class="w"> </span><span class="kc">none</span><span class="p">;</span>
<a id="__codelineno-39-33" name="__codelineno-39-33"></a><span class="w">  </span><span class="k">background</span><span class="p">:</span><span class="w"> </span><span class="kc">white</span><span class="p">;</span>
<a id="__codelineno-39-34" name="__codelineno-39-34"></a><span class="w">  </span><span class="k">border-radius</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="kt">px</span><span class="p">;</span>
<a id="__codelineno-39-35" name="__codelineno-39-35"></a><span class="w">  </span><span class="k">border</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="kt">px</span><span class="w"> </span><span class="kc">solid</span><span class="w"> </span><span class="mh">#eaeaea</span><span class="p">;</span>
<a id="__codelineno-39-36" name="__codelineno-39-36"></a><span class="w">  </span><span class="k">font-size</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="kt">px</span><span class="p">;</span>
<a id="__codelineno-39-37" name="__codelineno-39-37"></a><span class="w">  </span><span class="k">padding</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="kt">px</span><span class="w"> </span><span class="mi">16</span><span class="kt">px</span><span class="p">;</span>
<a id="__codelineno-39-38" name="__codelineno-39-38"></a><span class="w">  </span><span class="k">height</span><span class="p">:</span><span class="w"> </span><span class="mi">28</span><span class="kt">px</span><span class="p">;</span>
<a id="__codelineno-39-39" name="__codelineno-39-39"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div></p>
<p>现在这些文件都创建好了，我们需要使用他们。我们将更新我们的主页并创建另一个名为 <code>about.tsx</code> 的页面来展示如何使用共享 layouts 并在页面之间保持组件状态。</p>
<p>首先，我们需要添加一个类型来扩展默认的 NextPage 接口，因为出于某种原因它不包含开箱即用的 <code>getLayout</code> 函数。</p>
<p>创建一个自定义类型文件，它将为我们处理此问题提供<a href="https://stackoverflow.com/questions/62115518/persistent-layout-in-next-js-with-typescript-and-hoc/65898224#65898224">方案</a></p>
<p><code>pages/page.d.ts</code>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-40-1">1</a></span>
<span class="normal"><a href="#__codelineno-40-2">2</a></span>
<span class="normal"><a href="#__codelineno-40-3">3</a></span>
<span class="normal"><a href="#__codelineno-40-4">4</a></span>
<span class="normal"><a href="#__codelineno-40-5">5</a></span>
<span class="normal"><a href="#__codelineno-40-6">6</a></span>
<span class="normal"><a href="#__codelineno-40-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-40-1" name="__codelineno-40-1"></a><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">NextPage</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;next&#39;</span><span class="p">;</span>
<a id="__codelineno-40-2" name="__codelineno-40-2"></a><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">ComponentType</span><span class="p">,</span><span class="w"> </span><span class="nx">ReactElement</span><span class="p">,</span><span class="w"> </span><span class="nx">ReactNode</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react&#39;</span><span class="p">;</span>
<a id="__codelineno-40-3" name="__codelineno-40-3"></a>
<a id="__codelineno-40-4" name="__codelineno-40-4"></a><span class="k">export</span><span class="w"> </span><span class="nx">type</span><span class="w"> </span><span class="nx">NextPageWithLayout</span><span class="o">&lt;</span><span class="nx">P</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span><span class="o">&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">NextPage</span><span class="o">&lt;</span><span class="nx">P</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-40-5" name="__codelineno-40-5"></a><span class="w">  </span><span class="nx">getLayout</span><span class="o">?:</span><span class="w"> </span><span class="p">(</span><span class="nx">_page</span><span class="o">:</span><span class="w"> </span><span class="nx">ReactElement</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">ReactNode</span><span class="p">;</span>
<a id="__codelineno-40-6" name="__codelineno-40-6"></a><span class="w">  </span><span class="nx">layout</span><span class="o">?:</span><span class="w"> </span><span class="nx">ComponentType</span><span class="p">;</span>
<a id="__codelineno-40-7" name="__codelineno-40-7"></a><span class="p">};</span>
</code></pre></div></td></tr></table></div></p>
<p>当你需要创建自定义 layouts 的页面，你可以使用 <code>NextPageWithLayout</code> 接口来替代 <code>NextPage</code> 接口</p>
<p>现在让我们更新主页</p>
<p><code>pages/index.tsx</code>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-41-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-41-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-41-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-41-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-41-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-41-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-41-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-41-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-41-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-41-10">10</a></span>
<span class="normal"><a href="#__codelineno-41-11">11</a></span>
<span class="normal"><a href="#__codelineno-41-12">12</a></span>
<span class="normal"><a href="#__codelineno-41-13">13</a></span>
<span class="normal"><a href="#__codelineno-41-14">14</a></span>
<span class="normal"><a href="#__codelineno-41-15">15</a></span>
<span class="normal"><a href="#__codelineno-41-16">16</a></span>
<span class="normal"><a href="#__codelineno-41-17">17</a></span>
<span class="normal"><a href="#__codelineno-41-18">18</a></span>
<span class="normal"><a href="#__codelineno-41-19">19</a></span>
<span class="normal"><a href="#__codelineno-41-20">20</a></span>
<span class="normal"><a href="#__codelineno-41-21">21</a></span>
<span class="normal"><a href="#__codelineno-41-22">22</a></span>
<span class="normal"><a href="#__codelineno-41-23">23</a></span>
<span class="normal"><a href="#__codelineno-41-24">24</a></span>
<span class="normal"><a href="#__codelineno-41-25">25</a></span>
<span class="normal"><a href="#__codelineno-41-26">26</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-41-1" name="__codelineno-41-1"></a><span class="k">import</span><span class="w"> </span><span class="nx">CatCard</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../components/cards/cat/CatCard&#39;</span><span class="p">;</span>
<a id="__codelineno-41-2" name="__codelineno-41-2"></a><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">mockCatCardProps</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../components/cards/cat/CatCard.mocks&#39;</span><span class="p">;</span>
<a id="__codelineno-41-3" name="__codelineno-41-3"></a><span class="k">import</span><span class="w"> </span><span class="nx">PrimaryLayout</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../components/layouts/primary/PrimaryLayout&#39;</span><span class="p">;</span>
<a id="__codelineno-41-4" name="__codelineno-41-4"></a><span class="k">import</span><span class="w"> </span><span class="nx">SidebarLayout</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../components/layouts/sidebar/SidebarLayout&#39;</span><span class="p">;</span>
<a id="__codelineno-41-5" name="__codelineno-41-5"></a><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">NextPageWithLayout</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;./page&#39;</span><span class="p">;</span>
<a id="__codelineno-41-6" name="__codelineno-41-6"></a>
<a id="__codelineno-41-7" name="__codelineno-41-7"></a><span class="kd">const</span><span class="w"> </span><span class="nx">Home</span><span class="o">:</span><span class="w"> </span><span class="nx">NextPageWithLayout</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-41-8" name="__codelineno-41-8"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<a id="__codelineno-41-9" name="__codelineno-41-9"></a><span class="w">      </span><span class="o">&lt;</span><span class="nx">section</span><span class="w"> </span><span class="o">&gt;</span>
<a id="__codelineno-41-10" name="__codelineno-41-10"></a><span class="w">        </span><span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span>
<a id="__codelineno-41-11" name="__codelineno-41-11"></a><span class="w">          </span><span class="nx">Welcome</span><span class="w"> </span><span class="nx">to</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">a</span><span class="w"> </span><span class="nx">href</span><span class="o">=</span><span class="s2">&quot;&lt;https://nextjs.org&gt;&quot;</span><span class="o">&gt;</span><span class="nx">Next</span><span class="p">.</span><span class="nx">js</span><span class="o">!&lt;</span><span class="err">/a&gt;</span>
<a id="__codelineno-41-12" name="__codelineno-41-12"></a><span class="w">        </span><span class="o">&lt;</span><span class="err">/h1&gt;</span>
<a id="__codelineno-41-13" name="__codelineno-41-13"></a><span class="w">        </span><span class="o">&lt;</span><span class="nx">CatCard</span><span class="w"> </span><span class="p">{...</span><span class="nx">mockCatCardProps</span><span class="p">.</span><span class="nx">base</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span>
<a id="__codelineno-41-14" name="__codelineno-41-14"></a><span class="w">      </span><span class="o">&lt;</span><span class="err">/section&gt;</span>
<a id="__codelineno-41-15" name="__codelineno-41-15"></a><span class="w">    </span><span class="p">);</span>
<a id="__codelineno-41-16" name="__codelineno-41-16"></a><span class="w">  </span><span class="p">};</span>
<a id="__codelineno-41-17" name="__codelineno-41-17"></a><span class="w">  </span><span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">Home</span><span class="p">;</span>
<a id="__codelineno-41-18" name="__codelineno-41-18"></a>
<a id="__codelineno-41-19" name="__codelineno-41-19"></a><span class="w">  </span><span class="nx">Home</span><span class="p">.</span><span class="nx">getLayout</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">page</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-41-20" name="__codelineno-41-20"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<a id="__codelineno-41-21" name="__codelineno-41-21"></a><span class="w">      </span><span class="o">&lt;</span><span class="nx">PrimaryLayout</span><span class="o">&gt;</span>
<a id="__codelineno-41-22" name="__codelineno-41-22"></a><span class="w">        </span><span class="o">&lt;</span><span class="nx">SidebarLayout</span><span class="w"> </span><span class="o">/&gt;</span>
<a id="__codelineno-41-23" name="__codelineno-41-23"></a><span class="w">        </span><span class="p">{</span><span class="nx">page</span><span class="p">}</span>
<a id="__codelineno-41-24" name="__codelineno-41-24"></a><span class="w">      </span><span class="o">&lt;</span><span class="err">/PrimaryLayout&gt;</span>
<a id="__codelineno-41-25" name="__codelineno-41-25"></a><span class="w">    </span><span class="p">);</span>
<a id="__codelineno-41-26" name="__codelineno-41-26"></a><span class="w">  </span><span class="p">};</span>
</code></pre></div></td></tr></table></div></p>
<p>并且在 <code>pages</code> 目录中创建一个新的 <code>about</code> 页面</p>
<p><code>pages/about.tsx</code>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-42-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-42-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-42-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-42-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-42-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-42-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-42-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-42-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-42-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-42-10">10</a></span>
<span class="normal"><a href="#__codelineno-42-11">11</a></span>
<span class="normal"><a href="#__codelineno-42-12">12</a></span>
<span class="normal"><a href="#__codelineno-42-13">13</a></span>
<span class="normal"><a href="#__codelineno-42-14">14</a></span>
<span class="normal"><a href="#__codelineno-42-15">15</a></span>
<span class="normal"><a href="#__codelineno-42-16">16</a></span>
<span class="normal"><a href="#__codelineno-42-17">17</a></span>
<span class="normal"><a href="#__codelineno-42-18">18</a></span>
<span class="normal"><a href="#__codelineno-42-19">19</a></span>
<span class="normal"><a href="#__codelineno-42-20">20</a></span>
<span class="normal"><a href="#__codelineno-42-21">21</a></span>
<span class="normal"><a href="#__codelineno-42-22">22</a></span>
<span class="normal"><a href="#__codelineno-42-23">23</a></span>
<span class="normal"><a href="#__codelineno-42-24">24</a></span>
<span class="normal"><a href="#__codelineno-42-25">25</a></span>
<span class="normal"><a href="#__codelineno-42-26">26</a></span>
<span class="normal"><a href="#__codelineno-42-27">27</a></span>
<span class="normal"><a href="#__codelineno-42-28">28</a></span>
<span class="normal"><a href="#__codelineno-42-29">29</a></span>
<span class="normal"><a href="#__codelineno-42-30">30</a></span>
<span class="normal"><a href="#__codelineno-42-31">31</a></span>
<span class="normal"><a href="#__codelineno-42-32">32</a></span>
<span class="normal"><a href="#__codelineno-42-33">33</a></span>
<span class="normal"><a href="#__codelineno-42-34">34</a></span>
<span class="normal"><a href="#__codelineno-42-35">35</a></span>
<span class="normal"><a href="#__codelineno-42-36">36</a></span>
<span class="normal"><a href="#__codelineno-42-37">37</a></span>
<span class="normal"><a href="#__codelineno-42-38">38</a></span>
<span class="normal"><a href="#__codelineno-42-39">39</a></span>
<span class="normal"><a href="#__codelineno-42-40">40</a></span>
<span class="normal"><a href="#__codelineno-42-41">41</a></span>
<span class="normal"><a href="#__codelineno-42-42">42</a></span>
<span class="normal"><a href="#__codelineno-42-43">43</a></span>
<span class="normal"><a href="#__codelineno-42-44">44</a></span>
<span class="normal"><a href="#__codelineno-42-45">45</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-42-1" name="__codelineno-42-1"></a><span class="k">import</span><span class="w"> </span><span class="nx">PrimaryLayout</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../components/layouts/primary/PrimaryLayout&#39;</span><span class="p">;</span>
<a id="__codelineno-42-2" name="__codelineno-42-2"></a><span class="k">import</span><span class="w"> </span><span class="nx">SidebarLayout</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;../components/layouts/sidebar/SidebarLayout&#39;</span><span class="p">;</span>
<a id="__codelineno-42-3" name="__codelineno-42-3"></a><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">NextPageWithLayout</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;./page&#39;</span><span class="p">;</span>
<a id="__codelineno-42-4" name="__codelineno-42-4"></a>
<a id="__codelineno-42-5" name="__codelineno-42-5"></a><span class="kd">const</span><span class="w"> </span><span class="nx">About</span><span class="o">:</span><span class="w"> </span><span class="nx">NextPageWithLayout</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-42-6" name="__codelineno-42-6"></a><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<a id="__codelineno-42-7" name="__codelineno-42-7"></a><span class="w">  </span><span class="o">&lt;</span><span class="nx">section</span><span class="o">&gt;</span>
<a id="__codelineno-42-8" name="__codelineno-42-8"></a><span class="w">    </span><span class="o">&lt;</span><span class="nx">h2</span><span class="o">&gt;</span><span class="nx">Layout</span><span class="w"> </span><span class="nx">Example</span><span class="w"> </span><span class="p">(</span><span class="nx">About</span><span class="p">)</span><span class="o">&lt;</span><span class="err">/h2&gt;</span>
<a id="__codelineno-42-9" name="__codelineno-42-9"></a><span class="w">    </span><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span>
<a id="__codelineno-42-10" name="__codelineno-42-10"></a><span class="w">      </span><span class="nx">This</span><span class="w"> </span><span class="nx">example</span><span class="w"> </span><span class="nx">adds</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="nx">property</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">code</span><span class="o">&gt;</span><span class="nx">getLayout</span><span class="o">&lt;</span><span class="err">/code&gt; to your page,</span>
<a id="__codelineno-42-11" name="__codelineno-42-11"></a><span class="w">      </span><span class="nx">allowing</span><span class="w"> </span><span class="nx">you</span><span class="w"> </span><span class="nx">to</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="nx">React</span><span class="w"> </span><span class="nx">component</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nx">the</span><span class="w"> </span><span class="nx">layout</span><span class="p">.</span><span class="w"> </span><span class="nx">This</span><span class="w"> </span><span class="nx">allows</span><span class="w"> </span><span class="nx">you</span>
<a id="__codelineno-42-12" name="__codelineno-42-12"></a><span class="w">      </span><span class="nx">to</span><span class="w"> </span><span class="nx">define</span><span class="w"> </span><span class="nx">the</span><span class="w"> </span><span class="nx">layout</span><span class="w"> </span><span class="nx">on</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="nx">per</span><span class="o">-</span><span class="nx">page</span><span class="w"> </span><span class="nx">basis</span><span class="p">.</span><span class="w"> </span><span class="nx">Since</span><span class="w"> </span><span class="nx">we</span><span class="o">&amp;</span><span class="nx">apos</span><span class="p">;</span><span class="nx">re</span><span class="w"> </span><span class="nx">returning</span><span class="w"> </span><span class="nx">a</span>
<a id="__codelineno-42-13" name="__codelineno-42-13"></a><span class="w">      </span><span class="kd">function</span><span class="p">,</span><span class="w"> </span><span class="nx">we</span><span class="w"> </span><span class="nx">can</span><span class="w"> </span><span class="nx">have</span><span class="w"> </span><span class="nx">complex</span><span class="w"> </span><span class="nx">nested</span><span class="w"> </span><span class="nx">layouts</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nx">desired</span><span class="p">.</span>
<a id="__codelineno-42-14" name="__codelineno-42-14"></a><span class="w">    </span><span class="o">&lt;</span><span class="err">/p&gt;</span>
<a id="__codelineno-42-15" name="__codelineno-42-15"></a><span class="w">    </span><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span>
<a id="__codelineno-42-16" name="__codelineno-42-16"></a><span class="w">      </span><span class="nx">When</span><span class="w"> </span><span class="nx">navigating</span><span class="w"> </span><span class="nx">between</span><span class="w"> </span><span class="nx">pages</span><span class="p">,</span><span class="w"> </span><span class="nx">we</span><span class="w"> </span><span class="nx">want</span><span class="w"> </span><span class="nx">to</span><span class="w"> </span><span class="nx">persist</span><span class="w"> </span><span class="nx">page</span><span class="w"> </span><span class="nx">state</span><span class="w"> </span><span class="p">(</span><span class="nx">input</span>
<a id="__codelineno-42-17" name="__codelineno-42-17"></a><span class="w">      </span><span class="nx">values</span><span class="p">,</span><span class="w"> </span><span class="nx">scroll</span><span class="w"> </span><span class="nx">position</span><span class="p">,</span><span class="w"> </span><span class="nx">etc</span><span class="p">.)</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="nx">Single</span><span class="o">-</span><span class="nx">Page</span><span class="w"> </span><span class="nx">Application</span><span class="w"> </span><span class="p">(</span><span class="nx">SPA</span><span class="p">)</span>
<a id="__codelineno-42-18" name="__codelineno-42-18"></a><span class="w">      </span><span class="nx">experience</span><span class="p">.</span>
<a id="__codelineno-42-19" name="__codelineno-42-19"></a><span class="w">    </span><span class="o">&lt;</span><span class="err">/p&gt;</span>
<a id="__codelineno-42-20" name="__codelineno-42-20"></a><span class="w">    </span><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span>
<a id="__codelineno-42-21" name="__codelineno-42-21"></a><span class="w">      </span><span class="nx">This</span><span class="w"> </span><span class="nx">layout</span><span class="w"> </span><span class="nx">pattern</span><span class="w"> </span><span class="nx">will</span><span class="w"> </span><span class="nx">allow</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nx">state</span><span class="w"> </span><span class="nx">persistence</span><span class="w"> </span><span class="nx">because</span><span class="w"> </span><span class="nx">the</span><span class="w"> </span><span class="nx">React</span>
<a id="__codelineno-42-22" name="__codelineno-42-22"></a><span class="w">      </span><span class="nx">component</span><span class="w"> </span><span class="nx">tree</span><span class="w"> </span><span class="nx">is</span><span class="w"> </span><span class="nx">persisted</span><span class="w"> </span><span class="nx">between</span><span class="w"> </span><span class="nx">page</span><span class="w"> </span><span class="nx">transitions</span><span class="p">.</span><span class="w"> </span><span class="nx">To</span><span class="w"> </span><span class="nx">preserve</span><span class="w"> </span><span class="nx">state</span><span class="p">,</span>
<a id="__codelineno-42-23" name="__codelineno-42-23"></a><span class="w">      </span><span class="nx">we</span><span class="w"> </span><span class="nx">need</span><span class="w"> </span><span class="nx">to</span><span class="w"> </span><span class="nx">prevent</span><span class="w"> </span><span class="nx">the</span><span class="w"> </span><span class="nx">React</span><span class="w"> </span><span class="nx">component</span><span class="w"> </span><span class="nx">tree</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="nx">being</span><span class="w"> </span><span class="nx">discarded</span><span class="w"> </span><span class="nx">between</span>
<a id="__codelineno-42-24" name="__codelineno-42-24"></a><span class="w">      </span><span class="nx">page</span><span class="w"> </span><span class="nx">transitions</span><span class="p">.</span>
<a id="__codelineno-42-25" name="__codelineno-42-25"></a><span class="w">    </span><span class="o">&lt;</span><span class="err">/p&gt;</span>
<a id="__codelineno-42-26" name="__codelineno-42-26"></a><span class="w">    </span><span class="o">&lt;</span><span class="nx">h3</span><span class="o">&gt;</span><span class="nx">Try</span><span class="w"> </span><span class="nx">It</span><span class="w"> </span><span class="nx">Out</span><span class="o">&lt;</span><span class="err">/h3&gt;</span>
<a id="__codelineno-42-27" name="__codelineno-42-27"></a><span class="w">    </span><span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span>
<a id="__codelineno-42-28" name="__codelineno-42-28"></a><span class="w">      </span><span class="nx">To</span><span class="w"> </span><span class="nx">visualize</span><span class="w"> </span><span class="k">this</span><span class="p">,</span><span class="w"> </span><span class="k">try</span><span class="w"> </span><span class="nx">tying</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nx">the</span><span class="w"> </span><span class="nx">search</span><span class="w"> </span><span class="nx">input</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nx">the</span><span class="p">{</span><span class="s1">&#39; &#39;</span><span class="p">}</span>
<a id="__codelineno-42-29" name="__codelineno-42-29"></a><span class="w">      </span><span class="o">&lt;</span><span class="nx">code</span><span class="o">&gt;</span><span class="nx">Sidebar</span><span class="o">&lt;</span><span class="err">/code&gt; and then changing routes. You&amp;apos;ll notice the</span>
<a id="__codelineno-42-30" name="__codelineno-42-30"></a><span class="w">      </span><span class="nx">input</span><span class="w"> </span><span class="nx">state</span><span class="w"> </span><span class="nx">is</span><span class="w"> </span><span class="nx">persisted</span><span class="p">.</span>
<a id="__codelineno-42-31" name="__codelineno-42-31"></a><span class="w">    </span><span class="o">&lt;</span><span class="err">/p&gt;</span>
<a id="__codelineno-42-32" name="__codelineno-42-32"></a><span class="w">  </span><span class="o">&lt;</span><span class="err">/section&gt;</span>
<a id="__codelineno-42-33" name="__codelineno-42-33"></a><span class="p">);</span>
<a id="__codelineno-42-34" name="__codelineno-42-34"></a><span class="p">};</span>
<a id="__codelineno-42-35" name="__codelineno-42-35"></a>
<a id="__codelineno-42-36" name="__codelineno-42-36"></a><span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">About</span><span class="p">;</span>
<a id="__codelineno-42-37" name="__codelineno-42-37"></a>
<a id="__codelineno-42-38" name="__codelineno-42-38"></a><span class="nx">About</span><span class="p">.</span><span class="nx">getLayout</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">page</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-42-39" name="__codelineno-42-39"></a><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<a id="__codelineno-42-40" name="__codelineno-42-40"></a><span class="w">  </span><span class="o">&lt;</span><span class="nx">PrimaryLayout</span><span class="o">&gt;</span>
<a id="__codelineno-42-41" name="__codelineno-42-41"></a><span class="w">    </span><span class="o">&lt;</span><span class="nx">SidebarLayout</span><span class="w"> </span><span class="o">/&gt;</span>
<a id="__codelineno-42-42" name="__codelineno-42-42"></a><span class="w">    </span><span class="p">{</span><span class="nx">page</span><span class="p">}</span>
<a id="__codelineno-42-43" name="__codelineno-42-43"></a><span class="w">  </span><span class="o">&lt;</span><span class="err">/PrimaryLayout&gt;</span>
<a id="__codelineno-42-44" name="__codelineno-42-44"></a><span class="p">);</span>
<a id="__codelineno-42-45" name="__codelineno-42-45"></a><span class="p">};</span>
</code></pre></div></td></tr></table></div></p>
<p>更新 <code>_app.tsx</code></p>
<p><code>pages/_app.tsx</code>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-43-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-43-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-43-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-43-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-43-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-43-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-43-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-43-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-43-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-43-10">10</a></span>
<span class="normal"><a href="#__codelineno-43-11">11</a></span>
<span class="normal"><a href="#__codelineno-43-12">12</a></span>
<span class="normal"><a href="#__codelineno-43-13">13</a></span>
<span class="normal"><a href="#__codelineno-43-14">14</a></span>
<span class="normal"><a href="#__codelineno-43-15">15</a></span>
<span class="normal"><a href="#__codelineno-43-16">16</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-43-1" name="__codelineno-43-1"></a><span class="k">import</span><span class="w"> </span><span class="nx">type</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">AppProps</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;next/app&#39;</span><span class="p">;</span>
<a id="__codelineno-43-2" name="__codelineno-43-2"></a><span class="k">import</span><span class="w"> </span><span class="s1">&#39;./globals.css&#39;</span><span class="p">;</span>
<a id="__codelineno-43-3" name="__codelineno-43-3"></a><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">NextPageWithLayout</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;./page&#39;</span><span class="p">;</span>
<a id="__codelineno-43-4" name="__codelineno-43-4"></a>
<a id="__codelineno-43-5" name="__codelineno-43-5"></a><span class="kr">interface</span><span class="w"> </span><span class="nx">AppPropsWithLayout</span><span class="w"> </span><span class="k">extends</span><span class="w"> </span><span class="nx">AppProps</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-43-6" name="__codelineno-43-6"></a><span class="w">  </span><span class="nx">Component</span><span class="o">:</span><span class="w"> </span><span class="nx">NextPageWithLayout</span><span class="p">;</span>
<a id="__codelineno-43-7" name="__codelineno-43-7"></a><span class="p">}</span>
<a id="__codelineno-43-8" name="__codelineno-43-8"></a>
<a id="__codelineno-43-9" name="__codelineno-43-9"></a><span class="kd">function</span><span class="w"> </span><span class="nx">MyApp</span><span class="p">({</span><span class="w"> </span><span class="nx">Component</span><span class="p">,</span><span class="w"> </span><span class="nx">pageProps</span><span class="w"> </span><span class="p">}</span><span class="o">:</span><span class="w"> </span><span class="nx">AppPropsWithLayout</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-43-10" name="__codelineno-43-10"></a><span class="w">    </span><span class="c1">// 如果这个 layout 是可用的，则在页面中使用 </span>
<a id="__codelineno-43-11" name="__codelineno-43-11"></a><span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">getLayout</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">Component</span><span class="p">.</span><span class="nx">getLayout</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="p">((</span><span class="nx">page</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">page</span><span class="p">);</span>
<a id="__codelineno-43-12" name="__codelineno-43-12"></a>
<a id="__codelineno-43-13" name="__codelineno-43-13"></a><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nx">getLayout</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">Component</span><span class="w"> </span><span class="p">{...</span><span class="nx">pageProps</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span><span class="p">);</span>
<a id="__codelineno-43-14" name="__codelineno-43-14"></a><span class="p">}</span>
<a id="__codelineno-43-15" name="__codelineno-43-15"></a>
<a id="__codelineno-43-16" name="__codelineno-43-16"></a><span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">MyApp</span><span class="p">;</span>
</code></pre></div></td></tr></table></div></p>
<p>最后我更新了 <code>PrimaryLayout.mocks.ts</code> 文件，为 <code>IPrimaryLayout</code> 添加了 <code>children: '{{ component }}’</code> 用于在 Storybook 中展示</p>
<p>同时我更新layout 的 story title 从 <code>templates/...</code>变成 <code>layouts/...</code></p>
<p>最后你可以保存测试一下<code>yarn dev</code></p>
<p>在侧边栏（ Home 和 about ）的按钮单击可以进行页面切换。 请注意，所使用的布局将持续存在而无需重新加载（正如我们的意图），并且用户将获得超快速的体验。</p>
<p><img src='images/013.webp' alt='13.png' /></p>
<p><img src='images/014.webp' alt='14.png' /></p>
<p>在 Storybook 这边，我们可以独立于应用预览和测试我们的 layout 组件。这个 PrimaryLayout 组件在没有自组件的情况下没有什么作用，而侧边栏则可以完美的显示。</p>
<p><img src='images/015.webp' alt='15.png' /></p>
<h2 id="service-worker">注册 Service Worker<a class="headerlink" href="#service-worker" title="Permanent link">&para;</a></h2>
<h3 id="webmanifest">后缀名<code>.webmanifest</code>文件<a class="headerlink" href="#webmanifest" title="Permanent link">&para;</a></h3>
<p><code>.webmanifest</code>是一个Web App清单文件的后缀名，用于定义Web应用程序的元数据，如名称、描述、图标和其他相关信息，以便能够将Web应用程序安装到设备上，就像本地应用程序一样。该文件通常位于Web应用程序的根目录下，并使用JSON格式编写。
<code>display</code>属性指定了Web应用程序如何以全屏模式显示在用户设备上的方式，例如<code>standalone</code>（独立窗口）、<code>fullscreen</code>（全屏）和<code>minimal-ui</code>（最小化UI）。
在<code>public</code>文件下，存在该目录，同时在主页面<code>link</code>中引入，就能实现打开一个链接，将这个链接保存到手机桌面，下次再次打开这个图标，就再次访问这个链接.</p>
<p>示范: <code>app/layout.tsx</code></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-44-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-44-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-44-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-44-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-44-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-44-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-44-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-44-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-44-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-44-10">10</a></span>
<span class="normal"><a href="#__codelineno-44-11">11</a></span>
<span class="normal"><a href="#__codelineno-44-12">12</a></span>
<span class="normal"><a href="#__codelineno-44-13">13</a></span>
<span class="normal"><a href="#__codelineno-44-14">14</a></span>
<span class="normal"><a href="#__codelineno-44-15">15</a></span>
<span class="normal"><a href="#__codelineno-44-16">16</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-44-1" name="__codelineno-44-1"></a>export default function RootLayout({
<a id="__codelineno-44-2" name="__codelineno-44-2"></a>  children,
<a id="__codelineno-44-3" name="__codelineno-44-3"></a>}: {
<a id="__codelineno-44-4" name="__codelineno-44-4"></a>  children: React.ReactNode;
<a id="__codelineno-44-5" name="__codelineno-44-5"></a>}) {
<a id="__codelineno-44-6" name="__codelineno-44-6"></a>  return (
<a id="__codelineno-44-7" name="__codelineno-44-7"></a>    &lt;html lang=&quot;en&quot;&gt;
<a id="__codelineno-44-8" name="__codelineno-44-8"></a>      &lt;head&gt;
<a id="__codelineno-44-9" name="__codelineno-44-9"></a>        &lt;meta name=&quot;config&quot; content={JSON.stringify(getClientConfig())} /&gt;
<a id="__codelineno-44-10" name="__codelineno-44-10"></a>        &lt;link rel=&quot;manifest&quot; href=&quot;/site.webmanifest&quot;&gt;&lt;/link&gt;
<a id="__codelineno-44-11" name="__codelineno-44-11"></a>        &lt;script src=&quot;/serviceWorkerRegister.js&quot; defer&gt;&lt;/script&gt;
<a id="__codelineno-44-12" name="__codelineno-44-12"></a>      &lt;/head&gt;
<a id="__codelineno-44-13" name="__codelineno-44-13"></a>      &lt;body&gt;{children}&lt;/body&gt;
<a id="__codelineno-44-14" name="__codelineno-44-14"></a>    &lt;/html&gt;
<a id="__codelineno-44-15" name="__codelineno-44-15"></a>  );
<a id="__codelineno-44-16" name="__codelineno-44-16"></a>}
</code></pre></div></td></tr></table></div>
<p><code>/site.webmanifest</code> <br />
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-45-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-45-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-45-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-45-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-45-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-45-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-45-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-45-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-45-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-45-10">10</a></span>
<span class="normal"><a href="#__codelineno-45-11">11</a></span>
<span class="normal"><a href="#__codelineno-45-12">12</a></span>
<span class="normal"><a href="#__codelineno-45-13">13</a></span>
<span class="normal"><a href="#__codelineno-45-14">14</a></span>
<span class="normal"><a href="#__codelineno-45-15">15</a></span>
<span class="normal"><a href="#__codelineno-45-16">16</a></span>
<span class="normal"><a href="#__codelineno-45-17">17</a></span>
<span class="normal"><a href="#__codelineno-45-18">18</a></span>
<span class="normal"><a href="#__codelineno-45-19">19</a></span>
<span class="normal"><a href="#__codelineno-45-20">20</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-45-1" name="__codelineno-45-1"></a><span class="p">{</span>
<a id="__codelineno-45-2" name="__codelineno-45-2"></a><span class="w">    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ChatGPT Next Web&quot;</span><span class="p">,</span>
<a id="__codelineno-45-3" name="__codelineno-45-3"></a><span class="w">    </span><span class="nt">&quot;short_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ChatGPT&quot;</span><span class="p">,</span>
<a id="__codelineno-45-4" name="__codelineno-45-4"></a><span class="w">    </span><span class="nt">&quot;icons&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-45-5" name="__codelineno-45-5"></a><span class="w">      </span><span class="p">{</span>
<a id="__codelineno-45-6" name="__codelineno-45-6"></a><span class="w">        </span><span class="nt">&quot;src&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/android-chrome-192x192.png&quot;</span><span class="p">,</span>
<a id="__codelineno-45-7" name="__codelineno-45-7"></a><span class="w">        </span><span class="nt">&quot;sizes&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;192x192&quot;</span><span class="p">,</span>
<a id="__codelineno-45-8" name="__codelineno-45-8"></a><span class="w">        </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;image/png&quot;</span>
<a id="__codelineno-45-9" name="__codelineno-45-9"></a><span class="w">      </span><span class="p">},</span>
<a id="__codelineno-45-10" name="__codelineno-45-10"></a><span class="w">      </span><span class="p">{</span>
<a id="__codelineno-45-11" name="__codelineno-45-11"></a><span class="w">        </span><span class="nt">&quot;src&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/android-chrome-512x512.png&quot;</span><span class="p">,</span>
<a id="__codelineno-45-12" name="__codelineno-45-12"></a><span class="w">        </span><span class="nt">&quot;sizes&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;512x512&quot;</span><span class="p">,</span>
<a id="__codelineno-45-13" name="__codelineno-45-13"></a><span class="w">        </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;image/png&quot;</span>
<a id="__codelineno-45-14" name="__codelineno-45-14"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-45-15" name="__codelineno-45-15"></a><span class="w">    </span><span class="p">],</span>
<a id="__codelineno-45-16" name="__codelineno-45-16"></a><span class="w">    </span><span class="nt">&quot;start_url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/&quot;</span><span class="p">,</span>
<a id="__codelineno-45-17" name="__codelineno-45-17"></a><span class="w">    </span><span class="nt">&quot;theme_color&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;#ffffff&quot;</span><span class="p">,</span>
<a id="__codelineno-45-18" name="__codelineno-45-18"></a><span class="w">    </span><span class="nt">&quot;background_color&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;#ffffff&quot;</span><span class="p">,</span>
<a id="__codelineno-45-19" name="__codelineno-45-19"></a><span class="w">    </span><span class="nt">&quot;display&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;standalone&quot;</span>
<a id="__codelineno-45-20" name="__codelineno-45-20"></a><span class="w">  </span><span class="p">}</span>
</code></pre></div></td></tr></table></div></p>
<h3 id="serviceworkerregister"><code>serviceWorkerRegister</code><a class="headerlink" href="#serviceworkerregister" title="Permanent link">&para;</a></h3>
<p>还需要设计下载操作 在<code>html</code>的<code>script</code>标签中引入<code>serviceWorkerRegister.js</code>, 
如<code>&lt;script src="/serviceWorkerRegister.js" defer&gt;&lt;/script&gt;</code></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-46-1">1</a></span>
<span class="normal"><a href="#__codelineno-46-2">2</a></span>
<span class="normal"><a href="#__codelineno-46-3">3</a></span>
<span class="normal"><a href="#__codelineno-46-4">4</a></span>
<span class="normal"><a href="#__codelineno-46-5">5</a></span>
<span class="normal"><a href="#__codelineno-46-6">6</a></span>
<span class="normal"><a href="#__codelineno-46-7">7</a></span>
<span class="normal"><a href="#__codelineno-46-8">8</a></span>
<span class="normal"><a href="#__codelineno-46-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-46-1" name="__codelineno-46-1"></a><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;serviceWorker&#39;</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nx">navigator</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-46-2" name="__codelineno-46-2"></a><span class="w">  </span><span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;load&#39;</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-46-3" name="__codelineno-46-3"></a><span class="w">    </span><span class="nx">navigator</span><span class="p">.</span><span class="nx">serviceWorker</span><span class="p">.</span><span class="nx">register</span><span class="p">(</span><span class="s1">&#39;/serviceWorker.js&#39;</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">registration</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-46-4" name="__codelineno-46-4"></a><span class="w">      </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;ServiceWorker registration successful with scope: &#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">registration</span><span class="p">.</span><span class="nx">scope</span><span class="p">);</span>
<a id="__codelineno-46-5" name="__codelineno-46-5"></a><span class="w">    </span><span class="p">},</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">err</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-46-6" name="__codelineno-46-6"></a><span class="w">      </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s1">&#39;ServiceWorker registration failed: &#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">);</span>
<a id="__codelineno-46-7" name="__codelineno-46-7"></a><span class="w">    </span><span class="p">});</span>
<a id="__codelineno-46-8" name="__codelineno-46-8"></a><span class="w">  </span><span class="p">});</span>
<a id="__codelineno-46-9" name="__codelineno-46-9"></a><span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h3 id="serviceworker"><code>serviceWorker</code><a class="headerlink" href="#serviceworker" title="Permanent link">&para;</a></h3>
<p>逻辑,其实是在window窗口<code>load</code>时继续加载<code>serviceWorker.js</code> 而<code>serviceWorker.js</code>的逻辑在窗口为活跃时,监听下载事件。</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-47-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-47-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-47-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-47-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-47-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-47-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-47-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-47-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-47-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-47-10">10</a></span>
<span class="normal"><a href="#__codelineno-47-11">11</a></span>
<span class="normal"><a href="#__codelineno-47-12">12</a></span>
<span class="normal"><a href="#__codelineno-47-13">13</a></span>
<span class="normal"><a href="#__codelineno-47-14">14</a></span>
<span class="normal"><a href="#__codelineno-47-15">15</a></span>
<span class="normal"><a href="#__codelineno-47-16">16</a></span>
<span class="normal"><a href="#__codelineno-47-17">17</a></span>
<span class="normal"><a href="#__codelineno-47-18">18</a></span>
<span class="normal"><a href="#__codelineno-47-19">19</a></span>
<span class="normal"><a href="#__codelineno-47-20">20</a></span>
<span class="normal"><a href="#__codelineno-47-21">21</a></span>
<span class="normal"><a href="#__codelineno-47-22">22</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-47-1" name="__codelineno-47-1"></a><span class="kd">const</span><span class="w"> </span><span class="nx">CHATGPT_WEB_CACHE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;chatgpt-vite-web&quot;</span><span class="p">;</span>
<a id="__codelineno-47-2" name="__codelineno-47-2"></a>
<a id="__codelineno-47-3" name="__codelineno-47-3"></a><span class="nx">self</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">&quot;activate&quot;</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">event</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-47-4" name="__codelineno-47-4"></a><span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;ServiceWorker activated.&quot;</span><span class="p">);</span>
<a id="__codelineno-47-5" name="__codelineno-47-5"></a><span class="p">});</span>
<a id="__codelineno-47-6" name="__codelineno-47-6"></a>
<a id="__codelineno-47-7" name="__codelineno-47-7"></a><span class="nx">self</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">&quot;install&quot;</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">event</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-47-8" name="__codelineno-47-8"></a><span class="w">  </span><span class="nx">event</span><span class="p">.</span><span class="nx">waitUntil</span><span class="p">(</span>
<a id="__codelineno-47-9" name="__codelineno-47-9"></a><span class="w">    </span><span class="nx">caches</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="nx">CHATGPT_WEB_CACHE</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">cache</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-47-10" name="__codelineno-47-10"></a><span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="nx">cache</span><span class="p">.</span><span class="nx">addAll</span><span class="p">([]);</span>
<a id="__codelineno-47-11" name="__codelineno-47-11"></a><span class="w">    </span><span class="p">}),</span>
<a id="__codelineno-47-12" name="__codelineno-47-12"></a><span class="w">  </span><span class="p">);</span>
<a id="__codelineno-47-13" name="__codelineno-47-13"></a><span class="p">});</span>
<a id="__codelineno-47-14" name="__codelineno-47-14"></a>
<a id="__codelineno-47-15" name="__codelineno-47-15"></a><span class="nx">self</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;fetch&#39;</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">event</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-47-16" name="__codelineno-47-16"></a><span class="w">  </span><span class="nx">event</span><span class="p">.</span><span class="nx">respondWith</span><span class="p">(</span>
<a id="__codelineno-47-17" name="__codelineno-47-17"></a><span class="w">    </span><span class="nx">caches</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">request</span><span class="p">)</span>
<a id="__codelineno-47-18" name="__codelineno-47-18"></a><span class="w">      </span><span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">response</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-47-19" name="__codelineno-47-19"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nx">response</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nx">fetch</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">request</span><span class="p">);</span>
<a id="__codelineno-47-20" name="__codelineno-47-20"></a><span class="w">      </span><span class="p">})</span>
<a id="__codelineno-47-21" name="__codelineno-47-21"></a><span class="w">  </span><span class="p">);</span>
<a id="__codelineno-47-22" name="__codelineno-47-22"></a><span class="p">});</span>
</code></pre></div></td></tr></table></div>
<h2 id="_10">部署<a class="headerlink" href="#_10" title="Permanent link">&para;</a></h2>
<p>最后一步将讲解如何部署一个 Next.js 应用</p>
<p>我们将使用 Vercel，因为它是 Next.js 应用程序最简单、最直接的部署解决方案。</p>
<p>请注意，Vercel 绝对不是唯一的选择，其他主要服务（如 <a href="https://aws.amazon.com/blogs/mobile/host-a-next-js-ssr-app-with-real-time-data-on-aws-amplify/">AWS</a>、<a href="https://www.netlify.com/with/nextjs/">Netlify</a> 等）也都可以使用。</p>
<p>假设你使用的不是 <a href="https://nextjs.org/docs/advanced-features/static-html-export">静态站点生成</a> 模式，那么实际上你仅仅需要找个服务来运行 <code>next start</code> 命令就行了</p>
<p>作为一个普通用户在 Vercel 上进行部署是完全免费的，我们需要从<a href="https://vercel.com/">创建账号</a>开始</p>
<p>登录后，单击 <code>+ New Project</code> 并授予 Vercel 访问你的 Github 仓库的权限。 你可以授予全局访问权限，也可以仅选择要部署的仓库。我将选择 <code>nextjs-fullstack-app-template-zn</code> 这个仓库。</p>
<p>选择它后，需要对其进行配置。 在 <code>Build and Output Settings</code> 部分，确保将默认的 NPM 命令替换为 yarn 命令（除非你使用的是 NPM）。</p>
<p><img src='images/next-configure_dtywld.png' /></p>
<p>我们还没有使用任何环境变量，所以不需要添加</p>
<p>一旦完成，只需单击 <code>Deploy</code> 即可！ 就这么简单。</p>
<p>现在不仅部署了站点，而且每次提交到主分支时，它都会继续自动重新部署。 如果你不想要这种行为，那么在 Vercel 仪表板中进行配置也很容易。</p>
<p>好消息是，你已经配置了 <code>yarn build</code> 命令以确保在推送代码之前构建有效的生产版本，因此可以自信地推送代码，并假设部署会成功。</p>
<p>唯一需要记住的是两个环境之间的差异。 如果你的脚本不同（使用 NPM 而不是 yarn 或反之亦然），或者更常见的情况是缺少环境变量，你的构建仍然有可能在本地成功但在 Vercel 上失败。</p>
<p>我们将在以后的教程中添加 env 值，因此你需要确保在本地和生产环境中都配置了这些值，因为它们是机密，永远不应提交给公共仓库。</p>
<h1 id="_11">下一步<a class="headerlink" href="#_11" title="Permanent link">&para;</a></h1>
<p>我希望你找到了本教程并学到了一些知识，为你和你的团队设置可靠且可扩展的 Next.js 项目。</p>
<p>这是关于创建生产高质量 Next.js 应用程序的系列教程的第一部分。</p>
<p>下面是我对未来教程的一些想法，我希望你能留下一些反馈，告诉我哪些是你认为最有用的（如果你没有在下面看到它们，则可以留下其他反馈）</p>
<ul>
<li>如何使用 API 路由和 Tailwind CSS 构建全栈 Next.js 应用程序</li>
<li>如何使用 Recoil 将全局状态管理器添加到 Next.js 应用程序</li>
<li>如何使用 jest 和 playwright 在 Next.js 应用程序中实施单元测试和端到端测试</li>
<li>如何使用 Github actions 和 Vercel 创建 CI/CD 流水线</li>
<li>如何使用 NextAuth 和 i18next 在 Next.js 应用程序中实现 SSO 身份验证和国际化</li>
<li>如何使用 Prisma 和 Supabase 将数据库连接到 Next.js 应用程序</li>
<li>如何使用 Next.js 和 Nx 在 monorepo 中管理多个应用程序</li>
</ul>
<h1 id="_12">其他<a class="headerlink" href="#_12" title="Permanent link">&para;</a></h1>
<ul>
<li>
<p><a href="https://github.com/zidanDirk/nextjs-fullstack-app-template-zn">代码仓库地址</a></p>
</li>
<li>
<p><a href="https://dev.to/alexeagleson/how-to-build-scalable-architecture-for-your-nextjs-project-2pb7">原文地址</a></p>
</li>
<li>
<p><a href="https://main--serene-cobbler-6d3ef4.netlify.app/">页面地址</a></p>
</li>
</ul>
<p>凡本网注明"来源：XXX "的文/图/视频等稿件，本网转载出于传递更多信息之目的，并不意味着赞同其观点或证实其内容的真实性。如涉及作品内容、版权和其它问题，请与本网联系，我们将在第一时间删除内容！ <br />
作者:  superZidan 
来源： <a href="https://juejin.cn/post/7194410416879960125">https://juejin.cn/post/7194410416879960125</a></p>


  




                
              </article>
            </div>
          
          
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            回到页面顶部
          </button>
        
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright md-footer-copyright-mid">
        
      </div>
      <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/autoadgeek" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://github.com/autoadgeek" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
</div>
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tabs", "navigation.instant", "navigation.sections", "navigation.expand", "navigation.path", "navigation.prune", "navigation.top", "toc.integrate"], "search": "../../../assets/javascripts/workers/search.a264c092.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.726fbb30.min.js"></script>
      
        <script src="../../../javascripts/config.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>